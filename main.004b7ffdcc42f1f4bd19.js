(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return a}));var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(u);c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("30Go"),o=n("qOnz"),s=n("q/0M"),a=n("/6Yf"),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),u=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new u},h=l("localStorage"),d=l("sessionStorage"),f=new s.b("@firebase/database"),p=(e=1,function(){return e++}),m=function(t){var e=Object(o.I)(t),n=new o.d;n.update(e);var r=n.digest();return o.h.encodeByteArray(r)},g=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=g.apply(null,i):n+="object"==typeof i?Object(o.J)(i):i,n+=" "}return n},y=null,v=!0,b=function(t,e){Object(o.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(f.logLevel=s.a.VERBOSE,y=f.log.bind(f),e&&d.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,d.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===v&&(v=!1,null===y&&!0===d.get("logging_enabled")&&b(!0)),y){var n=g.apply(null,t);y(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,Object(i.f)([t],e))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+g.apply(void 0,Object(i.f)(t));f.error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+g.apply(void 0,Object(i.f)(t));throw f.error(n),new Error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+g.apply(void 0,Object(i.f)(t));f.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",I="[MAX_NAME]",k=function(t,e){if(t===e)return 0;if(t===T||e===I)return-1;if(e===T||t===I)return 1;var n=G(t),r=G(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},x=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.J)(e))},R=function(t){if("object"!=typeof t||null===t)return Object(o.J)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(o.J)(e[i]),r+=":",r+=R(t[e[i]]);return r+"}"},D=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function P(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var N,j,M,L,F,U,V,B,q,H,z=function(t){var e,n,r,i,s;Object(o.f)(!S(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),u="";for(s=0;s<64;s+=8){var l=parseInt(c.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},K=new RegExp("^-?(0*)\\d{1,10}$"),G=function(t){if(K.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},W=function(t){try{t()}catch(e){setTimeout((function(){throw O("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},$=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Q=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=k(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Y=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.H)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(o.H)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(o.H)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),J=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X="websocket",Z="long_polling",tt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(Object(o.f)("string"==typeof t,"typeof type must == string"),Object(o.f)("object"==typeof e,"typeof params must == object"),t===X)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==Z)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return P(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}(),et=function(t,e){var n=nt(t),r=n.namespace;return"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new Q(n.pathString)}},nt=function(t){var e="",n="",r="",o="",s="",a=!0,c="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.h)(t.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):O("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,u=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:c,pathString:o,namespace:s}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,ot=10485760,st=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},at=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},ct=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&Object(o.k)(t,".sv")},ut=function(t,e,n,r,i){i&&void 0===n||lt(Object(o.o)(t,e,i),n,r)},lt=function(t,e,n){var r=n instanceof Q?new Y(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(S(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>ot/3&&Object(o.H)(e)>ot)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(P(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!st(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),lt(t,n,r),r.pop()})),i&&s)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ht=function(t,e,n,r,i){if(!i||void 0!==n){var s=Object(o.o)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];P(n,(function(t,e){var n=new Q(t);if(lt(s,e,r.child(n)),".priority"===n.getBack()&&!ct(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!st(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Q.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},dt=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(o.o)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ct(n))throw new Error(Object(o.o)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ft=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.o)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},pt=function(t,e,n,r){if(!(r&&void 0===n||st(n)))throw new Error(Object(o.o)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},mt=function(t,e,n,r){if(!(r&&void 0===n||at(n)))throw new Error(Object(o.o)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),mt(t,e,n,r)},yt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},vt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!st(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),at(t)}(r))throw new Error(Object(o.o)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},bt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.o)(t,e,r)+"must be a boolean.")},_t=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.K)("OnDisconnect.cancel",0,1,arguments.length),Object(o.L)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.K)("OnDisconnect.remove",0,1,arguments.length),yt("OnDisconnect.remove",this.path_),Object(o.L)("OnDisconnect.remove",1,t,!0);var e=new o.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.K)("OnDisconnect.set",1,2,arguments.length),yt("OnDisconnect.set",this.path_),ut("OnDisconnect.set",1,t,this.path_,!1),Object(o.L)("OnDisconnect.set",2,e,!0);var n=new o.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.K)("OnDisconnect.setWithPriority",2,3,arguments.length),yt("OnDisconnect.setWithPriority",this.path_),ut("OnDisconnect.setWithPriority",1,t,this.path_,!1),dt("OnDisconnect.setWithPriority",2,e,!1),Object(o.L)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.K)("OnDisconnect.update",1,2,arguments.length),yt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("OnDisconnect.update",1,t,this.path_,!1),Object(o.L)("OnDisconnect.update",2,e,!0);var i=new o.a;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),wt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ct=(N="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",j=0,M=[],function(t){var e,n=t===j;j=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=N.charAt(t%64),t=Math.floor(t/64);Object(o.f)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===M[e];e--)M[e]=0;M[e]++}else for(e=0;e<12;e++)M[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=N.charAt(M[e]);return Object(o.f)(20===i.length,"nextPushId: Length should be 20."),i}),Et=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Ot=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Et(T,t),r=new Et(T,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Et.MIN},t}(),St=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return L},set:function(t){L=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return k(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Et.MIN},e.prototype.maxPost=function(){return new Et(I,L)},e.prototype.makePost=function(t,e){return Object(o.f)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Et(t,L)},e.prototype.toString=function(){return".key"},e}(Ot),Tt=new St,It=function(t){return"number"==typeof t?"number:"+z(t):"string:"+t},kt=function(t){if(t.isLeafNode()){var e=t.val();Object(o.f)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.k)(e,".sv"),"Priority must be a string or number.")}else Object(o.f)(t===F||t.isEmpty(),"priority of unexpected type.");Object(o.f)(t===F||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},xt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.f)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),kt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return U},set:function(t){U=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.f)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+It(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?z(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.f)(i>=0,"Unknown leaf type: "+n),Object(o.f)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),At=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?k(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Et.MIN},e.prototype.maxPost=function(){return new Et(I,new xt("[PRIORITY-POST]",B))},e.prototype.makePost=function(t,e){var n=V(t);return new Et(e,new xt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Ot)),Rt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Dt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Nt.EMPTY_NODE,this.right=null!=o?o:Nt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Nt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Nt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Pt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Dt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Nt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Rt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Rt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Pt,t}(),jt=Math.log(2),Mt=function(){function t(t){this.count=parseInt(Math.log(t+1)/jt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Lt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Dt(s,o.node,Dt.BLACK,null,null);var c=parseInt(a/2,10)+e,u=i(e,c),l=i(c+1,r);return o=t[c],s=n?n(o):o,new Dt(s,o.node,Dt.BLACK,u,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var u=i(o+1,a),l=t[o],h=n?n(l):l;c(new Dt(h,l.node,r,null,u))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));l?a(h,Dt.BLACK):(a(h,Dt.BLACK),a(h,Dt.RED))}return o}(new Mt(t.length));return new Nt(r||e,o)},Ft={},Ut=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.f)(Ft&&At,"ChildrenNode.ts has not been loaded"),q=q||new t({".priority":Ft},{".priority":At})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Nt?e:null},t.prototype.hasIndex=function(t){return Object(o.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.f)(e!==Tt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,c=n.getIterator(Et.Wrap),u=c.getNext();u;)a=a||e.isDefinedOn(u.node),s.push(u),u=c.getNext();r=a?Lt(s,e.getCompare()):Ft;var l=e.toString(),h=Object(i.a)({},this.indexSet_);h[l]=e;var d=Object(i.a)({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.E)(this.indexes_,(function(t,i){var s=Object(o.G)(r.indexSet_,i);if(Object(o.f)(s,"Missing index implementation for "+i),t===Ft){if(s.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(Et.Wrap),u=c.getNext();u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Lt(a,s.getCompare())}return Ft}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Et(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.E)(this.indexes_,(function(t){if(t===Ft)return t;var r=n.get(e.name);return r?t.remove(new Et(e.name,r)):t})),this.indexSet_)},t}();function Vt(t,e){return k(t.name,e.name)}function Bt(t,e){return k(t,e)}var qt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&kt(this.priorityNode_),this.children_.isEmpty()&&Object(o.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return H||(H=new t(new Nt(Bt),null,Ut.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||H},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?H:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Et(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?H:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Object(o.f)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(At,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+It(this.getPriority().val())+":"),this.forEachChild(At,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Et(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Et(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Et(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Et.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Et.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ht?-1:0},t.prototype.withIndex=function(e){if(e===Tt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Tt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(At),r=e.getIterator(At),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Tt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ht=new(function(t){function e(){return t.call(this,new Nt(Bt),qt.EMPTY_NODE,Ut.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return qt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(qt));function zt(t,e){if(void 0===e&&(e=null),null===t)return qt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.f)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new xt(t,zt(e));if(t instanceof Array){var n=qt.EMPTY_NODE;return P(t,(function(e,r){if(Object(o.k)(t,e)&&"."!==e.substring(0,1)){var i=zt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(zt(e))}var r=[],i=!1;if(P(t,(function(t,e){if("."!==t.substring(0,1)){var n=zt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Et(t,n)))}})),0===r.length)return qt.EMPTY_NODE;var s=Lt(r,Vt,(function(t){return t.name}),Bt);if(i){var a=Lt(r,At.getCompare());return new qt(s,zt(e),new Ut({".priority":a},{".priority":At}))}return new qt(s,zt(e),Ut.Default)}Object.defineProperties(Et,{MIN:{value:new Et(T,qt.EMPTY_NODE)},MAX:{value:new Et(I,Ht)}}),St.__EMPTY_NODE=qt.EMPTY_NODE,xt.__childrenNodeConstructor=qt,F=Ht,B=Ht,V=zt;var Kt,Gt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?k(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Et.MIN},e.prototype.maxPost=function(){return Et.MAX},e.prototype.makePost=function(t,e){var n=zt(t);return new Et(e,n)},e.prototype.toString=function(){return".value"},e}(Ot)),Wt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.f)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?k(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=zt(t),r=qt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Et(e,r)},e.prototype.maxPost=function(){var t=qt.EMPTY_NODE.updateChild(this.indexPath_,Ht);return new Et(I,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Ot),$t=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.K)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.K)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.K)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.K)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),mt("DataSnapshot.child",1,e,!1);var n=new Q(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,At)},t.prototype.hasChild=function(t){Object(o.K)("DataSnapshot.hasChild",1,1,arguments.length),mt("DataSnapshot.hasChild",1,t,!1);var e=new Q(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.K)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.K)("DataSnapshot.forEach",1,1,arguments.length),Object(o.L)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),At))}))},t.prototype.hasChildren=function(){return Object(o.K)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.K)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.K)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Qt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.J)(this.snapshot.exportVal())},t}(),Yt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Jt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Qt("value",this,new $t(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Xt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.f)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Qt(t.type,this,new $t(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Zt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(Kt,"Reference.ts has not been loaded"),Kt},set:function(t){Kt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Tt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==T)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==I)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===At){if(null!=e&&!ct(e)||null!=n&&!ct(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.f)(t.getIndex()instanceof Wt||t.getIndex()===Gt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.K)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.K)("Query.on",2,4,arguments.length),ft("Query.on",1,e,!1),Object(o.L)("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Jt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Xt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(o.K)("Query.off",0,3,arguments.length),ft("Query.off",1,t,!0),Object(o.L)("Query.off",2,e,!0),Object(o.M)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var s=e||null;r=new Jt(s,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Xt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var s=this;Object(o.K)("Query.once",1,4,arguments.length),ft("Query.once",1,e,!1),Object(o.L)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),c=!0,u=new o.a;u.promise.catch((function(){}));var l=function(t){c&&(c=!1,s.off(e,l),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,l,(function(t){s.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(Object(o.K)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.K)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.K)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');mt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Q(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Wt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.K)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Tt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.K)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(At);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.K)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAt",0,2,arguments.length),ut("Query.startAt",1,e,this.path,!0),pt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endAt",0,2,arguments.length),ut("Query.endAt",1,e,this.path,!0),pt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.K)("Query.equalTo",1,2,arguments.length),ut("Query.equalTo",1,t,this.path,!1),pt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.K)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Object(o.K)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=R(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.L)(t,3,r.cancel,!0),r.context=n,Object(o.M)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.o)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),te=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ee=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ne=function(t,e,n){return t&&"object"==typeof t?(Object(o.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?re(t[".sv"],e,n):"object"==typeof t[".sv"]?ie(t[".sv"],e):void Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},re=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.f)(!1,"Unexpected server value: "+t)}},ie=function(t,e,n){t.hasOwnProperty("increment")||Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.f)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.f)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},oe=function(t,e,n,r){return ae(e,new ee(n,t),r)},se=function(t,e,n){return ae(t,new te(e),n)};function ae(t,e,n){var r,i=t.getPriority().val(),o=ne(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=ne(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new xt(a,zt(o)):t}var c=t;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new xt(o))),c.forEachChild(At,(function(t,i){var o=ae(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var ce,ue,le=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(At,(function(t,e){n.remember(new Q(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new Q(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),he=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),de=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Object(o.f)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),fe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=he.ACK_USER_WRITE,this.source=de.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Object(o.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Q(e));return new t(Q.Empty,n,this.revert)}return Object(o.f)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),pe=function(){function t(t,e){void 0===e&&(ce||(ce=new Nt(x)),e=ce),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return P(e,(function(t,e){n=n.set(new Q(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Q.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Q(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(Q.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Q.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Q.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Q.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),me=function(){function t(t,e){this.source=t,this.path=e,this.type=he.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Q.Empty):new t(this.source,this.path.popFront())},t}(),ge=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=he.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Q.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ye=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=he.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Q(e));return n.isEmpty()?null:n.value?new ge(this.source,Q.Empty,n.value):new t(this.source,Q.Empty,n)}return Object(o.f)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ve=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),be=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ve(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ve(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ve(qt.EMPTY_NODE,!1,!1),new ve(qt.EMPTY_NODE,!1,!1)),t}(),_e=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),we=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){Object(o.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(_e.childRemovedChange(e,a)):Object(o.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(_e.childAddedChange(e,n)):s.trackChildChange(_e.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(At,(function(t,r){e.hasChild(t)||n.trackChildChange(_e.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(At,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(_e.childChangedChange(e,r,i))}else n.trackChildChange(_e.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?qt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ce=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.f)(e===_e.CHILD_ADDED||e===_e.CHILD_CHANGED||e===_e.CHILD_REMOVED,"Only child changes supported for tracking"),Object(o.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===_e.CHILD_ADDED&&i===_e.CHILD_REMOVED)this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_ADDED)this.changeMap.delete(n);else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_CHANGED)this.changeMap.set(n,_e.childRemovedChange(n,r.oldSnap));else if(e===_e.CHILD_CHANGED&&i===_e.CHILD_ADDED)this.changeMap.set(n,_e.childAddedChange(n,t.snapshotNode));else{if(e!==_e.CHILD_CHANGED||i!==_e.CHILD_CHANGED)throw Object(o.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Ee=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Oe=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ve(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Se=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),Te=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(o.f)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.f)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s,a,c=new Ce;if(n.type===he.OVERWRITE){var u=n;u.source.fromUser?s=this.applyUserOverwrite_(e,u.path,u.snap,r,i,c):(Object(o.f)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),s=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,c))}else if(n.type===he.MERGE){var l=n;l.source.fromUser?s=this.applyUserMerge_(e,l.path,l.children,r,i,c):(Object(o.f)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,l.path,l.children,r,i,a,c))}else if(n.type===he.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(e,h.path,r,i,c):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,c)}else{if(n.type!==he.LISTEN_COMPLETE)throw Object(o.g)("Unknown operation type: "+n.type);s=this.listenComplete_(e,n.path,r,c)}var d=c.getChanges();return t.maybeAddValueEvent_(e,s,d),new Se(s,d)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_e.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,c=void 0;if(e.isEmpty())if(Object(o.f)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(u instanceof qt?u:qt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var d=e.getFront();if(".priority"===d){Object(o.f)(1===e.getLength(),"Can't have a priority with additional path components");var f=s.getNode();c=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,f,c);a=null!=p?this.filter_.updatePriority(f,p):s.getNode()}else{var m=e.popFront(),g=void 0;if(s.isCompleteForChild(d)){c=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),c);g=null!=y?s.getNode().getImmediateChild(d).updateChild(m,y):s.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,t.getServerCache());a=null!=g?this.filter_.updateChild(s.getNode(),d,g,m,r,i):s.getNode()}}return t.updateEventSnap(a,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,c=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=u.updateFullNode(c.getNode(),n,null);else if(u.filtersNodes()&&!c.isFiltered()){var l=c.getNode().updateChild(e,n);a=u.updateFullNode(c.getNode(),l,null)}else{var h=e.getFront();if(!c.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),f=c.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"===h?u.updatePriority(c.getNode(),f):u.updateChild(c.getNode(),h,f,d,Ee,null)}var p=t.updateServerSnap(a,c.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),m=new Oe(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,m,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,c=t.getEventCache(),u=new Oe(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,c.isFullyInitialized(),c.isFiltered());else{var h=e.popFront(),d=c.getNode().getImmediateChild(l),f=void 0;if(h.isEmpty())f=n;else{var p=u.getCompleteChild(l);f=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):qt.EMPTY_NODE}if(d.equals(f))s=t;else{var m=this.filter_.updateChild(c.getNode(),l,f,h,u,o);s=t.updateEventSnap(m,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,c=e;return r.foreach((function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(c=a.applyUserOverwrite_(c,l,u,i,o,s))})),r.foreach((function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(c=a.applyUserOverwrite_(c,l,u,i,o,s))})),c},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var c,u=t;c=e.isEmpty()?n:pe.Empty.setTree(e,n);var l=t.getServerCache().getNode();return c.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var c=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(c,n);u=a.applyServerOverwrite_(u,new Q(e),h,r,i,o,s)}})),c.children.inorderTraversal((function(e,n){var c=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!c){var h=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new Q(e),d,r,i,o,s)}})),u},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var c=pe.Empty;return a.getNode().forEachChild(Tt,(function(t,e){c=c.set(new Q(t),e)})),this.applyServerMerge_(t,e,c,r,i,s,o)}return t}var u=pe.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(u=u.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,u,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Ee,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var s;if(null!=n.shadowingWrite(e))return t;var a=new Oe(n,t,r),c=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Object(o.f)(h instanceof qt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(c,l=l,i)}else{var d=e.getFront(),f=n.calcCompleteChild(d,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(d)&&(f=c.getImmediateChild(d)),(u=null!=f?this.filter_.updateChild(c,d,f,e.popFront(),a,i):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(c,d,qt.EMPTY_NODE,e.popFront(),a,i):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,s,i))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Q.Empty),t.updateEventSnap(u,s,this.filter_.filtersNodes())},t}(),Ie=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===_e.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(_e.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,_e.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,_e.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,_e.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,_e.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,_e.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Object(o.g)("Should only compare child_ events.");var n=new Et(t.childName,t.snapshotNode),r=new Et(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),ke=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new we(n.getIndex()),i=n.getNodeFilter();this.processor_=new Te(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(qt.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(qt.EMPTY_NODE,s.getNode(),null),u=new ve(a,o.isFullyInitialized(),r.filtersNodes()),l=new ve(c,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new be(l,u),this.eventGenerator_=new Ie(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(o.f)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(s+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===he.MERGE&&null!==t.source.queryId&&(Object(o.f)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.f)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(o.f)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(At,(function(t,e){n.push(_e.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(_e.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),xe=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(ue,"Reference.ts has not been loaded"),ue},set:function(t){Object(o.f)(!ue,"__referenceConstructor has already been defined"),ue=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,s,a=t.source.queryId;if(null!==a){var c=this.views.get(a);return Object(o.f)(null!=c,"SyncTree gave us an op for an invalid query."),c.applyOperation(t,e,n)}var u=[];try{for(var l=Object(i.h)(this.views.values()),h=l.next();!h.done;h=l.next())u=u.concat((c=h.value).applyOperation(t,e,n))}catch(d){r={error:d}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return u},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),c=!1;a?c=!0:r instanceof qt?(a=n.calcCompleteEventChildren(r),c=!1):(a=qt.EMPTY_NODE,c=!1);var u=new be(new ve(a,c,!1),new ve(r,i,!1));s=new ke(t,u),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,s,a=e.queryIdentifier(),c=[],u=[],l=this.hasCompleteView();if("default"===a)try{for(var h=Object(i.h)(this.views.entries()),d=h.next();!d.done;d=h.next()){var f,p=Object(i.e)(d.value,2),m=p[0];u=u.concat((f=p[1]).removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(m),f.getQuery().getQueryParams().loadsAllData()||c.push(f.getQuery()))}}catch(g){o={error:g}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else(f=this.views.get(a))&&(u=u.concat(f.removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(a),f.getQuery().getQueryParams().loadsAllData()||c.push(f.getQuery())));return l&&!this.hasCompleteView()&&c.push(new t.__referenceConstructor(e.repo,e.path)),{removed:c,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(i.h)(this.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=Object(i.h)(this.views.values()),s=o.next();!s.done;s=o.next())r=r||s.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(i.h)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Ae=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new pe(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=Q.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new pe(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return P(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,pe.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Q.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(At,(function(e,n){t.push(new Et(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Et(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new pe(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(o.f)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=t(e.child(n),s,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(Q.Empty,this.writeTree_,t)},t.Empty=new t(new pe(null)),t}(),Re=function(){function t(){this.visibleWrites_=Ae.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new De(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(o.f)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(o.f)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Object(o.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,s=!1,a=this.allWrites_.length-1;i&&a>=0;){var c=this.allWrites_[a];c.visible&&(a>=n&&this.recordContainsPath_(c,r.path)?i=!1:r.path.contains(c.path)&&(s=!0)),a--}return!!i&&(s?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):P(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(Q.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||qt.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(Q.Empty)?a.apply(n||qt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=qt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(At,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(At,(function(t,e){var r=i.childCompoundWrite(new Q(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(o.f)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var s=this.visibleWrites_.childCompoundWrite(i);return s.isEmpty()?r.getChild(e):s.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),c=a.getCompleteNode(Q.Empty);if(null!=c)s=c;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&u.length<r;)0!==l(d,n)&&u.push(d),d=h.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Q.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Ae.Empty,i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,c=void 0;if(s.snap)n.contains(a)?(c=Q.relativePath(n,a),r=r.addWrite(c,s.snap)):a.contains(n)&&(c=Q.relativePath(a,n),r=r.addWrite(Q.Empty,s.snap.getChild(c)));else{if(!s.children)throw Object(o.g)("WriteRecord should have .snap or .children");if(n.contains(a))c=Q.relativePath(n,a),r=r.addWrites(c,s.children);else if(a.contains(n))if((c=Q.relativePath(a,n)).isEmpty())r=r.addWrites(Q.Empty,s.children);else{var u=Object(o.G)(s.children,c.getFront());if(u){var l=u.getChild(c.popFront());r=r.addWrite(Q.Empty,l)}}}}}return r},t}(),De=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Pe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=pe.Empty,this.pendingWriteTree_=new Re,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new ge(de.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=pe.fromObject(e);return this.applyOperationToSyncPoints_(new ye(de.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=pe.Empty;return null!=n.snap?r=r.set(Q.Empty,!0):P(n.children,(function(t,e){r=r.set(new Q(t),e)})),this.applyOperationToSyncPoints_(new fe(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ge(de.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=pe.fromObject(e);return this.applyOperationToSyncPoints_(new ye(de.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new me(de.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,c=Q.relativePath(s,e),u=new ge(de.forServerTaggedQuery(a),c,n);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,c=Q.relativePath(s,e),u=pe.fromObject(n),l=new ye(de.forServerTaggedQuery(a),c,u);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=Q.relativePath(o,e),c=new me(de.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,c)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Q.relativePath(t,r);i=i||e.getCompleteServerCache(n),s=s||e.hasCompleteView()}));var a,c=this.syncPointTree_.get(r);c?(s=s||c.hasCompleteView(),i=i||c.getCompleteServerCache(Q.Empty)):(c=new xe,this.syncPointTree_=this.syncPointTree_.set(r,c)),null!=i?a=!0:(a=!1,i=qt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(Q.Empty);n&&(i=i.updateImmediateChild(t,n))})));var u=c.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);Object(o.f)(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var d=this.pendingWriteTree_.childWrites(r),f=c.addEventRegistration(e,n,d,i,a);if(!u&&!s){var p=c.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var c=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=c.removed;a=c.events;var l=-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(d),p=0;p<f.length;++p){var m=f[p],g=m.getQuery(),y=this.createListenerForView_(m);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&u.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(u)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=Q.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),P(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),c=this.syncPointTree_.subtree(r);if(i)Object(o.f)(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),P(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<u.length;++l){var h=u[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||qt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return Object(o.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Q(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(o.f)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Q.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Q.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Q.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){var u=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,c,u,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Q.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Q.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,c=r.child(e),u=t.operationForChild(e);u&&(s=s.concat(i.applyOperationDescendantsHelper_(u,o,a,c)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Ne=function(){function t(){this.rootNode_=qt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),je=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.m)(this.counters_)},t}(),Me=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new je),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Le=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&P(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Fe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Le(t);var n=1e4+2e4*Math.random();$(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;P(e,(function(e,i){i>0&&Object(o.k)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),$(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ue=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ve(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ve=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();y&&_("event: "+e.toString()),W(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Be=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.f)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),qe=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Be),He=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.x)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Be),ze=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&W((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),Ke="start",Ge="close",We=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=Me.getCollection(e),this.urlFn=function(t){return e.connectionURL(Z,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ze(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(o.z)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new $e((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),o=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Ke)n.id=s,n.password=a;else{if(o!==Ge)throw new Error("Unrecognized command received: "+o);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),o=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&J.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.z)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.i)(e),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.z)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),$e=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){_("frame writing exception"),c.stack&&_(c.stack),_(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(o.z)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Qe="";function Ye(t){Qe=t}var Je=null;"undefined"!=typeof MozWebSocket?Je=MozWebSocket:"undefined"!=typeof WebSocket&&(Je=WebSocket);var Xe=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=Me.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.z)()&&"undefined"!=typeof location&&location.hostname&&J.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(X,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.z)()){var r={headers:{"User-Agent":"Firebase/5/"+Qe+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new Je(this.connURL,[],r)}else this.mySock=new Je(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(c){this.log_("Error instantiating WebSocket.");var a=c.message||c.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Je&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.D)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=D(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ze=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[We,Xe]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=Xe&&Xe.isAvailable(),s=o&&!Xe.previouslyFailed();if(e.webSocketOnly&&(o||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Xe];else{var a=this.transports_=[];try{for(var c=Object(i.h)(t.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),tn=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new Ze(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=$((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),en=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),nn=1e3,rn=function(t){function e(n,r,i,s,a,c,u){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=c,l.authOverride_=u,l.id=e.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=nn,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,u&&!Object(o.z)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),qe.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&He.getInstance().on("online",l.onOnline_,l),l}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.J)(i)),Object(o.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.f)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),t.onComplete&&t.onComplete(c,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.k)(t,"w")){var n=Object(o.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.C)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+Object(o.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,c=this.lastSessionId,u=!1,l=null,h=function(){l?l.close():(u=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.f)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then((function(t){u?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,l=new tn(s,a.repoInfo_,a.applicationId_,n,r,i,(function(t){O(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),c))})).then(null,(function(e){a.log_("Failed to get token: "+e),u||(t.repoInfo_.nodeAdmin&&O(e),h())}))}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.u)(this.interruptReasons_)&&(this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return R(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Q(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.h)(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var c=(n=void 0,Object(i.h)(a.values())),u=c.next();!u.done;u=c.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.z)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Qe.replace(/\./g,"-")]=1,Object(o.x)()?t["framework.cordova"]=1:Object(o.A)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=He.getInstance().currentlyOnline();return Object(o.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(en),on=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.f)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var c=e.getListenId_(t,r),u={};this.listens_[c]=u;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(o.G)(s.listens_,c)===u&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=t.getQueryParams().toRestQueryStringParameters(),r=t.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var s=i&&i.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.F)(e);r.log_("Sending REST request for "+a);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=Object(o.D)(c.responseText)}catch(e){O("Failed to parse JSON response for "+a+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&O("Got unsuccessful REST response for "+a+" Status: "+c.status),n(c.status);n=null}},c.open("GET",a,!0),c.send()}))},e}(en),sn="repo_interrupt",an=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new le,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=Me.getCollection(this.repoInfo_),this.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new on(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.J)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new rn(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=Me.getOrCreateReporter(this.repoInfo_,(function(){return new Fe(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Ne,this.infoSyncTree_=new Pe({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Pe({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Q(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(r)if(n){var a=Object(o.E)(e,(function(t){return zt(t)}));s=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var c=zt(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(i,c,r)}else if(n){var u=Object(o.E)(e,(function(t){return zt(t)}));s=this.serverSyncTree_.applyServerMerge(i,u)}else{var l=zt(e);s=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;s.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;P(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new Q("/.info/"+t),r=zt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this;return this.server_.get(t).then((function(n){var r=zt(n),i=e.serverSyncTree_.applyServerOverwrite(t.path,r);return e.eventQueue_.raiseEventsAtPath(t.path,i),Promise.resolve(new $t(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){e.log_("get for query "+Object(o.J)(t)+" falling back to cache after error: "+n);var r=e.serverSyncTree_.calcCompleteEventCache(t.path);return r.isEmpty()?Promise.reject(new Error(n)):Promise.resolve(new $t(r,t.getRef(),t.getQueryParams().getIndex()))}))},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=zt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),c=se(s,a,o),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,c,u,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||O("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(P(e,(function(e,n){i=!1,s[e]=oe(t.child(e),zt(n),r.serverSyncTree_,o)})),i)_("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||O("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),c=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(c,s),r.callOnCompleteCallback(n,e,i)})),P(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new le;this.onDisconnect_.forEachTree(Q.Empty,(function(r,i){var o=oe(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(Q.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new le,this.eventQueue_.raiseEventsForChangedPath(Q.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=zt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=zt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Object(o.u)(e))return _("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&P(e,(function(e,n){var i=zt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(sn)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(sn)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Le(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);P(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),_.apply(void 0,Object(i.f)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&W((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new bn(this))},enumerable:!1,configurable:!0}),t}(),cn=function(){function t(e){this.indexedFilter_=new we(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Et(e,n))||(n=qt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=qt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(qt.EMPTY_NODE);var i=this;return e.forEachChild(At,(function(t,e){i.matches(new Et(t,e))||(r=r.updateImmediateChild(t,qt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),un=function(){function t(t){this.rangedFilter_=new cn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Et(e,n))||(n=qt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=qt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(qt.EMPTY_NODE);var a=void 0,c=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,c)<=0?o++:r=r.updateImmediateChild(s.name,qt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var c=t;Object(o.f)(c.numChildren()===this.limit_,"");var u=new Et(e,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||c.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,u);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_e.childChangedChange(e,n,d)),c.updateImmediateChild(e,n);null!=i&&i.trackChildChange(_e.childRemovedChange(e,d));var m=c.updateImmediateChild(e,qt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(_e.childAddedChange(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}return n.isEmpty()?t:h&&s(l,u)>=0?(null!=i&&(i.trackChildChange(_e.childRemovedChange(l.name,l.node)),i.trackChildChange(_e.childAddedChange(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(l.name,qt.EMPTY_NODE)):t},t}(),ln=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=At}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==At&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===At},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new we(this.getIndex()):this.hasLimit()?new un(this):new cn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===At?e=n.PRIORITY_INDEX:this.index_===Gt?e=n.VALUE_INDEX:this.index_===Tt?e=n.KEY_INDEX:(Object(o.f)(this.index_ instanceof Wt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=Object(o.J)(e),this.startSet_&&(r[n.START_AT]=Object(o.J)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+Object(o.J)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Object(o.J)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+Object(o.J)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),hn=function(t){function e(e,n){if(!(e instanceof an))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,ln.DEFAULT,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(o.K)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Object(o.K)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Q||(null===this.path.getFront()?gt("Reference.child",1,t,!1):mt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Object(o.K)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.K)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(o.K)("Reference.set",1,2,arguments.length),yt("Reference.set",this.path),ut("Reference.set",1,t,this.path,!1),Object(o.L)("Reference.set",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.K)("Reference.update",1,2,arguments.length),yt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("Reference.update",1,t,this.path,!1),Object(o.L)("Reference.update",2,e,!0);var i=new o.a;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.K)("Reference.setWithPriority",2,3,arguments.length),yt("Reference.setWithPriority",this.path),ut("Reference.setWithPriority",1,t,this.path,!1),dt("Reference.setWithPriority",2,e,!1),Object(o.L)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.K)("Reference.remove",0,1,arguments.length),yt("Reference.remove",this.path),Object(o.L)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.K)("Reference.transaction",1,3,arguments.length),yt("Reference.transaction",this.path),Object(o.L)("Reference.transaction",1,t,!1),Object(o.L)("Reference.transaction",2,e,!0),bt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new wt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.K)("Reference.setPriority",1,2,arguments.length),yt("Reference.setPriority",this.path),dt("Reference.setPriority",1,t,!1),Object(o.L)("Reference.setPriority",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.K)("Reference.push",0,2,arguments.length),yt("Reference.push",this.path),ut("Reference.push",1,t,this.path,!0),Object(o.L)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Ct(r),s=this.child(i),a=this.child(i);return n=null!=t?s.set(t,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),s},e.prototype.onDisconnect=function(){return yt("Reference.onDisconnect",this.path),new _t(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Zt);Zt.__referenceConstructor=hn,xe.__referenceConstructor=hn;var dn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),fn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new dn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof Q?e:new Q(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,Object(o.G)(r.node_.children,i)||new dn),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(o.f)(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;P(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new Q(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(o.k)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),pn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});an.MAX_TRANSACTION_RETRIES_=25,an.prototype.transactionsInit_=function(){this.transactionQueueTree_=new fn},an.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},s=new hn(this,t);s.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:p(),applyLocally:r,retryCount:0,unwatcher:function(){s.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);a.currentInputSnapshot=c;var u=a.update(c.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new $t(a.currentInputSnapshot,new hn(this,a.path),At);a.onComplete(null,!1,l)}}else{lt("transaction failed: Data returned ",u,a.path),a.status=pn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(a),h.setValue(d);var f=void 0;"object"==typeof u&&null!==u&&Object(o.k)(u,".priority")?(f=Object(o.G)(u,".priority"),Object(o.f)(ct(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(this.serverSyncTree_.calcCompleteEventCache(t)||qt.EMPTY_NODE).getPriority().val(),f=f;var m=this.generateServerValues(),g=zt(u,f),y=se(g,c,m);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_()}},an.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||qt.EMPTY_NODE},an.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(o.f)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===pn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},an.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),s=i,a=i.hash(),c=0;c<e.length;c++){var u=e[c];Object(o.f)(u.status===pn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=pn.SENT,u.retryCount++;var l=Q.relativePath(t,u.path);s=s.updateChild(l,u.currentOutputSnapshotRaw)}var h=s.val(!0),d=t;this.server_.put(d.toString(),h,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=pn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,c=new hn(n,e[s].path),u=new $t(a,c,At);o.push(e[s].onComplete.bind(null,null,!0,u))}e[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),s=0;s<o.length;s++)W(o[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status=e[s].status===pn.SENT_NEEDS_ABORT?pn.NEEDS_ABORT:pn.RUN;else for(O("transaction at "+d.toString()+" failed: "+r),s=0;s<e.length;s++)e[s].status=pn.NEEDS_ABORT,e[s].abortReason=r;n.rerunTransactions_(t)}}),a)},an.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},an.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===pn.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var a=t[s],c=Q.relativePath(e,a.path),u=!1,l=void 0;if(Object(o.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===pn.NEEDS_ABORT)u=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===pn.RUN)if(a.retryCount>=an.MAX_TRANSACTION_RETRIES_)u=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var d=t[s].update(h.val());if(void 0!==d){lt("transaction failed: Data returned ",d,a.path);var f=zt(d);"object"==typeof d&&null!=d&&Object(o.k)(d,".priority")||(f=f.updatePriority(h.getPriority()));var p=a.currentWriteId,m=this.generateServerValues(),g=se(f,h,m);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,g,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else u=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],u&&(t[s].status=pn.COMPLETED,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete))if("nodata"===l){var y=new hn(this,t[s].path),v=new $t(t[s].currentInputSnapshot,y,At);n.push(t[s].onComplete.bind(null,null,!1,v))}else n.push(t[s].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),s=0;s<n.length;s++)W(n[s]);this.sendReadyTransactions_()}},an.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},an.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},an.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},an.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==pn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},an.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},an.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,s=0;s<e.length;s++)e[s].status===pn.SENT_NEEDS_ABORT||(e[s].status===pn.SENT?(Object(o.f)(i===s-1,"All SENT items should be at beginning of queue."),i=s,e[s].status=pn.SENT_NEEDS_ABORT,e[s].abortReason="set"):(Object(o.f)(e[s].status===pn.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),s=0;s<n.length;s++)W(n[s])}};var mn,gn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';O(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),yn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),vn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return mn||(mn=new t),mn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var c=(n=void 0,Object(i.h)(Object.keys(this.repos_[a]))),u=c.next();!u.done;u=c.next())this.repos_[a][u.value].interrupt()}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var c=(n=void 0,Object(i.h)(Object.keys(this.repos_[a]))),u=c.next();!u.done;u=c.next())this.repos_[a][u.value].resume()}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new tt(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new yn)},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,s=et(i,r),a=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a=(s=et(i="http://"+c+"?ns="+a.namespace,r)).repoInfo):o=!s.repoInfo.secure;var u=r&&o?new yn:new gn(t,e);return vt("Invalid Firebase Database URL",1,s),s.path.isEmpty()||E("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,u).database},t.prototype.deleteRepo=function(t){var e=Object(o.G)(this.repos_,t.app.name);e&&Object(o.G)(e,t.key)===t||E("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},t.prototype.createRepo=function(t,e,n){var r=Object(o.G)(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=Object(o.G)(r,t.toURLString());return i&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new an(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),bn=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,(function(){return Object(i.d)(this,(function(t){return this.checkDeleted_("delete"),vn.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof an||E("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new hn(this.repo_,Q.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?E("Cannot call useEmulator() after instance has already been initialized."):vn.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.K)("database.ref",0,1,arguments.length),t instanceof hn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.K)(e,1,1,arguments.length);var n=et(t,this.repo_.repoInfo_.nodeAdmin);vt(e,1,n);var r=n.repoInfo;return r.isCustomHost()||r.host===this.repo_.repoInfo_.host||E(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&E("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.K)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(o.K)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),_n=Object.freeze({__proto__:null,forceLongPolling:function(){Xe.forceDisallow(),We.forceAllow()},forceWebSockets:function(){We.forceDisallow()},isWebSocketsAvailable:function(){return Xe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,o=t.nodeAdmin,s=void 0!==o&&o;Ye(t.version);var c=new a.c("auth-internal",new a.b("database-standalone"));return c.setComponent(new a.a("auth-internal",(function(){return r}),"PRIVATE")),{instance:vn.getInstance().databaseFromApp(e,c,n,s),namespace:i}}}),wn=rn;rn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},rn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Cn=Object.freeze({__proto__:null,DataConnection:wn,RealTimeConnection:tn,hijackHash:function(t){var e=rn.prototype.put;return rn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){rn.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){vn.getInstance().forceRestClient(t)}}),En=bn.ServerValue;!function(e){Ye(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new a.a("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return vn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:hn,Query:Zt,Database:bn,DataSnapshot:$t,enableLogging:b,INTERNAL:_n,ServerValue:En,TEST_ACCESS:Cn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.8.2"),Object(o.z)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));let r=1;const i=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.2","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return No})),n.d(e,"b",(function(){return Du})),n.d(e,"c",(function(){return Iu})),n.d(e,"d",(function(){return Su})),n.d(e,"e",(function(){return Tu})),n.d(e,"f",(function(){return Ol})),n.d(e,"g",(function(){return dl})),n.d(e,"h",(function(){return go})),n.d(e,"i",(function(){return Hu})),n.d(e,"j",(function(){return ca})),n.d(e,"k",(function(){return ju})),n.d(e,"l",(function(){return ua})),n.d(e,"m",(function(){return _l})),n.d(e,"n",(function(){return Nn})),n.d(e,"o",(function(){return eu})),n.d(e,"p",(function(){return W})),n.d(e,"q",(function(){return h})),n.d(e,"r",(function(){return G})),n.d(e,"s",(function(){return Po})),n.d(e,"t",(function(){return ka})),n.d(e,"u",(function(){return xa})),n.d(e,"v",(function(){return Nu})),n.d(e,"w",(function(){return ut})),n.d(e,"x",(function(){return pl})),n.d(e,"y",(function(){return ct})),n.d(e,"z",(function(){return al})),n.d(e,"A",(function(){return Gu})),n.d(e,"B",(function(){return d})),n.d(e,"C",(function(){return Ru})),n.d(e,"D",(function(){return Au})),n.d(e,"E",(function(){return ru})),n.d(e,"F",(function(){return fa})),n.d(e,"G",(function(){return ha})),n.d(e,"H",(function(){return da})),n.d(e,"I",(function(){return ma})),n.d(e,"J",(function(){return Or})),n.d(e,"K",(function(){return p})),n.d(e,"L",(function(){return yl})),n.d(e,"M",(function(){return Pa})),n.d(e,"N",(function(){return tl})),n.d(e,"O",(function(){return vo})),n.d(e,"P",(function(){return ya})),n.d(e,"Q",(function(){return ga})),n.d(e,"R",(function(){return ja})),n.d(e,"S",(function(){return bt})),n.d(e,"T",(function(){return cl})),n.d(e,"U",(function(){return Xn})),n.d(e,"V",(function(){return R})),n.d(e,"W",(function(){return it})),n.d(e,"X",(function(){return Jn})),n.d(e,"Y",(function(){return Cl})),n.d(e,"Z",(function(){return rl})),n.d(e,"ab",(function(){return Pu})),n.d(e,"bb",(function(){return bo})),n.d(e,"cb",(function(){return Ja})),n.d(e,"db",(function(){return Cr})),n.d(e,"eb",(function(){return ir})),n.d(e,"fb",(function(){return qn})),n.d(e,"gb",(function(){return zn})),n.d(e,"hb",(function(){return $n})),n.d(e,"ib",(function(){return Gn})),n.d(e,"jb",(function(){return Kn})),n.d(e,"kb",(function(){return Wn})),n.d(e,"lb",(function(){return Wa})),n.d(e,"mb",(function(){return wl})),n.d(e,"nb",(function(){return $a})),n.d(e,"ob",(function(){return Qa})),n.d(e,"pb",(function(){return Hn})),n.d(e,"qb",(function(){return F})),n.d(e,"rb",(function(){return Ko})),n.d(e,"sb",(function(){return ds})),n.d(e,"tb",(function(){return hs})),n.d(e,"ub",(function(){return Ga})),n.d(e,"vb",(function(){return Xt})),n.d(e,"wb",(function(){return k})),n.d(e,"xb",(function(){return Bn})),n.d(e,"yb",(function(){return Lo})),n.d(e,"zb",(function(){return Kt})),n.d(e,"Ab",(function(){return oa})),n.d(e,"Bb",(function(){return zr})),n.d(e,"Cb",(function(){return Yo})),n.d(e,"Db",(function(){return Ps})),n.d(e,"Eb",(function(){return Qs})),n.d(e,"Fb",(function(){return Ys})),n.d(e,"Gb",(function(){return Ds})),n.d(e,"Hb",(function(){return gu})),n.d(e,"Ib",(function(){return Et})),n.d(e,"Jb",(function(){return At})),n.d(e,"Kb",(function(){return v})),n.d(e,"Lb",(function(){return b})),n.d(e,"Mb",(function(){return It})),n.d(e,"Nb",(function(){return Rt})),n.d(e,"Ob",(function(){return ts})),n.d(e,"Pb",(function(){return ss})),n.d(e,"Qb",(function(){return us})),n.d(e,"Rb",(function(){return cs})),n.d(e,"Sb",(function(){return as})),n.d(e,"Tb",(function(){return os})),n.d(e,"Ub",(function(){return is})),n.d(e,"Vb",(function(){return ls})),n.d(e,"Wb",(function(){return An})),n.d(e,"Xb",(function(){return Js})),n.d(e,"Yb",(function(){return Nc})),n.d(e,"Zb",(function(){return Lc})),n.d(e,"ac",(function(){return jc})),n.d(e,"bc",(function(){return Mc})),n.d(e,"cc",(function(){return rt})),n.d(e,"dc",(function(){return es})),n.d(e,"ec",(function(){return Ou})),n.d(e,"fc",(function(){return fs})),n.d(e,"gc",(function(){return bu})),n.d(e,"hc",(function(){return ze})),n.d(e,"ic",(function(){return He})),n.d(e,"jc",(function(){return gs})),n.d(e,"kc",(function(){return Qc})),n.d(e,"lc",(function(){return Yc})),n.d(e,"mc",(function(){return Jc})),n.d(e,"nc",(function(){return Xc})),n.d(e,"oc",(function(){return ws})),n.d(e,"pc",(function(){return vs})),n.d(e,"qc",(function(){return ns})),n.d(e,"rc",(function(){return Cs})),n.d(e,"sc",(function(){return Es})),n.d(e,"tc",(function(){return Bc})),n.d(e,"uc",(function(){return qc})),n.d(e,"vc",(function(){return Hc})),n.d(e,"wc",(function(){return zc})),n.d(e,"xc",(function(){return du})),n.d(e,"yc",(function(){return Zo})),n.d(e,"zc",(function(){return hn})),n.d(e,"Ac",(function(){return ve})),n.d(e,"Bc",(function(){return Sr})),n.d(e,"Cc",(function(){return kt})),n.d(e,"Dc",(function(){return yu})),n.d(e,"Ec",(function(){return fu})),n.d(e,"Fc",(function(){return Rs})),n.d(e,"Gc",(function(){return Xo})),n.d(e,"Hc",(function(){return Eu})),n.d(e,"Ic",(function(){return Ks})),n.d(e,"Jc",(function(){return Gs})),n.d(e,"Kc",(function(){return Ws})),n.d(e,"Lc",(function(){return $s})),n.d(e,"Mc",(function(){return pu}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function c(t){return{toString:t}.toString()}const u="__parameters__";function l(t,e,n){return c(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(u)?t[u]:Object.defineProperty(t,u,{value:[]})[u];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const h=l("Inject",t=>({token:t})),d=l("Optional"),f=l("Self"),p=l("SkipSelf");var m=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function _(t){return w(t,t[E])||w(t,t[T])}function w(t,e){return e&&e.token===t?e:null}function C(t){return t&&(t.hasOwnProperty(O)||t.hasOwnProperty(I))?t[O]:null}const E=g({"\u0275prov":g}),O=g({"\u0275inj":g}),S=g({"\u0275provFallback":g}),T=g({ngInjectableDef:g}),I=g({ngInjectorDef:g});function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function x(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const A=g({__forward_ref__:g});function R(t){return t.__forward_ref__=R,t.toString=function(){return k(this())},t}function D(t){return P(t)?t():t}function P(t){return"function"==typeof t&&t.hasOwnProperty(A)&&t.__forward_ref__===R}const N="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,M="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,L="undefined"!=typeof global&&global,F=N||L||j||M,U=g({"\u0275cmp":g}),V=g({"\u0275dir":g}),B=g({"\u0275pipe":g}),q=g({"\u0275mod":g}),H=g({"\u0275loc":g}),z=g({"\u0275fac":g}),K=g({__NG_ELEMENT_ID__:g});class G{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=v({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const W=new G("INJECTOR",-1),$={},Q=/\n/gm,Y="__source",J=g({provide:String,useValue:g});let X,Z=void 0;function tt(t){const e=Z;return Z=t,e}function et(t){const e=X;return X=t,e}function nt(t,e=m.Default){if(void 0===Z)throw new Error("inject() must be called from an injection context");return null===Z?ot(t,void 0,e):Z.get(t,e&m.Optional?null:void 0,e)}function rt(t,e=m.Default){return(X||nt)(D(t),e)}const it=rt;function ot(t,e,n){const r=_(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&m.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${k(t)}]`)}function st(t){const e=[];for(let n=0;n<t.length;n++){const r=D(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=m.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof d||"Optional"===i.ngMetadataName||i===d?n|=m.Optional:i instanceof p||"SkipSelf"===i.ngMetadataName||i===p?n|=m.SkipSelf:i instanceof f||"Self"===i.ngMetadataName||i===f?n|=m.Self:t=i instanceof h||i===h?i.token:i}e.push(rt(t,n))}else e.push(rt(r))}return e}class at{get(t,e=$){if(e===$){const e=new Error(`NullInjectorError: No provider for ${k(t)}!`);throw e.name="NullInjectorError",e}return e}}class ct{}class ut{}function lt(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function ht(t,e){t.forEach(t=>Array.isArray(t)?ht(t,e):e(t))}function dt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ft(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function mt(t,e,n){let r=yt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gt(t,e){const n=yt(t,e);if(n>=0)return t[1|n]}function yt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var vt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),bt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const _t={},wt=[];let Ct=0;function Et(t){return c(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||wt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||bt.Emulated,id:"c",styles:t.styles||wt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Ct++,n.inputs=xt(t.inputs,e),n.outputs=xt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ot):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(St):null,n})}function Ot(t){return Dt(t)||function(t){return t[V]||null}(t)}function St(t){return function(t){return t[B]||null}(t)}const Tt={};function It(t){const e={type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c(()=>{Tt[t.id]=t.type}),e}function kt(t,e){return c(()=>{const n=Nt(t,!0);n.declarations=e.declarations||wt,n.imports=e.imports||wt,n.exports=e.exports||wt})}function xt(t,e){if(null==t)return _t;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const At=Et;function Rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dt(t){return t[U]||null}function Pt(t,e){return t.hasOwnProperty(z)?t[z]:null}function Nt(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${k(t)} does not have '\u0275mod' property.`);return n}const jt=20,Mt=10;function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function Ut(t){return 0!=(8&t.flags)}function Vt(t){return 2==(2&t.flags)}function Bt(t){return 1==(1&t.flags)}function qt(t){return null!==t.template}function Ht(t){return 0!=(512&t[2])}class zt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Kt(){return Gt}function Gt(t){return t.type.prototype.ngOnChanges&&(t.setInput=$t),Wt}function Wt(){const t=Qt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===_t)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function $t(t,e,n,r){const i=Qt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:_t,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new zt(c&&c.currentValue,e,s===_t),t[r]=e}function Qt(t){return t.__ngSimpleChanges__||null}Kt.ngInherit=!0;const Yt="http://www.w3.org/2000/svg";let Jt=void 0;function Xt(t){Jt=t}function Zt(){return void 0!==Jt?Jt:"undefined"!=typeof document?document:void 0}function te(t){return!!t.listen}const ee={createRenderer:(t,e)=>Zt()};function ne(t){for(;Array.isArray(t);)t=t[0];return t}function re(t,e){return ne(e[t+jt])}function ie(t,e){return ne(e[t.index])}function oe(t,e){return t.data[e+jt]}function se(t,e){return t[e+jt]}function ae(t,e){const n=e[t];return Lt(n)?n:n[0]}function ce(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ue(t){return 4==(4&t[2])}function le(t){return 128==(128&t[2])}function he(t,e){return null===t||null==e?null:t[e]}function de(t){t[18]=0}function fe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const pe={lFrame:Me(null),bindingsEnabled:!0,checkNoChangesMode:!1};function me(){return pe.bindingsEnabled}function ge(){return pe.lFrame.lView}function ye(){return pe.lFrame.tView}function ve(t){pe.lFrame.contextLView=t}function be(){return pe.lFrame.currentTNode}function _e(t,e){pe.lFrame.currentTNode=t,pe.lFrame.isParent=e}function we(){return pe.lFrame.isParent}function Ce(){pe.lFrame.isParent=!1}function Ee(){return pe.checkNoChangesMode}function Oe(t){pe.checkNoChangesMode=t}function Se(){const t=pe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Te(){return pe.lFrame.bindingIndex}function Ie(){return pe.lFrame.bindingIndex++}function ke(t){const e=pe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function xe(t,e){const n=pe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ae(e)}function Ae(t){pe.lFrame.currentDirectiveIndex=t}function Re(){return pe.lFrame.currentQueryIndex}function De(t){pe.lFrame.currentQueryIndex=t}function Pe(t,e){const n=je();pe.lFrame=n,n.currentTNode=e,n.lView=t}function Ne(t){const e=je(),n=t[1];pe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function je(){const t=pe.lFrame,e=null===t?null:t.child;return null===e?Me(t):e}function Me(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Le(){const t=pe.lFrame;return pe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Fe=Le;function Ue(){const t=Le();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ve(){return pe.lFrame.selectedIndex}function Be(t){pe.lFrame.selectedIndex=t}function qe(){const t=pe.lFrame;return oe(t.tView,t.selectedIndex)}function He(){pe.lFrame.currentNamespace=Yt}function ze(){pe.lFrame.currentNamespace=null}function Ke(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ge(t,e,n){Qe(t,e,3,n)}function We(t,e,n,r){(3&t[2])===n&&Qe(t,e,n,r)}function $e(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Qe(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ye(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Ye(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Je=-1;class Xe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ze(t,e,n){const r=te(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];en(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function tn(t){return 3===t||4===t||6===t}function en(t){return 64===t.charCodeAt(0)}function nn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||rn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function rn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function on(t){return t!==Je}function sn(t){return 32767&t}function an(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function cn(t){return"string"==typeof t?t:null==t?"":""+t}function un(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():cn(t)}const ln=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F))();function hn(t){return{name:"body",target:t.ownerDocument.body}}function dn(t){return t instanceof Function?t():t}let fn=!0;function pn(t){const e=fn;return fn=t,e}let mn=0;function gn(t,e){const n=vn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,yn(r.data,t),yn(e,null),yn(r.blueprint,null));const i=bn(t,e),o=t.injectorIndex;if(on(i)){const t=sn(i),n=an(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function yn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function vn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function bn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Je;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Je}function _n(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(K)&&(r=n[K]),null==r&&(r=n[K]=mn++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function wn(t,e,n,r=m.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(K)?t[K]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Pe(e,t);try{const t=i();if(null!=t||r&m.Optional)return t;throw new Error(`No provider for ${un(n)}!`)}finally{Fe()}}else if("number"==typeof i){if(-1===i)return new kn(t,e);let o=null,s=vn(t,e),a=Je,c=r&m.Host?e[16][6]:null;for((-1===s||r&m.SkipSelf)&&(a=-1===s?bn(t,e):e[s+8],a!==Je&&In(r,!1)?(o=e[1],s=sn(a),e=an(a,e)):s=-1);-1!==s;){const t=e[1];if(Tn(i,s,t.data)){const t=En(s,e,n,o,r,c);if(t!==Cn)return t}a=e[s+8],a!==Je&&In(r,e[1].data[s+8]===c)&&Tn(i,s,e)?(o=t,s=sn(a),e=an(a,e)):s=-1}}}if(r&m.Optional&&void 0===i&&(i=null),0==(r&(m.Self|m.Host))){const t=e[9],o=et(void 0);try{return t?t.get(n,i,r&m.Optional):ot(n,i,r&m.Optional)}finally{et(o)}}if(r&m.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${un(n)}]`)}const Cn={};function En(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=On(a,s,n,null==r?Vt(a)&&fn:r!=s&&2===a.type,i&m.Host&&o===a);return null!==c?Sn(e,s,c,a):Cn}function On(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&qt(t)&&t.type===n)return c}return null}function Sn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Xe){const s=i;if(s.resolving)throw new Error("Circular dep for "+un(o[n]));const a=pn(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?et(s.injectImpl):null;Pe(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Gt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&et(c),pn(a),s.resolving=!1,Fe()}}return i}function Tn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function In(t,e){return!(t&m.Self||t&m.Host&&e)}class kn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return wn(this._tNode,this._lView,t,void 0,e)}}function xn(t){const e=t;if(P(t))return()=>{const t=xn(D(e));return t?t():null};let n=Pt(e);if(null===n){const t=C(e);n=t&&t.factory}return n||null}function An(t){return c(()=>{const e=t.prototype.constructor,n=e[z]||xn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[z]||xn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Rn(t){return t.ngDebugContext}function Dn(t){return t.ngOriginalError}function Pn(t,...e){t.error(...e)}class Nn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Pn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Rn(t)?Rn(t):this._findContext(Dn(t)):null}_findOriginalError(t){let e=Dn(t);for(;e&&Dn(e);)e=Dn(e);return e}}class jn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Mn extends jn{getTypeName(){return"HTML"}}class Ln extends jn{getTypeName(){return"Style"}}class Fn extends jn{getTypeName(){return"Script"}}class Un extends jn{getTypeName(){return"URL"}}class Vn extends jn{getTypeName(){return"ResourceURL"}}function Bn(t){return t instanceof jn?t.changingThisBreaksApplicationSecurity:t}function qn(t,e){const n=Hn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Hn(t){return t instanceof jn&&t.getTypeName()||null}function zn(t){return new Mn(t)}function Kn(t){return new Ln(t)}function Gn(t){return new Fn(t)}function Wn(t){return new Un(t)}function $n(t){return new Vn(t)}let Qn=!0,Yn=!1;function Jn(){return Yn=!0,Qn}function Xn(){if(Yn)throw new Error("Cannot enable prod mode after platform setup.");Qn=!1}function Zn(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new tr:new er(t)}class tr{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class er{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ir(t){return(t=String(t)).match(nr)||t.match(rr)?t:(Jn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function or(t){return(t=String(t)).split(",").map(t=>ir(t.trim())).join(", ")}function sr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ar(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const cr=sr("area,br,col,hr,img,wbr"),ur=sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lr=sr("rp,rt"),hr=ar(lr,ur),dr=ar(cr,ar(ur,sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ar(lr,sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hr),fr=sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pr=sr("srcset"),mr=ar(fr,pr,sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gr=sr("script,style,template");class yr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!dr.hasOwnProperty(e))return this.sanitizedSomething=!0,!gr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!mr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;fr[i]&&(o=ir(o)),pr[i]&&(o=or(o)),this.buf.push(" ",e,'="',_r(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();dr.hasOwnProperty(e)&&!cr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(_r(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const vr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,br=/([^\#-~ |!])/g;function _r(t){return t.replace(/&/g,"&amp;").replace(vr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(br,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wr;function Cr(t,e){let n=null;try{wr=wr||Zn(t);let r=e?String(e):"";n=wr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=wr.getInertBodyElement(r)}while(r!==o);const s=new yr,a=s.sanitizeChildren(Er(n)||n);return Jn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Er(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Er(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Or=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Sr(t){const e=function(){const t=ge();return t&&t[12]}();return e?e.sanitize(Or.URL,t)||"":qn(t,"URL")?Bn(t):ir(cn(t))}function Tr(t,e){t.__ngContext__=e}function Ir(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const kr="ng-template";function xr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Ir(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ar(t){return 0===t.type&&t.tagName!==kr}function Rr(t,e,n){return e===(0!==t.type||n?t.tagName:kr)}function Dr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(tn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Rr(t,c,n)||""===c&&1===e.length){if(Pr(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!xr(t.attrs,u,n)){if(Pr(r))return!1;s=!0}continue}const l=Nr(8&r?"class":c,i,Ar(t),n);if(-1===l){if(Pr(r))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Ir(e,u,0)||2&r&&u!==t){if(Pr(r))return!1;s=!0}}}}else{if(!s&&!Pr(r)&&!Pr(c))return!1;if(s&&Pr(c))continue;s=!1,r=c|1&r}}return Pr(r)||s}function Pr(t){return 0==(1&t)}function Nr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function jr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Dr(t,e[r],n))return!0;return!1}function Mr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Lr(t,e){return t?":not("+e.trim()+")":e}function Fr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Pr(s)||(e+=Lr(o,i),i=""),r=s,o=o||!Pr(r);n++}return""!==i&&(e+=Lr(o,i)),e}const Ur={};function Vr(t){const e=t[3];return Ft(e)?e[3]:e}function Br(t){return Hr(t[13])}function qr(t){return Hr(t[4])}function Hr(t){for(;null!==t&&!Ft(t);)t=t[4];return t}function zr(t){Kr(ye(),ge(),Ve()+t,Ee())}function Kr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ge(e,r,n)}else{const r=t.preOrderHooks;null!==r&&We(e,r,0,n)}Be(n)}function Gr(t,e){return t<<17|e<<2}function Wr(t){return t>>17&32767}function $r(t){return 2|t}function Qr(t){return(131068&t)>>2}function Yr(t,e){return-131069&t|e<<2}function Jr(t){return 1|t}function Xr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];De(i),n.contentQueries(2,e[o],o)}}}function Zr(t,e,n){return te(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ti(t,e,n,r,i,o,s,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,de(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ei(t,e,n,r,i){const o=e+jt,s=t.data[o]||function(t,e,n,r,i){const o=be(),s=we(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return _e(s,!0),s}function ni(t,e,n){Ne(e);try{const r=t.viewQuery;null!==r&&Ni(1,r,n);const i=t.template;null!==i&&oi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Xr(t,e),t.staticViewQueries&&Ni(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)xi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ue()}}function ri(t,e,n,r){const i=e[2];if(256==(256&i))return;Ne(e);const o=Ee();try{de(e),pe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&oi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ge(e,n,null)}else{const n=t.preOrderHooks;null!==n&&We(e,n,0,null),$e(e,0)}if(function(t){for(let e=Br(t);null!==e;e=qr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&fe(r,1),n[2]|=1024}}}(e),function(t){for(let e=Br(t);null!==e;e=qr(e))for(let t=Mt;t<e.length;t++){const n=e[t],r=n[1];le(n)&&ri(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Xr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ge(e,n)}else{const n=t.contentHooks;null!==n&&We(e,n,1),$e(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Be(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(xe(r,i),s(2,e[i])),i++)}}}finally{Be(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ki(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Ni(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ge(e,n)}else{const n=t.viewHooks;null!==n&&We(e,n,2),$e(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,fe(e[3],-1))}finally{Ue()}}function ii(t,e,n,r){const i=e[10],o=!Ee(),s=ue(e);try{o&&!s&&i.begin&&i.begin(),s&&ni(t,e,r),ri(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function oi(t,e,n,r,i){const o=Ve();try{Be(-1),2&r&&e.length>jt&&Kr(t,e,0,Ee()),n(r,i)}finally{Be(o)}}function si(t,e,n){if(Ut(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ai(t,e,n){me()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||gn(n,e),Tr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=qt(r);o&&Ei(e,n,r);const c=Sn(e,t,a,n);Tr(c,e),null!==s&&Si(0,a-i,c,r,0,s),o&&(ae(n.index,e)[8]=c)}}(t,e,n,ie(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-jt,c=pe.lFrame.currentDirectiveIndex;try{Be(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ae(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?yi(r,i):s&&o.push(null)}}finally{Be(-1),Ae(c)}}(t,e,n))}function ci(t,e,n=ie){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ui(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=li(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function li(t,e,n,r,i,o,s,a,c,u){const l=jt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ur);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function hi(t,e,n,r){const i=Mi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function di(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function fi(t,e,n,r,i,o,s,a){const c=ie(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Fi(t,n,u,r,i),Vt(e)&&function(t,e){const n=ae(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,te(o)?o.setProperty(c,r,i):en(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function pi(t,e,n,r){let i=!1;if(me()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];jr(n,s.selectors,!1)&&(i||(i=[]),_n(gn(n,e),t,s.type),qt(s)?(bi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,wi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}vi(t,n,o.length);let a=!1,c=!1;for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=nn(n.mergedAttrs,u.hostAttrs),Ci(t,e,u),_i(t.data.length-1,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-jt),a=!0),c||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-jt),c=!0),mi(t,u),r+=u.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||Ar(e)?null:Ti(n,i);o.push(u),s=di(n,c,s),a=di(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),gi(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=nn(n.mergedAttrs,n.attrs),i}function mi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function gi(t,e,n){for(let r=0;r<n;r++)e.push(Ur),t.blueprint.push(Ur),t.data.push(null)}function yi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function vi(t,e,n){const r=jt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function bi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function _i(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qt(e)&&(n[""]=t)}}function wi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ci(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Pt(n.type)),i=new Xe(r,qt(n),null);t.blueprint.push(i),e.push(i)}function Ei(t,e,n){const r=ie(e,t),i=ui(n),o=t[10],s=Ai(t,ti(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Oi(t,e,n,r,i,o){const s=ie(t,e),a=e[11];if(null==r)te(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?cn(r):i(r,t.tagName||"",n);te(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}function Si(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ti(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ii(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ki(t,e){const n=ae(e,t);if(le(n)){const t=n[1];80&n[2]?ri(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Br(e);null!==r;r=qr(r))for(let e=Mt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];ri(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ae(n[r],e);le(i)&&i[5]>0&&t(i)}}(n)}}function xi(t,e){const n=ae(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ni(r,n,n[8])}function Ai(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ri(t){for(;t;){t[2]|=64;const e=Vr(t);if(Ht(t)&&!e)return t;t=e}return null}function Di(t,e,n){const r=e[10];r.begin&&r.begin();try{ri(t,e,t.template,n)}catch(i){throw Li(e,i),i}finally{r.end&&r.end()}}function Pi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ce(n),i=r[1];ii(i,r,i.template,n)}}(t[8])}function Ni(t,e,n){De(0),e(t,n)}const ji=(()=>Promise.resolve(null))();function Mi(t){return t[7]||(t[7]=[])}function Li(t,e){const n=t[9],r=n?n.get(Nn,null):null;r&&r.handleError(e)}function Fi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Ui(t,e,n){const r=re(e,t),i=t[11];te(i)?i.setValue(r,n):r.textContent=n}function Vi(t,e,n,r,i){if(null!=r){let o,s=!1;Ft(r)?o=r:Lt(r)&&(s=!0,r=r[0]);const a=ne(r);0===t&&null!==n?null==i?$i(e,n,a):Wi(e,n,a,i||null):1===t&&null!==n?Wi(e,n,a,i||null):2===t?Zi(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ne(n)&&Vi(e,t,r,o,i);for(let s=Mt;s<n.length;s++){const i=n[s];eo(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Bi(t,e){return te(e)?e.createText(t):e.createTextNode(t)}function qi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,fe(i,-1)),n.splice(r,1)}function Hi(t,e){if(t.length<=Mt)return;const n=Mt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&qi(o,r),e>0&&(t[n-1][4]=r[4]);const s=ft(t,Mt+e);eo(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function zi(t,e){if(!(256&e[2])){const n=e[11];te(n)&&n.destroyNode&&eo(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ki(t[1],t);for(;e;){let n=null;if(Lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&Ki(e[1],e),e=e[3];null===e&&(e=t),Lt(e)&&Ki(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ki(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Xe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):ne(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&te(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Ft(e[3])){n!==e[3]&&qi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Gi(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return ie(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==bt.ShadowDom&&n!==bt.Native)return null}return ie(r,n)}function Wi(t,e,n,r){te(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function $i(t,e,n){te(t)?t.appendChild(e,n):e.appendChild(n)}function Qi(t,e,n,r){null!==r?Wi(t,e,n,r):$i(t,e,n)}function Yi(t,e){return te(t)?t.parentNode(e):e.parentNode}function Ji(t,e){return 3===t.type||4===t.type?ie(t,e):null}function Xi(t,e,n,r){const i=Gi(t,r,e);if(null!=i){const t=e[11],o=Ji(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Qi(t,i,n[e],o);else Qi(t,i,n,o)}}function Zi(t,e,n){const r=Yi(t,e);r&&function(t,e,n,r){te(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function to(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&Tr(ne(a),r),n.flags|=4),64!=(64&n.flags)&&(3===c||4===c?(to(t,e,n.child,r,i,o,!1),Vi(e,t,i,a,o)):1===c?ro(t,e,r,n,i,o):Vi(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function eo(t,e,n,r,i,o){to(n,r,t.firstChild,e,i,o,!1)}function no(t,e,n){ro(e[11],0,e,n,Gi(t,n,e),Ji(n.parent||e[6],e))}function ro(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Vi(e,t,i,a[c],o);else to(t,e,a,s[3],i,o,!0)}function io(t,e,n){te(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function oo(t,e,n){te(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class so{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(ne(s)),Ft(s))for(let e=Mt;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Vr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}zi(this._lView[1],this._lView)}onDestroy(t){hi(this._lView[1],this._lView,null,t)}markForCheck(){Ri(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Di(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Oe(!0);try{Di(t,e,n)}finally{Oe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,eo(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ao extends so{constructor(t){super(t),this._view=t}detectChanges(){Pi(this._view)}checkNoChanges(){!function(t){Oe(!0);try{Pi(t)}finally{Oe(!1)}}(this._view)}get context(){return null}}let co,uo,lo;function ho(t,e,n){return co||(co=class extends t{}),new co(ie(e,n))}function fo(t,e,n,r){return uo||(uo=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ti(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ni(e,n,t),new so(n)}}),0===n.type?new uo(r,n,ho(e,n,r)):null}function po(t,e,n,r){let i;lo||(lo=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return ho(e,this._hostTNode,this._hostView)}get injector(){return new kn(this._hostTNode,this._hostView)}get parentInjector(){const t=bn(this._hostTNode,this._hostView);if(on(t)){const e=an(t,this._hostView),n=sn(t);return new kn(e[1].data[n+8],e)}return new kn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ct,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new lo(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Mt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Mt?(e[4]=n[i],dt(n,Mt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=Mt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return ie(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Ft(e)?t(-1,e):ne(e)}}{const t=n[16],i=t[6],o=Vr(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],c=Yi(a,o[7]);return null!==c&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,eo(t,r,n,1,i,o)}(r,o[6],a,n,c,s),t.attachToViewContainerRef(this),dt(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Hi(this._lContainer,e);n&&(ft(this._lContainer[8],e),zi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Hi(this._lContainer,e);return n&&null!=ft(this._lContainer[8],e)?new so(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Ft(o))i=o;else{let t;if(3===n.type)t=ne(o);else if(t=r[11].createComment(""),Ht(r)){const e=r[11],i=ie(n,r);Wi(e,Yi(e,i),t,function(t,e){return te(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Xi(r[1],r,t,n);r[n.index]=i=Ii(o,r,t,n),Ai(r,i)}return new lo(i,n,r)}function mo(t=!1){return function(t,e,n){if(!n&&Vt(t)){const n=ae(t.index,e);return new so(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new so(e[16],e):null}(be(),ge(),t)}let go=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>yo(),t})();const yo=mo,vo=Function,bo=new G("Set Injector scope."),_o={},wo={},Co=[];let Eo=void 0;function Oo(){return void 0===Eo&&(Eo=new at),Eo}function So(t,e=null,n=null,r){return new To(t,n,e||Oo(),r)}class To{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ht(e,n=>this.processProvider(n,t,e)),ht([t],t=>this.processInjectorType(t,[],i)),this.records.set(W,xo(void 0,this));const o=this.records.get(bo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:k(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=$,n=m.Default){this.assertNotDestroyed();const r=tt(this);try{if(!(n&m.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof G)&&_(t);e=n&&this.injectableDefInScope(n)?xo(Io(t),_o):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&m.Self?Oo():this.parent).get(t,e=n&m.Optional&&e===$?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(k(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Y]&&i.unshift(e[Y]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):k(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Q,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{tt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(k(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=D(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ht(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ht(r,t=>this.processProvider(t,n,r||Co))}}this.injectorDefTypes.add(o),this.records.set(o,xo(r.factory,_o));const a=r.providers;if(null!=a&&!s){const e=t;ht(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ro(t=D(t))?t:D(t&&t.provide);const i=function(t,e,n){return Ao(t)?xo(void 0,t.useValue):xo(ko(t),_o)}(t);if(Ro(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=xo(void 0,_o,!0),e.factory=()=>st(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===_o&&(e.value=wo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Io(t){const e=_(t),n=null!==e?e.factory:Pt(t);if(null!==n)return n;const r=C(t);if(null!==r)return r.factory;if(t instanceof G)throw new Error(`Token ${k(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pt(e,"?");throw new Error(`Can't resolve all parameters for ${k(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[E]||t[T]||t[S]&&t[S]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ko(t,e,n){let r=void 0;if(Ro(t)){const e=D(t);return Pt(e)||Io(e)}if(Ao(t))r=()=>D(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...st(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>rt(D(t.useExisting));else{const e=D(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Pt(e)||Io(e);r=()=>new e(...st(t.deps))}var i;return r}function xo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ao(t){return null!==t&&"object"==typeof t&&J in t}function Ro(t){return"function"==typeof t}const Do=function(t,e,n){return function(t,e=null,n=null,r){const i=So(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Po=(()=>{class t{static create(t,e){return Array.isArray(t)?Do(t,e,""):Do(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=$,t.NULL=new at,t.\u0275prov=v({token:t,providedIn:"any",factory:()=>rt(W)}),t.__NG_ELEMENT_ID__=-1,t})();const No=new G("AnalyzeForEntryComponents");function jo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=x(i,t):2==o&&(r=x(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Mo(t,e){const n=ce(t)[1],r=n.data.length-1;Ke(n,{directiveStart:r,directiveEnd:r+1})}function Lo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(qt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Fo(t.inputs),e.declaredInputs=Fo(t.declaredInputs),e.outputs=Fo(t.outputs);const n=i.hostBindings;n&&Bo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Uo(t,o),s&&Vo(t,s),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),qt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Lo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nn(i.hostAttrs,n=nn(n,i.hostAttrs))}}(r)}function Fo(t){return t===_t?{}:t===wt?[]:t}function Uo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Vo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Bo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let qo=null;function Ho(){if(!qo){const t=F.Symbol;if(t&&t.iterator)qo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(qo=n)}}}return qo}class zo{constructor(t){this.wrapped=t}static wrap(t){return new zo(t)}static unwrap(t){return zo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof zo}}function Ko(t){return!!Go(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ho()in t)}function Go(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Wo(t,e,n){return t[e]=n}function $o(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Qo(t,e,n,r){const i=$o(t,e,n);return $o(t,e+1,r)||i}function Yo(t,e,n,r){const i=ge();return $o(i,Ie(),e)&&(ye(),Oi(qe(),i,t,e,n,r)),Yo}function Jo(t,e,n,r){return $o(t,Ie(),n)?e+cn(n)+r:Ur}function Xo(t,e,n,r,i,o,s,a){const c=ge(),u=ye(),l=t+jt,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const u=e.consts,l=ei(e,t,0,s||null,he(u,a));pi(e,n,l,he(u,c)),Ke(e,l);const h=l.tViews=li(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,r,i,o,s):u.data[l];_e(h,!1);const d=c[11].createComment("");Xi(u,c,d,h),Tr(d,c),Ai(c,c[l]=Ii(d,c,d,h)),Bt(h)&&ai(u,c,h),null!=s&&ci(c,h,a)}function Zo(t){return se(pe.lFrame.contextLView,t)}function ts(t,e=m.Default){const n=ge();return null===n?rt(t,e):wn(be(),n,D(t),e)}function es(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(tn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(be(),t)}function ns(t,e,n){const r=ge();return $o(r,Ie(),e)&&fi(ye(),qe(),r,t,e,r[11],n,!1),ns}function rs(t,e,n,r,i){const o=i?"class":"style";Fi(t,n,e.inputs[o],o,r)}function is(t,e,n,r){const i=ge(),o=ye(),s=jt+t,a=i[11],c=i[s]=Zr(e,a,pe.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=ei(e,t,2,i,he(a,o));return pi(e,n,c,he(a,s)),null!==c.attrs&&jo(c,c.attrs,!1),null!==c.mergedAttrs&&jo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];_e(u,!0);const l=u.mergedAttrs;null!==l&&Ze(a,c,l);const h=u.classes;null!==h&&oo(a,c,h);const d=u.styles;null!==d&&io(a,c,d),Xi(o,i,c,u),0===pe.lFrame.elementDepthCount&&Tr(c,i),pe.lFrame.elementDepthCount++,Bt(u)&&(ai(o,i,u),si(o,u,i)),null!==r&&ci(i,u)}function os(){let t=be();we()?Ce():(t=t.parent,_e(t,!1));const e=t;pe.lFrame.elementDepthCount--;const n=ye();n.firstCreatePass&&(Ke(n,t),Ut(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&rs(n,e,ge(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&rs(n,e,ge(),e.stylesWithoutHost,!1)}function ss(t,e,n,r){is(t,e,n,r),os()}function as(t,e,n){const r=ge(),i=ye(),o=t+jt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=he(o,r),a=ei(e,t,3,"ng-container",s);return null!==s&&jo(a,s,!0),pi(e,n,a,he(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];_e(s,!0);const a=r[o]=r[11].createComment("");Xi(i,r,a,s),Tr(a,r),Bt(s)&&(ai(i,r,s),si(i,s,r)),null!=n&&ci(r,s)}function cs(){let t=be();const e=ye();we()?Ce():(t=t.parent,_e(t,!1)),e.firstCreatePass&&(Ke(e,t),Ut(t)&&e.queries.elementEnd(t))}function us(t,e,n){as(t,e,n),cs()}function ls(){return ge()}function hs(t){return!!t&&"function"==typeof t.then}function ds(t){return!!t&&"function"==typeof t.subscribe}function fs(t,e,n=!1,r){const i=ge(),o=ye(),s=be();return function(t,e,n,r,i,o,s=!1,a){const c=Bt(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Mi(e);let h=!0;if(2===r.type){const d=ie(r,e),f=a?a(d):_t,p=f.target||d,m=l.length,g=a?t=>a(ne(t[r.index])).target:r.index;if(te(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ms(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),u&&u.push(i,g,m,m+1)}}else o=ms(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),u&&u.push(i,g,m,s)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),u&&u.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),fs}function ps(t,e,n){try{return!1!==e(n)}catch(r){return Li(t,r),!1}}function ms(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ae(t.index,e):e;0==(32&e[2])&&Ri(s);let a=ps(e,n,o),c=i.__ngNextListenerFn__;for(;c;)a=ps(e,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function gs(t=1){return function(t){return(pe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,pe.lFrame.contextLView))[8]}(t)}function ys(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?jr(t,o,!0):Mr(r,o))return i}else n=i}return n}function vs(t){const e=ge()[16][6];if(!e.projection){const n=e.projection=pt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ys(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let bs=!1;function _s(t){bs=t}function ws(t,e=0,n){const r=ge(),i=ye(),o=ei(i,t,1,null,n||null);null===o.projection&&(o.projection=e),Ce(),bs||no(i,r,o)}function Cs(t,e,n){return Es(t,"",e,"",n),Cs}function Es(t,e,n,r,i){const o=ge(),s=Jo(o,e,n,r);return s!==Ur&&fi(ye(),qe(),o,t,s,o[11],i,!1),Es}const Os=[];function Ss(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Wr(o):Qr(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];Ts(t[a],e)&&(c=!0,t[a+1]=r?Jr(n):$r(n)),a=r?Wr(n):Qr(n)}c&&(t[n+1]=r?$r(o):Jr(o))}function Ts(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yt(t,e)>=0}const Is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ks(t){return t.substring(Is.key,Is.keyEnd)}function xs(t,e){const n=Is.textEnd;return n===e?-1:(e=Is.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Is.key=e,n),As(t,e,n))}function As(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Rs(t,e,n){return js(t,e,n,!1),Rs}function Ds(t,e){return js(t,e,null,!0),Ds}function Ps(t){Ms(mt,Ns,t,!0)}function Ns(t,e){for(let n=function(t){return function(t){Is.key=0,Is.keyEnd=0,Is.value=0,Is.valueEnd=0,Is.textEnd=t.length}(t),xs(t,As(t,0,Is.textEnd))}(e);n>=0;n=xs(e,n))mt(t,ks(e),!0)}function js(t,e,n,r){const i=ge(),o=ye(),s=ke(2);o.firstUpdatePass&&Fs(o,t,s,r),e!==Ur&&$o(i,s,e)&&Bs(o,o.data[Ve()+jt],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(Bn(t)))),t}(e,n),r,s)}function Ms(t,e,n,r){const i=ye(),o=ke(2);i.firstUpdatePass&&Fs(i,null,o,r);const s=ge();if(n!==Ur&&$o(s,o,n)){const a=i.data[Ve()+jt];if(zs(a,r)&&!Ls(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=x(t,n||"")),rs(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Ur&&(i=Os);let c=0,u=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0;let p=null,m=void 0;l===h?(c+=2,u+=2,d!==f&&(p=h,m=f)):null===h||null!==l&&l<h?(c+=2,p=l):(u+=2,p=h,m=f),null!==p&&Bs(t,e,n,r,p,m,s,a),l=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Os;const r=[],i=Bn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Ls(t,e){return e>=t.expandoStartIndex}function Fs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ve()+jt],s=Ls(t,n);zs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=pe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Vs(n=Us(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Us(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Qr(r))return t[Wr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Us(null,t,e,n[1],r),n=Vs(n,e.attrs,r),function(t,e,n,r){t[Wr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Vs(r,t[o].hostAttrs,n);return Vs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Wr(s),c=Qr(s);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||yt(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=Wr(t[a+1]);t[r+1]=Gr(e,a),0!==e&&(t[e+1]=Yr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Gr(a,0),0!==a&&(t[a+1]=Yr(t[a+1],r)),a=r;else t[r+1]=Gr(c,0),0===a?a=r:t[c+1]=Yr(t[c+1],r),c=r;l&&(t[r+1]=$r(t[r+1])),Ss(t,u,r,!0),Ss(t,u,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&yt(o,e)>=0&&(n[r+1]=Jr(n[r+1]))}(e,u,t,r,o),s=Gr(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Us(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Vs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Vs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mt(t,s,!!n||e[++o]))}return void 0===t?null:t}function Bs(t,e,n,r,i,o,s,a){if(2!==e.type)return;const c=t.data,u=c[a+1];Hs(1==(1&u)?qs(c,e,n,i,Qr(u),s):void 0)||(Hs(o)||2==(2&u)&&(o=qs(c,null,n,i,a,s)),function(t,e,n,r,i){const o=te(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,re(Ve(),n),i,o))}function qs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,u=null===c;let l=n[i+1];l===Ur&&(l=u?Os:void 0);let h=u?gt(l,r):c===r?l:void 0;if(o&&!Hs(h)&&(h=gt(e,r)),Hs(h)&&(a=h,s))return a;const d=t[i+1];i=s?Wr(d):Qr(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=gt(t,r))}return a}function Hs(t){return void 0!==t}function zs(t,e){return 0!=(t.flags&(e?16:32))}function Ks(t,e=""){const n=ge(),r=ye(),i=t+jt,o=r.firstCreatePass?ei(r,t,2,null,null):r.data[i],s=n[i]=Bi(e,n[11]);Xi(r,n,s,o),_e(o,!1)}function Gs(t){return Ws("",t,""),Gs}function Ws(t,e,n){const r=ge(),i=Jo(r,t,e,n);return i!==Ur&&Ui(r,Ve(),i),Ws}function $s(t,e,n,r,i){const o=ge(),s=function(t,e,n,r,i,o){const s=Qo(t,Te(),n,i);return ke(2),s?e+cn(n)+r+cn(i)+o:Ur}(o,t,e,n,r,i);return s!==Ur&&Ui(o,Ve(),s),$s}function Qs(t,e,n){Ms(mt,Ns,Jo(ge(),t,e,n),!0)}function Ys(t,e,n,r,i,o,s,a,c){Ms(mt,Ns,function(t,e,n,r,i,o,s,a,c,u){const l=function(t,e,n,r,i,o){const s=Qo(t,e,n,r);return Qo(t,e+2,i,o)||s}(t,Te(),n,i,s,c);return ke(4),l?e+cn(n)+r+cn(i)+o+cn(s)+a+cn(c)+u:Ur}(ge(),t,e,n,r,i,o,s,a,c),!0)}function Js(t,e,n){const r=ge();return $o(r,Ie(),e)&&fi(ye(),qe(),r,t,e,r[11],n,!0),Js}function Xs(t,e,n,r,i){if(t=D(t),Array.isArray(t))for(let o=0;o<t.length;o++)Xs(t[o],e,n,r,i);else{const o=ye(),s=ge();let a=Ro(t)?t:D(t.provide),c=ko(t);const u=be(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(Ro(t)||!t.multi){const r=new Xe(c,i,ts),f=ea(a,e,i?l:l+d,h);-1===f?(_n(gn(u,s),o,a),Zs(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=ea(a,e,l+d,h),p=ea(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){_n(gn(u,s),o,a);const l=function(t,e,n,r,i){const o=new Xe(t,n,ts);return o.multi=[],o.index=e,o.componentProviders=0,ta(o,i,r&&!n),o}(i?ra:na,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),Zs(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),s.push(l)}else Zs(o,t,f>-1?f:p,ta(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Zs(t,e,n,r){const i=Ro(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ta(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ea(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function na(t,e,n,r){return ia(this.multi,[])}function ra(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Sn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ia(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ia(i,o);return o}function ia(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function oa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ye();if(r.firstCreatePass){const i=qt(t);Xs(n,r.data,r.blueprint,i,!0),Xs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class sa{}class aa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${k(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ca=(()=>{class t{}return t.NULL=new aa,t})(),ua=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>la(t),t})();const la=function(t){return ho(t,be(),ge())};class ha{}var da=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>pa(),t})();const pa=function(){const t=ge(),e=ae(be().index,t);return function(t){const e=t[11];if(te(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)};let ma=(()=>{class t{}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>null}),t})();class ga{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ya=new ga("10.1.6");class va{constructor(){}supports(t){return Ko(t)}create(t){return new _a(t)}}const ba=(t,e)=>e;class _a{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ba}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Oa(n,r,i)?e:n,s=Oa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ko(t))throw new Error(`Error trying to diff '${k(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ho()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new wa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ea),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ea),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class wa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ca{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ea{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ca,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Oa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Sa{constructor(){}supports(t){return t instanceof Map||Go(t)}create(){return new Ta}}class Ta{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Go(t)))throw new Error(`Error trying to diff '${k(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ia(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ia{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new va])}),t})(),xa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new Sa])}),t})();const Aa=[new Sa],Ra=new ka([new va]),Da=new xa(Aa);let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Na(t,ua),t})();const Na=function(t,e){return fo(t,e,be(),ge())};let ja=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ma(t,ua),t})();const Ma=function(t,e){return po(t,e,be(),ge())},La={};class Fa extends ca{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Dt(t);return new Ba(e,this.ngModule)}}function Ua(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Va=new G("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ln});class Ba extends sa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Fr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ua(this.componentDef.inputs)}get outputs(){return Ua(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,La,i);return o!==La||r===La?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ha,ee),s=i.get(ma,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(te(t))return t.selectRootElement(e,n===bt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Zr(c,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?Yt:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:ln,clean:ji,playerHandler:null,flags:0},d=li(0,null,null,1,0,null,null,null,null,null),f=ti(null,d,h,l,null,null,o,a,s,i);let p,m;Ne(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=ei(s,0,2,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(jo(a,c,!0),null!==t&&(Ze(i,t,c),null!==a.classes&&oo(i,t,a.classes),null!==a.styles&&io(i,t,a.styles)));const u=r.createRenderer(t,e),l=ti(n,ui(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return s.firstCreatePass&&(_n(gn(a,n),s,e.type),bi(s,a),wi(a,n.length,1)),Ai(n,l),n[20]=l}(u,this.componentDef,f,o,a);if(u)if(n)Ze(a,u,["ng-version",ya.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Pr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ze(a,u,t),e&&e.length>0&&oo(a,u,e.join(" "))}if(m=oe(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=be();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),vi(t,r,1),Ci(t,e,n));const i=Sn(e,t,e.length-1,r);Tr(i,e);const o=ie(r,e);return o&&Tr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=be();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Be(a.index-jt);const t=n[1];mi(t,e),gi(t,n,e.hostVars),yi(e,s)}return s}(t,this.componentDef,f,h,[Mo]),ni(d,f,null)}finally{Ue()}return new qa(this.componentType,p,ho(ua,m,f),f,m)}}class qa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ao(r),this.componentType=t}get injector(){return new kn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Ha=void 0;var za=["en",[["a","p"],["AM","PM"],Ha],[["AM","PM"],Ha,Ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ha,"{1} 'at' {0}",Ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ka={};function Ga(t,e,n){"string"!=typeof e&&(n=e,e=t[Ja.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ka[e]=t,n&&(Ka[e][Ja.ExtraData]=n)}function Wa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ya(e);if(n)return n;const r=e.split("-")[0];if(n=Ya(r),n)return n;if("en"===r)return za;throw new Error(`Missing locale data for the locale "${t}".`)}function $a(t){return Wa(t)[Ja.CurrencyCode]||null}function Qa(t){return Wa(t)[Ja.PluralCase]}function Ya(t){return t in Ka||(Ka[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),Ka[t]}var Ja=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Xa=["zero","one","two","few","many"],Za="en-US";let tc=Za;function ec(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(tc=t.toLowerCase().replace(/_/g,"-"))}const nc={marker:"element"},rc={marker:"comment"},ic=[];let oc=-1,sc=0,ac=0;function cc(t,e,n,r){const i=r[11];let o=null,s=null;const a=[];for(let c=0;c<n.length;c++){const u=n[c];if("string"==typeof u){const e=Bi(u,i),l=n[++c];s=o,o=pc(t,r,l,2,e,null),a.push(l),Ce()}else if("number"==typeof u)switch(7&u){case 1:const i=u>>>17;let l;l=i===e?r[6]:oe(t,i),s=dc(t,o,l,s,r);break;case 0:const h=u>=0,d=(h?u:~u)>>>3;a.push(d),s=o,o=oe(t,d),o&&_e(o,h);break;case 5:s=o=oe(t,u>>>3),_e(o,!1);break;case 4:const f=n[++c],p=n[++c];Oi(oe(t,u>>>3),r,f,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case rc:const e=n[++c],l=n[++c],h=i.createComment(e);s=o,o=pc(t,r,l,4,h,null),a.push(l),Tr(h,r),Ce();break;case nc:const d=n[++c],f=n[++c];s=o,o=pc(t,r,f,2,i.createElement(d),d),a.push(f);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}}return Ce(),a}function uc(t,e,n,r,i,o){let s=!1;for(let a=0;a<r.length;a++){const c=r[a],u=r[++a];if(c&o){let o="";for(let c=a+1;c<=a+u;c++){const a=r[c];if("string"==typeof a)o+=a;else if("number"==typeof a)if(a<0)o+=cn(n[i-a]);else{const u=a>>>2;switch(3&a){case 1:const a=r[++c],l=r[++c];fi(t,oe(t,u),n,a,o,n[11],l,!1);break;case 0:Ui(n,u,o);break;case 2:s=hc(t,e,r[++c],n,o);break;case 3:lc(t,e,r[++c],i,n,s)}}}}a+=u}}function lc(t,e,n,r,i,o){const s=e[n],a=i[s.currentCaseLViewIndex];null!==a&&uc(t,e,i,s.update[a],r,o?-1:sc)}function hc(t,e,n,r,i){!function t(e,n,r,i){const o=n[r],s=i[o.currentCaseLViewIndex];if(null!==s){const r=o.remove[s];for(let o=0;o<r.length;o++){const s=r[o],a=s>>>3;switch(7&s){case 3:fc(e,i,a,!1);break;case 6:t(e,n,a,i)}}}}(t,e,n,r);let o=!1;const s=e[n],a=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=Qa(e)(parseInt(t,10)),r=Xa[n];return void 0!==r?r:"other"}(e,tc);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}(s,i);return r[s.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(cc(t,-1,s.create[a],r),o=!0),o}function dc(t,e,n,r,i){const o=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,null===e.parent?t.firstChild=e:n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let s=e.next;for(;s;)s.next===e&&(s.next=o),s=s.next;if(1===e.type)return no(t,i,e),e;Xi(t,i,ie(e,i),e);const a=i[e.index];return 0!==e.type&&Ft(a)&&Xi(t,i,a[7],e),e}function fc(t,e,n,r){const i=oe(t,n),o=re(n,e);o&&Zi(e[11],o);const s=se(e,n);if(Ft(s)){const t=s;0!==i.type&&Zi(e[11],t[7])}r&&i&&(i.flags|=64)}function pc(t,e,n,r,i,o){const s=be();e[n+jt]=i;const a=ei(t,n,r,o,null);return s&&s.next===a&&(s.next=null),a}const mc=/\ufffd(\d+):?\d*\ufffd/gi,gc=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,yc=/\ufffd(\d+)\ufffd/,vc=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/;let bc;const _c=[],wc=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Cc=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Ec=/\uE500/g;function Oc(t,e,n,r=null){const i=[null,null],o=t.split(mc);let s=0;for(let a=0;a<o.length;a++){const t=o[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),s|=Ic(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function Sc(t,e=0){let n;e|=Ic(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=mc.exec(r);)e|=Ic(parseInt(n[1],10));else e=Sc(r,e)}}return e}function Tc(t){return t+bc++}function Ic(t){return 1<<Math.min(t,31)}function kc(t){return void 0===t}function xc(t){let e,n,r="",i=0,o=!1;for(;null!==(e=wc.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function Ac(t,e,n,r){const i=[],o=[],s=[],a=[],c=[],u=e.values;for(let l=0;l<u.length;l++){const e=u[l],h=[];for(let t=0;t<e.length;t++){const n=e[t];if("string"!=typeof n){const r=h.push(n)-1;e[t]=`\x3c!--\ufffd${r}\ufffd--\x3e`}}const d=Dc(e.join(""),n,h,t,r);i.push(d.create),o.push(d.remove),s.push(d.update),a.push(d.vars),c.push(d.childIcus)}t.push({type:e.type,vars:a,currentCaseLViewIndex:jt+r+1,childIcus:c,cases:e.cases,create:i,remove:o,update:s}),bc+=Math.max(...a)}function Rc(t){const e=[],n=[];let r=1,i=0;const o=Pc(t=t.replace(vc,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Pc(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Dc(t,e,n,r,i){const o=Zn(Zt()).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");const s={vars:1,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,o,s){if(e){const a=[];for(;e;){const c=e.nextSibling,u=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const c=e,l=c.tagName.toLowerCase();if(dr.hasOwnProperty(l)){n.create.push(nc,l,u,r<<17|1);const a=c.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase();e.value.match(mc)?mr.hasOwnProperty(r)&&lt(fr[r]?Oc(e.value,u,e.name,ir):pr[r]?Oc(e.value,u,e.name,or):Oc(e.value,u,e.name),n.update):n.create.push(u<<3|4,e.name,e.value)}t(e.firstChild,n,u,i,o,s),n.remove.push(u<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=e.textContent||"",d=h.match(mc);n.create.push(d?"":h,u,r<<17|1),n.remove.push(u<<3|3),d&&lt(Oc(h,u),n.update);break;case Node.COMMENT_NODE:const f=yc.exec(e.textContent||"");if(f){const t=parseInt(f[1],10);n.create.push(rc,"",u,r<<17|1),a.push([i[t],u])}else n.vars--;break;default:n.vars--}e=c}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];Ac(o,e,r,s+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const c=Sc(e);n.update.push(Ic(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,c,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((Er(o)||o).firstChild,s,e,n,r,i),s}function Pc(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);vc.test(n)?r.push(Rc(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function Nc(t,e,n){(function(t,e,n){const r=ye(),i=he(r.consts,e);!function(t){ic[++oc]=t}(t),_s(!0),r.firstCreatePass&&null===r.data[t+jt]&&function(t,e,n,r,i){const o=e.blueprint.length-jt;bc=0;const s=be(),a=we()?s:s&&s.parent;let c=a&&a!==t[6]?a.index-jt:n,u=0;_c[u]=c;const l=[];if(n>0&&s!==a){let t=s.index-jt;we()||(t=~t),l.push(t<<3|0)}const h=[],d=[];if(""===r&&kc(i))l.push(r,Tc(o),c<<17|1);else{const t=function(t,e){if(kc(e))return xc(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return xc(t.substring(n,r))}}(r,i),e=(f=t,f.replace(Ec," ")).split(Cc);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);c=_c[--u],l.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);l.push((e?t:~t)<<3|0,c<<17|1),e&&(_c[++u]=c=t)}else{const e=Pc(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Tc(o);l.push(rc,"",i,c<<17|1);const s=Sc(r);Ac(d,r,i,i);const a=d.length-1;h.push(Ic(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,s,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(mc),i=Tc(o);l.push(r?"":t,i,c<<17|1),r&&lt(Oc(t,i),h)}}}}var f;bc>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,bc),e.data[n+jt]={vars:bc,create:l,update:h,icus:d.length?d:null}}(ge(),r,t,i,n)})(t,e,n),function(){const t=ge();(function(t,e){const n=ic[oc--],r=t.data[n+jt],i=be(),o=cc(t,n,r.create,e);let s=n+1;for(;null!==i&&s<=i.index-jt;){-1===o.indexOf(s)&&fc(t,e,s,!0);const n=oe(t,s);!n||0!==n.type&&2!==n.type&&3!==n.type||null===n.localNames||(s+=n.localNames.length>>1),s++}})(ye(),t),_s(!1)}()}function jc(t,e){const n=ge(),r=ye();!function(t,e,n,r){const i=be().index-jt,o=[];for(let s=0;s<r.length;s+=2){const a=r[s],c=r[s+1].split(gc);for(let r=0;r<c.length;r++){const s=c[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s)if(s.match(mc))e.firstCreatePass&&null===e.data[n+jt]&&lt(Oc(s,i,a),o);else{const n=oe(e,i);2===n.type&&Oi(n,t,a,s,null,null);const r=null!==n.inputs&&n.inputs[a];r&&Fi(e,t,r,a,s)}}}e.firstCreatePass&&null===e.data[n+jt]&&(e.data[n+jt]=o)}(n,r,t,he(r.consts,e))}function Mc(t){return $o(ge(),Ie(),t)&&(sc|=1<<ac),ac++,Mc}function Lc(t){!function(t,e,n){if(ac>0){const r=t.data[n+jt];let i,o=null;Array.isArray(r)?i=r:(i=r.update,o=r.icus),uc(t,o,e,i,Te()-ac-1,sc),sc=0,ac=0}}(ye(),ge(),t)}const Fc=new Map;class Uc extends ct{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fa(this);const n=Nt(t),r=t[H]||null;r&&ec(r),this._bootstrapComponents=dn(n.bootstrap),this._r3Injector=So(t,e,[{provide:ct,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],k(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Po.THROW_IF_NOT_FOUND,n=m.Default){return t===Po||t===ct||t===W?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Vc extends ut{constructor(t){super(),this.moduleType=t,null!==Nt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${k(e)} vs ${k(e.name)}`)})(t,Fc.get(t),e),Fc.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Uc(this.moduleType,t)}}function Bc(t,e,n){const r=Se()+t,i=ge();return i[r]===Ur?Wo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function qc(t,e,n,r){return Gc(ge(),Se(),t,e,n,r)}function Hc(t,e,n,r,i){return Wc(ge(),Se(),t,e,n,r,i)}function zc(t,e,n,r,i,o){return $c(ge(),Se(),t,e,n,r,i,o)}function Kc(t,e){const n=t[e];return n===Ur?void 0:n}function Gc(t,e,n,r,i,o){const s=e+n;return $o(t,s,i)?Wo(t,s+1,o?r.call(o,i):r(i)):Kc(t,s+1)}function Wc(t,e,n,r,i,o,s){const a=e+n;return Qo(t,a,i,o)?Wo(t,a+2,s?r.call(s,i,o):r(i,o)):Kc(t,a+2)}function $c(t,e,n,r,i,o,s,a){const c=e+n;return function(t,e,n,r,i){const o=Qo(t,e,n,r);return $o(t,e+2,i)||o}(t,c,i,o,s)?Wo(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Kc(t,c+3)}function Qc(t,e){const n=ye();let r;const i=t+jt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Pt(r.type)),s=et(ts);try{const e=pn(!1),r=o();return pn(e),function(t,e,n,r){const i=n+jt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,ge(),t,r),r}finally{et(s)}}function Yc(t,e,n){const r=ge(),i=se(r,t);return tu(r,Zc(r,t)?Gc(r,Se(),e,i.transform,n,i):i.transform(n))}function Jc(t,e,n,r){const i=ge(),o=se(i,t);return tu(i,Zc(i,t)?Wc(i,Se(),e,o.transform,n,r,o):o.transform(n,r))}function Xc(t,e,n,r,i){const o=ge(),s=se(o,t);return tu(o,Zc(o,t)?$c(o,Se(),e,s.transform,n,r,i,s):s.transform(n,r,i))}function Zc(t,e){return t[1].data[e+jt].pure}function tu(t,e){return zo.isWrapped(e)&&(e=zo.unwrap(e),t[Te()]=Ur),e}const eu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function nu(){return this._results[Ho()]()}class ru{constructor(){this.dirty=!0,this._results=[],this.changes=new eu,this.length=0;const t=Ho(),e=ru.prototype;e[t]||(e[t]=nu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class iu{constructor(t){this.queryList=t,this.matches=null}clone(){return new iu(this.queryList)}setDirty(){this.queryList.setDirty()}}class ou{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ou(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Cu(t,e).matches&&this.queries[e].setDirty()}}class su{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class au{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new au(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class cu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new cu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,uu(e,i)),this.matchTNodeWithReadOption(t,e,On(e,t,i,!1,!1))}else n===Pa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,On(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ua||r===ja||r===Pa&&0===e.type)this.addMatch(e.index,-2);else{const n=On(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function uu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function lu(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?ho(ua,t,e):0===t.type?fo(Pa,ua,t,e):null}(e,t):-2===n?function(t,e,n){return n===ua?ho(ua,e,t):n===Pa?fo(Pa,ua,e,t):n===ja?po(ja,ua,e,t):void 0}(t,e,r):Sn(t,t[1],n,e)}function hu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:lu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function du(t){const e=ge(),n=ye(),r=Re();De(r+1);const i=Cu(n,r);if(t.dirty&&ue(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=hu(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=Mt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):hu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function fu(t,e,n){mu(ye(),ge(),t,e,n,!0)}function pu(t,e,n){mu(ye(),ge(),t,e,n,!1)}function mu(t,e,n,r,i,o){t.firstCreatePass&&(wu(t,new su(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),_u(t,e)}function gu(t,e,n,r){vu(ye(),ge(),e,n,r,!1,be(),t)}function yu(t,e,n,r){vu(ye(),ge(),e,n,r,!0,be(),t)}function vu(t,e,n,r,i,o,s,a){t.firstCreatePass&&(wu(t,new su(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),_u(t,e)}function bu(){return t=ge(),e=Re(),t[19].queries[e].queryList;var t,e}function _u(t,e){const n=new ru;hi(t,e,n,n.destroy),null===e[19]&&(e[19]=new ou),e[19].queries.push(new iu(n))}function wu(t,e,n){null===t.queries&&(t.queries=new au),t.queries.track(new cu(e,n))}function Cu(t,e){return t.queries.getByIndex(e)}function Eu(t,e){return fo(Pa,ua,t,e)}function Ou(t=m.Default){const e=mo(!0);if(null!=e||t&m.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Su=new G("Application Initializer");let Tu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();hs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(rt(Su,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const Iu=new G("AppId"),ku={provide:Iu,useFactory:function(){return`${xu()}${xu()}${xu()}`},deps:[]};function xu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Au=new G("Platform Initializer"),Ru=new G("Platform ID"),Du=new G("appBootstrapListener");let Pu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const Nu=new G("LocaleId"),ju=new G("DefaultCurrencyCode");class Mu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Lu=function(t){return new Vc(t)},Fu=Lu,Uu=function(t){return Promise.resolve(Lu(t))},Vu=function(t){const e=Lu(t),n=dn(Nt(t).declarations).reduce((t,e)=>{const n=Dt(e);return n&&t.push(new Ba(n)),t},[]);return new Mu(e,n)},Bu=Vu,qu=function(t){return Promise.resolve(Vu(t))};let Hu=(()=>{class t{constructor(){this.compileModuleSync=Fu,this.compileModuleAsync=Uu,this.compileModuleAndAllComponentsSync=Bu,this.compileModuleAndAllComponentsAsync=qu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const zu=(()=>Promise.resolve(0))();function Ku(t){"undefined"==typeof Zone?zu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Gu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eu(!1),this.onMicrotaskEmpty=new eu(!1),this.onStable=new eu(!1),this.onError=new eu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yu(t),Qu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Ju(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Xu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Ju(t),e.invoke(r,i,o,s,a)}finally{Xu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Yu(t),Qu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,$u,Wu,Wu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Wu(){}const $u={};function Qu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ju(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xu(t){t._nesting--,Qu(t)}class Zu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eu,this.onMicrotaskEmpty=new eu,this.onStable=new eu,this.onError=new eu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let tl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gu.assertNotInAngularZone(),Ku(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ku(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(rt(Gu))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})(),el=(()=>{class t{constructor(){this._applications=new Map,ol.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ol.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();class nl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function rl(t){ol=t}let il,ol=new nl;const sl=new G("AllowMultipleToken");class al{constructor(t,e){this.name=t,this.token=e}}function cl(t,e,n=[]){const r="Platform: "+e,i=new G(r);return(e=[])=>{let o=ul();if(!o||o.injector.get(sl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:bo,useValue:"platform"});!function(t){if(il&&!il.destroyed&&!il.injector.get(sl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");il=t.get(ll);const e=t.get(Au,null);e&&e.forEach(t=>t())}(Po.create({providers:t,name:r}))}return function(t){const e=ul();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ul(){return il&&!il.destroyed?il:null}let ll=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Zu:("zone.js"===t?void 0:t)||new Gu({enableLongStackTrace:Jn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Gu,useValue:n}];return n.run(()=>{const e=Po.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Nn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>fl(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return hs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Tu);return t.runInitializers(),t.donePromise.then(()=>(ec(i.injector.get(Nu,Za)||Za),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=hl({},e);return function(t,e,n){const r=new Vc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(dl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${k(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(rt(Po))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function hl(t,e){return Array.isArray(e)?e.reduce(hl,t):Object.assign(Object.assign({},t),e)}let dl=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Jn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Gu.assertNotInAngularZone(),Ku(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof sa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ct),i=n.create(Po.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(tl,null);return o&&i.injector.get(el).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Jn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;fl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Du,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),fl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(rt(Gu),rt(Pu),rt(Po),rt(Nn),rt(ca),rt(Tu))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function fl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class pl{}class ml{}const gl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let yl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||gl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>vl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>vl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(rt(Hu),rt(ml,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function vl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class bl extends go{}class _l extends bl{}const wl=function(t){return null},Cl=cl(null,"core",[{provide:Ru,useValue:"unknown"},{provide:ll,deps:[Po]},{provide:el,deps:[]},{provide:Pu,deps:[]}]),El=[{provide:dl,useClass:dl,deps:[Gu,Pu,Po,Nn,ca,Tu]},{provide:Va,deps:[Gu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Tu,useClass:Tu,deps:[[new d,Su]]},{provide:Hu,useClass:Hu,deps:[]},ku,{provide:ka,useFactory:function(){return Ra},deps:[]},{provide:xa,useFactory:function(){return Da},deps:[]},{provide:Nu,useFactory:function(t){return ec(t=t||"undefined"!=typeof $localize&&$localize.locale||Za),t},deps:[[new h(Nu),new d,new p]]},{provide:ju,useValue:"USD"}];let Ol=(()=>{class t{constructor(t){}}return t.\u0275mod=It({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(rt(dl))},providers:El}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function c(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(u,"_index",["name","keyPath","multiEntry","unique"]),s(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,u].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return T})),n.d(e,"d",(function(){return V})),n.d(e,"e",(function(){return S})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return Y})),n.d(e,"k",(function(){return j})),n.d(e,"l",(function(){return B})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return h})),n.d(e,"o",(function(){return K})),n.d(e,"p",(function(){return f})),n.d(e,"q",(function(){return N})),n.d(e,"r",(function(){return g})),n.d(e,"s",(function(){return y})),n.d(e,"t",(function(){return b})),n.d(e,"u",(function(){return L})),n.d(e,"v",(function(){return _})),n.d(e,"w",(function(){return E})),n.d(e,"x",(function(){return p})),n.d(e,"y",(function(){return m})),n.d(e,"z",(function(){return C})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return w})),n.d(e,"C",(function(){return P})),n.d(e,"D",(function(){return A})),n.d(e,"E",(function(){return F})),n.d(e,"F",(function(){return U})),n.d(e,"G",(function(){return M})),n.d(e,"H",(function(){return Q})),n.d(e,"I",(function(){return $})),n.d(e,"J",(function(){return R})),n.d(e,"K",(function(){return z})),n.d(e,"L",(function(){return G})),n.d(e,"M",(function(){return W})),n.d(e,"N",(function(){return O}));var r=n("30Go"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=s(t);return a.encodeByteArray(e,!0)},u=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function m(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function g(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function v(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return f().indexOf("Electron/")>=0}function _(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return f().indexOf("MSAppHost/")>=0}function C(){return!1}function E(){return"indexedDB"in self&&null!=indexedDB}function O(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function S(){return!(!navigator||!navigator.cookieEnabled)}var T=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,I.prototype.create),o}return Object(r.c)(e,t),e}(Error),I=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?k(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new T(i,a,r);return c},t}();function k(t,e){return t.replace(x,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var x=/\{\$([^}]+)}/g;function A(t){return JSON.parse(t)}function R(t){return JSON.stringify(t)}var D=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=A(u(o[0])||""),n=A(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},P=function(t){var e=D(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},N=function(t){var e=D(t).claims;return"object"==typeof e&&!0===e.admin};function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function L(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function F(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function U(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var V=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(c^u),o=1518500249):(i=a^c^u,o=1859775393):r<60?(i=a&c|u&(a|c),o=2400959708):(i=a^c^u,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=u,u=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function B(t,e){var n=new q(t,e);return n.subscribe.bind(n)}var q=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function H(){}var z=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function K(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function G(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(K(t,e,r)+"must be a valid function.")}function W(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(K(t,e,r)+"must be a valid context object.")}var $=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},Q=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Y(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof s?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return C}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new c.r("angularfire2.app.options"),b=new c.r("angularfire2.app.nameOrConfig"),_=new c.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(c.X)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[v,c.A,[new c.B,b]]};let T=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)(c.cc(c.C))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},t6oF:function(t,e,n){"use strict";var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.i(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.i(t)},e.prototype.g=function(t){this.h(2,t)},e.prototype.i=function(t){this.h(1,t)},e.prototype.h=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Pa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Pa(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},a=this||self,c=/^[\w+/_-]+[=]{0,2}$/,u=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++v)}var y="closure_uid_"+(1e9*Math.random()>>>0),v=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function O(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function T(t,e,n){this.code=x+t,this.message=e||A[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new T(e.substring(x.length),t.message,t.serverResponse):null}O(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var k,x="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in R)if(R[e].id===t)return{firebaseEndpoint:(t=R[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function N(t){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function j(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");N.call(this,n+t[r])}function M(t,e){throw new j("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}k=D("__EID__")?"__EID__":void 0,O(N,Error),N.prototype.name="CustomError",O(j,N),j.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new L((function(){return new q}),(function(t){t.reset()}));function B(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=H(t,e)}function Q(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function J(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function dt(t){return ct(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function mt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===Et&&e||"",this.b=Ct}function _t(t){return t instanceof bt&&t.constructor===bt&&t.b===Ct?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.sa=!0,bt.prototype.ra=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,Ct={},Et={};function Ot(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function St(t,e){this.a=e===At?t:""}function Tt(t){return t instanceof St&&t.constructor===St?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function It(t,e){var n=_t(t);if(!xt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Ot();return new St(t=e?e.createScriptURL(t):t,At)}(t=n.replace(kt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?_t(t):encodeURIComponent(String(t))})))}St.prototype.sa=!0,St.prototype.ra=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var kt=/%{(\w+)}/g,xt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function Rt(t,e){this.a=e===Ft?t:""}function Dt(t){return t instanceof Rt&&t.constructor===Rt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Rt.prototype.sa=!0,Rt.prototype.ra=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Nt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,jt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Rt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),jt.test(t))t=new Rt(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Nt);t=e&&Pt.test(e[1])?new Rt(t,Ft):null}return t}function Lt(t){return t instanceof Rt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),jt.test(t)||(t="about:invalid#zClosurez"),new Rt(t,Ft))}var Ft={},Ut=new Rt("about:invalid#zClosurez",Ft);function Vt(t,e,n){this.a=n===Bt?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function qt(t,e,n,r){return t=t instanceof Rt?t:Lt(t),e=e||a,n=n instanceof bt?_t(n):n||"",e.open(Dt(t),n,r,void 0)}function Ht(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function zt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=h;var Gt,Wt,$t=dt("Opera"),Qt=dt("Trident")||dt("MSIE"),Yt=dt("Edge"),Jt=Yt||Qt,Xt=dt("Gecko")&&!(ct(Z.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ct(Z.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Wt=Z,Xt?/rv:([^\);]+)(\)|;)/.exec(Wt):Yt?/Edge\/([\d\.]+)/.exec(Wt):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Zt?/WebKit\/(\S+)/.exec(Wt):$t?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ne&&(ee=ne?ne[1]:""),Qt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=tt(String(Gt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var se=a.document&&Qt&&(te()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var ae=!Qt||9<=Number(se);function ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||m(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}z(s?X(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){a.setTimeout((function(){throw t}),0)}function ge(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(be)}}else he=function(){var t=be;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!dt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ye||(he(),ye=!0),ve.add(t,e)}var ye=!1,ve=new U;function be(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){me(e)}F(V,t)}ye=!1}function _e(t,e){if(this.a=we,this.h=void 0,this.f=this.b=this.c=null,this.g=this.i=!1,t!=h)try{var n=this;t.call(e,(function(t){Pe(n,Ce,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Pe(n,Ee,t)}))}catch(r){Pe(this,Ee,r)}}var we=0,Ce=2,Ee=3;function Oe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Oe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new L((function(){return new Oe}),(function(t){t.reset()}));function Te(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Ie(t){if(t instanceof _e)return t;var e=new _e(h);return Pe(e,Ce,t),e}function ke(t){return new _e((function(e,n){n(t)}))}function xe(t,e,n){Ne(t,e,n,null)||ge(C(e,t))}function Ae(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],C(i,o,!0),C(i,o,!1));else e(r)}))}function Re(t,e){t.b||t.a!=Ce&&t.a!=Ee||je(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,r){var i=Te(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Re(t,i),i.a}function Pe(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ne(n,t.Zc,t.$c,t)||(t.h=n,t.a=e,t.c=null,je(t),e!=Ee||n instanceof Ve||function(t,e){t.g=!0,ge((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Ne(t,e,n,r){if(t instanceof _e)return Re(t,Te(e||h,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(m(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function je(t){t.i||(t.i=!0,ge(t.fc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(i){Ue.call(null,i)}F(Se,e)}function Fe(t,e,n){e==Ce?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return De(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).na=function(t,e){return(t=Te(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return De(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Ve(t);ge((function(){!function t(e,n){if(e.a==we)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==we&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Me(r),Le(r,o,Ee,n)))}e.c=null}else Pe(e,Ee,n)}(this,e)}),this)}},t.Zc=function(t){this.a=we,Pe(this,Ce,t)},t.$c=function(t){this.a=we,Pe(this,Ee,t)},t.fc=function(){for(var t;t=Me(this);)Le(this,t,this.a,this.h);this.i=!1};var Ue=me;function Ve(t){N.call(this,t)}function Be(){0!=qe&&(He[g(this)]=this),this.xa=this.xa,this.oa=this.oa}O(Ve,N),Ve.prototype.name="cancel";var qe=0,He={};function ze(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=qe)){var e=g(t);if(0!=qe&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Be.prototype.xa=!1,Be.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Ke=Object.freeze||function(t){return t},Ge=!Qt||9<=Number(se),We=Qt&&!oe("9"),$e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},O(Ye,Qe);var Je=Ke({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,We)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Ze,this.va=this.Oa=!1}function en(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=on(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new tn(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),an={};function cn(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=bn(n),t&&t[Xe]?wn(t,e,n,m(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=m(i)?!!i.capture:!!i,a=yn(t);if(a||(t[sn]=a=new nn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=gn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=bn(n),t&&t[Xe]?Cn(t,e,n,m(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=bn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yn(e))?(rn(n,t),0==n.b&&(n.src=null,e[sn]=null)):en(t)}}}function fn(t){return t in an?an[t]:an[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=yn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&dn(t),n.call(r,e)}function gn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Ye(e,this))}function yn(t){return(t=t[sn])instanceof nn?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return p(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function _n(){Be.call(this),this.v=new nn(this),this.$b=this,this.fb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Cn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,c=s.Ua||s.src;s.Oa&&rn(t.v,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function On(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Sn(t){var e=null;return new _e((function(n,r){-1==(e=On((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function Tn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function In(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];An(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)An(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}O(_n,Be),_n.prototype[Xe]=!0,_n.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;yt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=kn.prototype).V=function(){xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return xn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return An(this.b,t)?this.b[t]:e},t.set=function(t,e){An(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.i=this.c="",this.h=!1,t instanceof Dn?(this.h=void 0!==e?e:t.h,Pn(this,t.f),this.l=t.l,this.a=t.a,Nn(this,t.g),this.c=t.c,jn(this,tr(t.b)),this.i=t.i):t&&(n=String(t).match(Rn))?(this.h=!!e,Pn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Nn(this,n[4]),this.c=Vn(n[5]||"",!0),jn(this,n[6]||"",!0),this.i=Vn(n[7]||"")):(this.h=!!e,this.b=new $n(null,this.h))}function Pn(t,e,n){t.f=n?Vn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Nn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function jn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),Zn(this,n,t))}),t)),t.f=e}(t.b,t.h)):(n||(e=Bn(e,Gn)),t.b=new $n(e,t.h))}function Mn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Fn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Un(t,e,n,r){var i=new Dn(null,void 0);return t&&Pn(i,t),e&&(i.a=e),n&&Nn(i,n),r&&(i.c=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Bn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Kn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Bn(n,Wn)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.f;n?Pn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Nn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?jn(e,tr(t.b)):n=!!t.i,n&&(e.i=t.i),e};var Hn=/[#\/\?@]/g,zn=/[#\?:]/g,Kn=/[#\?]/g,Gn=/[#\?@]/g,Wn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yn(t){var e=In(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Jn(t,e){Qn(t),e=er(t,e),An(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,An((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xn(t)))}function Xn(t,e){return Qn(t),e=er(t,e),An(t.a.b,e)}function Zn(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),X(n)),t.b+=n.length)}function tr(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),sr(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":sr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,t,e),e.join("")}function rr(){}(t=$n.prototype).add=function(t,e){Qn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){z(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Qn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=J(e,this.a.get(er(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Xn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Tr();return Qt&&!!se&&11==se||/Edge\/\d+/.test(t)}function cr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||a.window;var n="about:blank";t&&(n=Dt(Mt(t)||Ut)),e.location.href=n}function lr(t){return!!((t=(t||Tr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||a.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Tr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Er(Tr())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Rt?n:Mt(void 0!==n.href?n.href:String(n))||Ut,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Rt?e:Lt(e),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=Dt(e),s&&(Jt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Vt(t=(r=Ot())?r.createHTML(t):t,null,Bt),r=s.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new _e((function(e){"complete"==a.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function gr(t){return t=t||Tr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function vr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function br(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function _r(){var t=br();return"ReactNative"===t||"Node"===t}var wr="Firefox",Cr="Chrome";function Er(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?wr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Cr:"Safari"}var Or={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Or)i[Or[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Er(i=Tr()):"Worker"===r&&(r=Er(i=Tr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Tr(){return a.navigator&&a.navigator.userAgent||""}function Ir(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function kr(){try{var t=a.localStorage,e=Mr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!a.indexedDB}catch(n){return vr()&&!!a.indexedDB}return!1}function xr(){return(Ar()||"chrome-extension:"===Rr()||gr())&&!_r()&&kr()&&!vr()}function Ar(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return a.location&&a.location.protocol||null}function Dr(t){return!lr(t=t||Tr())&&Er(t)!=wr}function Pr(t){return void 0===t?null:nr(t)}function Nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function jr(t){if(null!==t)return JSON.parse(t)}function Mr(t){return t||Math.floor(1e9*Math.random()).toString()}function Lr(t){return"Safari"!=Er(t=t||Tr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Tr(),e=br(),this.b=lr(t)||"ReactNative"===e}function Vr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function qr(){return!(!Ir("fireauth.oauthhelper",a)&&!Ir("fireauth.iframe",a))}Ur.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Ar()&&"chrome-extension:"!==Rr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,zr={};function Kr(t){zr[t]||(zr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==Gr.abcd}catch(Wt){Hr=!1}function Wr(t,e,n){Hr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function $r(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Qr(t){var e={};return $r(e,t),e}function Yr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Yr(t[n]));return e}function Jr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ei]),Wr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Xr(t){try{var e=new ri(t)}catch(n){e=null}return e}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Jr.call(this,t),Wr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ci],r=t[li],i=t[hi];if(t=Xr(t[ui]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[fi]=n||null,e[mi]=n||null,e[di]=r):(e[fi]=r||null,e[mi]=r||null,e[di]=n||null),e[pi]=t||null,Wr(this,yi,i),Wr(this,gi,Yr(e))}O(ri,Jr),ri.prototype.w=function(){var t=ri.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ci="email",ui="mfaInfo",li="newEmail",hi="requestType",di="email",fi="fromEmail",pi="multiFactorInfo",mi="previousEmail",gi="data",yi="operation";function vi(t){var e=Ln(t=Fn(t),bi)||null,n=Ln(t,_i)||null,r=Ln(t,Ei)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new T("argument-error",bi+", "+_i+"and "+Ei+" are required in a valid action code URL.");$r(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,wi)||null,languageCode:Ln(t,Ci)||null,tenantId:Ln(t,Oi)||null})}var bi="apiKey",_i="oobCode",wi="continueUrl",Ci="languageCode",Ei="mode",Oi="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ti(t){try{return new vi(t)}catch(e){return null}}function Ii(t){var e=t[Di];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.i=e,this.b=this.a=null,this.g=!1;var n=t[ki];if(n&&"object"==typeof n){e=n[ji];var r=n[Pi];if(n=n[Ni],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Ni+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",ji+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",ki+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Mi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[Ai])&&"boolean"!=typeof e)throw new T("argument-error",Ai+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",xi+" property must be a non empty string when specified.");this.h=t||null}var ki="android",xi="dynamicLinkDomain",Ai="handleCodeInApp",Ri="iOS",Di="url",Pi="installApp",Ni="minimumVersion",ji="packageName",Mi="bundleId";function Li(t){var e={};for(var n in e.continueUrl=t.i,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.h,e)null===e[n]&&delete e[n];return e}var Fi=null;function Ui(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.i=t,this.a=e.exp,this.h=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Vi(t){try{return new Ui(t)}catch(e){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fi){Fi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Ui.prototype.S=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.i};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],zi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Hi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Hi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Hi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:qi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Ki(t){for(var e in zi)if(zi[e].fa==t)return zi[e];return null}function Gi(t){var e={};e["facebook.com"]=Ji,e["google.com"]=Zi,e["github.com"]=Xi,e["twitter.com"]=to;var n=t&&t[$i];try{if(n)return e[n]?new e[n](t):new Yi(t);if(void 0!==t[Wi])return new Qi(t)}catch(r){}return null}var Wi="idToken",$i="providerId";function Qi(t){var e=t[$i];if(!e&&t[Wi]){var n=Vi(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Yi(t){Qi.call(this,t),Wr(this,"profile",Yr((t=jr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if(Yi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Yi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function Zi(t){if(Yi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Yi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function eo(t){var e=Fn(t),n=Ln(e,"link"),r=Ln(Fn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Fn(e),"link")||e||r||n||t}function no(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ro:io}O(Yi,Qi),O(Ji,Yi),O(Xi,Yi),O(Zi,Yi),O(to,Yi);var ro="enroll",io="signin";function oo(){}function so(t,e){return t.then((function(t){if(t[Gs]){var n=Vi(t[Gs]);if(!n||e!=n.h)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==x+"user-not-found"?new T("user-mismatch"):t}))}function ao(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function uo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ao(t.providerId,t.pendingToken)}catch(e){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function po(t,e){this.Pc=e||[],$r(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Ki(t)||{}).Ja||null,this.nb=null}function mo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function go(t){po.call(this,t,Hi),this.a=[]}function yo(){go.call(this,"facebook.com")}function vo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function bo(){go.call(this,"github.com")}function _o(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function wo(){go.call(this,"google.com"),this.Ca("profile")}function Co(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new wo).credential({idToken:n,accessToken:e})}function Eo(){po.call(this,"twitter.com",qi)}function Oo(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function So(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function To(t){return t&&t.email&&t.password?new So(t.email,t.password,t.signInMethod):null}function Io(){$r(this,{providerId:"password",isOAuthProvider:!1})}function ko(t,e){if(!(e=xo(e)))throw new T("argument-error","Invalid email link!");return new So(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function xo(t){return(t=Ti(t=eo(t)))&&t.operation===si?t:null}function Ao(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new T("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ao(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Po(t){try{this.a=t||r.a.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ao({cb:t,bb:e})}function jo(t){if(t.temporaryProof&&t.phoneNumber)return new Ao({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Co(o,n);case"facebook.com":return vo(n);case"github.com":return _o(n);case"twitter.com":return Oo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ao(e,s):new lo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Mo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Lo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.i=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new Lo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}no.prototype.Ha=function(){return Ie(this.a?this.a:this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ja=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},ao.prototype.ja=function(t){return fa(t,co(this))},ao.prototype.b=function(t,e){var n=co(this);return n.idToken=e,pa(t,n)},ao.prototype.c=function(t,e){return so(ma(t,co(this)),e)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ja=function(t){return fa(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,pa(t,n)},lo.prototype.c=function(t,e){return so(ma(t,ho(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ka=function(t){return this.Hb=mt(t),this},O(mo,po),O(go,po),go.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},go.prototype.Pb=function(){return X(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},O(yo,go),Wr(yo,"PROVIDER_ID","facebook.com"),Wr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),O(bo,go),Wr(bo,"PROVIDER_ID","github.com"),Wr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),O(wo,go),Wr(wo,"PROVIDER_ID","google.com"),Wr(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),O(Eo,po),Wr(Eo,"PROVIDER_ID","twitter.com"),Wr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),So.prototype.ja=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Ya(t,Ea,{email:this.a,oobCode:this.f}):Ya(t,Ka,{email:this.a,password:this.f})},So.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Ya(t,Oa,{idToken:e,email:this.a,oobCode:this.f}):Ya(t,La,{idToken:e,email:this.a,password:this.f})},So.prototype.c=function(t,e){return so(this.ja(t),e)},So.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Io,{PROVIDER_ID:"password"}),$r(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ao.prototype.ja=function(t){return t.eb(Do(this))},Ao.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,Ya(t,Wa,n)},Ao.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",so(t=Ya(t,$a,n),e)},Ao.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.eb=function(t,e){var n=this.a.a;return Ie(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=m(t)?t.session:null,o=m(t)?t.phoneNumber:t;return(i&&i.type==ro?i.Ha().then((function(t){return function(t,e){return Ya(t,Ua,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==io?i.Ha().then((function(e){return function(t,e){return Ya(t,Va,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Ya(t,ja,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$r(Po,{PROVIDER_ID:"phone"}),$r(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Lo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},Lo.prototype.S=function(){return this.i},Lo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,tenantId:this.i,error:this.a&&this.a.w()}};var Vo,Bo=null;function qo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ho(t,e,n){T.call(this,t,n),(t=e||{}).Ib&&Wr(this,"email",t.Ib),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Yb&&Wr(this,"tenantId",t.Yb)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:jo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function Ko(){}function Go(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.pc,this),this.a.onerror=w(this.Rb,this),this.a.onprogress=w(this.qc,this),this.a.ontimeout=w(this.uc,this)}function Yo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Jo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Xo(t){this.f=t,this.b=this.c=this.a=null}function Zo(t,e){this.name=t,this.value=e}O(qo,T),O(Ho,T),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},Ko.prototype.c=null,O(Go,Ko),Go.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},Vo=new Go,O($o,Ko),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Yo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Yo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jo.prototype.a=null,Jo.prototype.reset=function(t,e,n,r,i){r||E(),delete this.a},Zo.prototype.toString=function(){return this.name};var ts=new Zo("SEVERE",1e3),es=new Zo("WARNING",900),ns=new Zo("CONFIG",700),rs=new Zo("FINE",500);Xo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(M("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Jo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var is={},os=null;function ss(t){var e;if(os||(os=new Xo(""),is[""]=os,os.c=ns),!(e=is[t])){e=new Xo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ss(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,is[t]=e}return e}function as(t,e){t&&t.log(rs,e,void 0)}function cs(t){this.f=t}function us(t){_n.call(this),this.u=t,this.i=void 0,this.readyState=ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.h=ss("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}O(cs,Ko),cs.prototype.a=function(){return new us(this.f)},cs.prototype.b=function(t){return function(){return t}}({}),O(us,_n);var ls=0;function hs(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ds(t){t.readyState=4,t.g=null,t.c=null,t.m=null,fs(t)}function fs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ps(t){_n.call(this),this.headers=new kn,this.O=t||null,this.c=!1,this.A=this.a=null,this.i=this.P=this.l="",this.f=this.N=this.h=this.G=!1,this.g=0,this.s=null,this.m=ms,this.u=this.R=!1}(t=us.prototype).open=function(t,e){if(this.readyState!=ls)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,fs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.i,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ds(this)),this.readyState=ls},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,fs(this)),this.a&&(this.readyState=3,fs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,hs(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ds(this):fs(this),3==this.readyState&&hs(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ds(this))},t.rc=function(t){this.a&&(this.response=t,ds(this))},t.Ta=function(t){var e=this.h;e&&e.log(es,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ds(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(es,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(es,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(us.prototype,"withCredentials",{get:function(){return"include"===this.i},set:function(t){this.i=t?"include":"same-origin"}}),O(ps,_n);var ms="";ps.prototype.b=ss("goog.net.XhrIo");var gs=/^https?$/i,ys=["POST","PUT"];function vs(t){return"content-type"==t.toLowerCase()}function bs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.i=e,_s(t),Cs(t)}function _s(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ws(t){if(t.c&&void 0!==s)if(t.A[1]&&4==Os(t)&&2==Ss(t))as(t.b,Ts(t,"Local request error detected and ignored"));else if(t.h&&4==Os(t))On(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Os(t)){as(t.b,Ts(t,"Request complete")),t.c=!1;try{var e,n=Ss(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&a.self&&a.self.location){var c=a.self.location.protocol;o=c.substr(0,c.length-1)}i=!gs.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<Os(t)?t.a.statusText:""}catch(l){as(t.b,"Can not get status: "+l.message),u=""}t.i=u+" ["+Ss(t)+"]",_s(t)}}finally{Cs(t)}}}function Cs(t,e){if(t.a){Es(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ts,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Es(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Os(t){return t.a?t.a.readyState:0}function Ss(t){try{return 2<Os(t)?t.a.status:-1}catch(e){return-1}}function Ts(t,e){return e+" ["+t.P+" "+t.l+" "+Ss(t)+"]"}function Is(t){var e=Fs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.h=!1,this.i=0,this.b=null,this.l=0}function ks(t,e,n){t.a=!0,t.c=n,t.f=!e,Ds(t)}function xs(t){if(t.a){if(!t.m)throw new Ps(t);t.m=!1}}function As(t,e,n,r){t.g.push([e,n,r]),t.a&&Ds(t)}function Rs(t){return W(t.g,(function(t){return p(t[1])}))}function Ds(t){if(t.i&&t.a&&Rs(t)){var e=t.i,n=Ms[e];n&&(a.clearTimeout(n.a),delete Ms[e]),t.i=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.h;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var c=o.call(i||t.s,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(P(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.h=!0)}catch(u){e=u,t.f=!0,Rs(t)||(n=!0)}}t.c=e,r&&(c=w(t.v,t,!0),r=w(t.v,t,!1),e instanceof Is?(As(e,c,r),e.A=!0):e.then(c,r)),n&&(e=new js(e),Ms[e.a]=e,t.i=e.a)}function Ps(){N.call(this)}function Ns(){N.call(this)}function js(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=ps.prototype).Ma=function(){void 0!==s&&this.a&&(this.i="Timed out after "+this.g+"ms, aborting",as(this.b,Ts(this,this.i)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(as(this.b,Ts(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cs(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Cs(this,!0)),ps.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.h||this.f?ws(this):this.Ic())},t.Ic=function(){ws(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ms:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ts,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return as(this.b,"Can not get response: "+e.message),null}},Is.prototype.cancel=function(t){if(this.a)this.c instanceof Is&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new Ns(this),xs(this),ks(this,!1,t))}},Is.prototype.v=function(t,e){this.h=!1,ks(this,t,e)},Is.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return As(this,r,(function(t){t instanceof Ns?o.cancel():i(t)})),o.then(t,e,n)},Is.prototype.$goog_Thenable=!0,O(Ps,N),Ps.prototype.message="Deferred has already fired",Ps.prototype.name="AlreadyCalledError",O(Ns,N),Ns.prototype.message="Deferred was canceled",Ns.prototype.name="CanceledError",js.prototype.c=function(){throw delete Ms[this.a],this.b};var Ms={};function Ls(t){var e={},n=e.document||document,r=Tt(t).toString(),i=pe(document,"SCRIPT"),o={Vb:i,Ma:void 0},s=new Is(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout((function(){Us(i,!0);var t=new qs(Bs,"Timeout reached for loading script "+r);xs(s),ks(s,!1,t)}),h),o.Ma=c),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Us(i,e.wd||!1,c),xs(s),ks(s,!0,null))},i.onerror=function(){Us(i,!0,c);var t=new qs(Vs,"Error while loading script "+r);xs(s),ks(s,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===u&&(u=l(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Fs(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Us(t,!0,this.Ma)}}function Us(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Vs=0,Bs=1;function qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),N.call(this,n),this.code=t}function Hs(t){this.f=t}function zs(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Ws,this.g=mt(t.secureTokenHeaders||$s),this.i=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Qs,this.a=mt(t.firebaseHeaders||Ys),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!vr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=vr()?new cs(self):_r()?new Hs(n):new $o,this.b=null}O(qs,N),O(Hs,Ko),Hs.prototype.a=function(){return new this.f},Hs.prototype.b=function(){return{}};var Ks,Gs="idToken",Ws=new Ur(3e4,6e4),$s={"Content-Type":"application/x-www-form-urlencoded"},Qs=new Ur(3e4,6e4),Ys={"Content-Type":"application/json"};function Js(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Xs(t,e){e&&(t.l=Zs("https://securetoken.googleapis.com/v1/token",e),t.i=Zs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.h=Zs("https://identitytoolkit.googleapis.com/v2/",e))}function Zs(t,e){return t=Fn(t),e=Fn(e.url),t.c=t.a+t.c,Pn(t,e.f),t.a=e.a,Nn(t,e.g),t.toString()}function ta(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ea(t,e,n,r,i,o,s){(function(){var t=Tr();return!((t=Er(t)!=Cr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Qt&&se&&!(9<se))})()||vr()?t=w(t.u,t):(Ks||(Ks=new _e((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[ra]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){As(t,null,e,void 0)}(Ls(It(na,{onload:ra})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=w(t.s,t)),t(e,n,r,i,o,s)}zs.prototype.S=function(){return this.b},zs.prototype.u=function(t,e,n,r,i,o){if(vr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ps(this.f);if(o){s.g=Math.max(0,o);var c=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return as(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),Cn(s,"ready",(function(){c&&clearTimeout(c),ze(this)})),Cn(s,"timeout",(function(){c&&clearTimeout(c),ze(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.i="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Vo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.O?t.O:Vo),t.a.onreadystatechange=w(t.Ub,t);try{as(t.b,Ts(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return as(t.b,Ts(t,"Error opening Xhr: "+s.message)),void bs(t,s)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)z(t,e,void 0);else for(var n=In(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=vs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!$(ys,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Es(t),0<t.g&&(t.u=function(t){return Qt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),as(t.b,Ts(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=On(t.Ma,t.g,t)),as(t.b,Ts(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(s){as(t.b,Ts(t,"Send error: "+s.message)),bs(t,s)}}(s,t,n,r,i)};var na=new bt(Et,"https://apis.google.com/js/client.js?onload=%{onload}"),ra="__fcb"+Math.floor(1e6*Math.random()).toString();function ia(t){if("string"!=typeof(t=t.email)||!pr.test(t))throw new T("invalid-email")}function oa(t){"email"in t&&ia(t)}function sa(t){if(!t[Gs]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,mt(t));throw new T("internal-error")}}function aa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}zs.prototype.s=function(t,e,n,r,i){var o=this;Ks.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},zs.prototype.yb=function(){return Ya(this,Fa,{})},zs.prototype.Ab=function(t,e){return Ya(this,Ma,{idToken:t,email:e})},zs.prototype.Bb=function(t,e){return Ya(this,La,{idToken:t,password:e})};var ca={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ua(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function la(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ha(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Xn(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function da(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=Ja(t.errorMessage)),e)throw e;sa(t)}function fa(t,e){return e.returnIdpCredential=!0,Ya(t,Ba,e)}function pa(t,e){return e.returnIdpCredential=!0,Ya(t,Ha,e)}function ma(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ya(t,qa,e)}function ga(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=zs.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ft(ca,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ya(this,Ma,n)},t.ub=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),Ya(this,Ra,t)},t.vb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ya(this,ka,t)},t.tb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ya(this,xa,t)},t.Db=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ya(this,Aa,t)},t.eb=function(t){return Ya(this,Ga,t)},t.mb=function(t,e){return Ya(this,Na,{oobCode:t,newPassword:e})},t.Qa=function(t){return Ya(this,va,{oobCode:t})},t.ib=function(t){return Ya(this,ya,{oobCode:t})};var ya={endpoint:"setAccountInfo",B:ga,Z:"email",C:!0},va={endpoint:"resetPassword",B:ga,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},C:!0},ba={endpoint:"signupNewUser",B:function(t){if(ia(t),!t.password)throw new T("weak-password")},F:sa,U:!0,C:!0},_a={endpoint:"createAuthUri",C:!0},wa={endpoint:"deleteAccount",M:["idToken"]},Ca={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ea={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ia,F:sa,U:!0,C:!0},Oa={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ia,F:sa,U:!0},Sa={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ua,F:sa,C:!0,Na:!0},Ta={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ua,F:sa,C:!0,Na:!0},Ia={endpoint:"getAccountInfo"},ka={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ia(t)},Z:"email",C:!0},xa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Aa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Ra={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ia(t)},Z:"email",C:!0},Da={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Pa={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Na={endpoint:"resetPassword",B:ga,Z:"email",C:!0},ja={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ma={endpoint:"setAccountInfo",M:["idToken"],B:oa,U:!0},La={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(oa(t),!t.password)throw new T("weak-password")},F:sa,U:!0},Fa={endpoint:"signupNewUser",F:sa,U:!0,C:!0},Ua={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Va={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Ba={endpoint:"verifyAssertion",B:la,Xa:ha,F:da,U:!0,C:!0},qa={endpoint:"verifyAssertion",B:la,Xa:ha,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw Ja(t.errorMessage);sa(t)},U:!0,C:!0},Ha={endpoint:"verifyAssertion",B:function(t){if(la(t),!t.idToken)throw new T("internal-error")},Xa:ha,F:da,U:!0},za={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new T("invalid-custom-token")},F:sa,U:!0,C:!0},Ka={endpoint:"verifyPassword",B:function(t){if(ia(t),!t.password)throw new T("wrong-password")},F:sa,U:!0,C:!0},Ga={endpoint:"verifyPhoneNumber",B:aa,F:sa,C:!0},Wa={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new T("internal-error");aa(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);sa(t)}},$a={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:aa,F:sa,C:!0},Qa={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Gs]^!!t.refreshToken)throw new T("internal-error")},C:!0,Na:!0};function Ya(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return ke(new T("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Ie(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Fn(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",E().toString());var c="GET"==r;if(c)for(var u in i)i.hasOwnProperty(u)&&Mn(a,u,i[u]);return new _e((function(e,n){ea(t,a.toString(),(function(t){t?t.error?n(Xa(t,o||{})):e(t):n(new T("network-request-failed"))}),r,c?void 0:nr(Nr(i)),t.a,t.m.get())}))}(t,i?t.h:t.i,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function Ja(t){return Xa({error:{errors:[{message:t}],code:400,message:t}})}function Xa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Pr(t)),new T("internal-error",e)}function Za(t){this.b=t,this.a=null,this.qb=function(t){return(rc||(rc=new _e((function(t,e){function n(){Fr(),Ir("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fr(),e(Error("Network Error"))},timeout:ec.get()})}if(Ir("gapi.iframes.Iframe"))t();else if(Ir("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Ir("gapi.load")?n():e(Error("Network Error"))},Ie(Ls(r=It(tc,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw rc=null,t})))).then((function(){return new _e((function(e,n){Ir("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),nc.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var tc=new bt(Et,"https://apis.google.com/js/api.js?onload=%{onload}"),ec=new Ur(3e4,6e4),nc=new Ur(5e3,15e3),rc=null;function ic(t,e,n,r){this.l=t,this.i=e,this.h=n,this.g=r,this.f=null,t=this.g?Un((t=Fn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.i),Mn(this.a,"appName",this.h),this.b=null,this.c=[]}function oc(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.h=this.g=this.l=null,this.a=i,this.i=this.f=null}function sc(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function ac(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.h=i||null,this.l=this.u=this.A=null,this.i=[],this.v=this.a=null}function cc(t){var e=cr();return function(t){return Ya(t,Da,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Fn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:fr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new qo(cr())}))}function uc(t){return t.v||(t.v=mr().then((function(){if(!t.u){var e=t.c,n=t.h,r=sc(t.b),i=new ic(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.m=new Za(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.i.length;n++)r=t.i[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)}))}(t)}))),t.v}function lc(t){return t.l||(t.A=t.c?Sr(t.c,sc(t.b)):null,t.l=new zs(t.g,D(t.h),t.A),t.f&&Xs(t.l,t.f)),t.l}function hc(t,e,n,r,i,o,s,a,c,u,l,h){return(t=new oc(t,e,n,r,i,h)).l=o,t.g=s,t.h=a,t.b=mt(c||null),t.f=u,t.xb(l).toString()}function dc(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fc(t){this.b=t,this.a={},this.f=w(this.c,this)}ic.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},oc.prototype.xb=function(t){return this.i=t,this},oc.prototype.toString=function(){if(this.m){var t=Fn(this.m.url);t=Un(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ka()}catch(c){n=null}for(var i in e.nb=n,Mn(t,"providerId",this.a.providerId),e=Nr((n=this.a).Hb))e[i]=e[i].toString();i=n.Pc,e=mt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),pt(e)||Mn(t,"customParameters",Pr(e))}if("function"==typeof this.a.Pb&&(n=this.a.Pb()).length&&Mn(t,"scopes",n.join(",")),this.l?Mn(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Jn(t.b,"eventId"),this.h?Mn(t,"v",this.h):Jn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ln(t,a)&&Mn(t,a,this.b[a]);return this.i?Mn(t,"tid",this.i):Jn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Jn(t.b,"eid"),(a=sc(this.c)).length&&Mn(t,"fw",a.join(",")),t.toString()},(t=ac.prototype).Nb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return uc(t).then((function(){return function(t,e){return t.qb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new _e((function(e){return function n(){Sn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Sn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Tr();return!Dr(t)&&!Lr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return ke(new T("popup-blocked"));if(s&&!Dr())return this.la().o((function(e){hr(t),i(e)})),r(),Ie();this.a||(this.a=cc(lc(this)));var c=this;return this.a.then((function(){var e=c.la().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){Mo(n),s||ur(hc(c.s,c.g,c.b,e,n,null,o,c.c,void 0,c.h,a,c.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=cc(lc(this)));var i=this;return this.a.then((function(){Mo(e),ur(hc(i.s,i.g,i.b,t,e,cr(),n,i.c,void 0,i.h,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return uc(this).then((function(){return t.m.qb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.i.push(t)},t.Ra=function(t){Y(this.i,(function(e){return e==t}))},(t=dc.prototype).get=function(t){return Ie(this.a.getItem(t)).then((function(t){return t&&jr(t)}))},t.set=function(t,e){return Ie(this.a.setItem(t,Pr(e)))},t.T=function(t){return Ie(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var pc,mc=[];function gc(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function yc(t){this.a=t}function vc(t){this.c=t,this.b=!1,this.a=[]}function bc(t,e,n,r){var i,o,s,a,c=n||{},u=null;if(t.b)return ke(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return _c(t,u),e})).o((function(e){throw _c(t,u),e}))}function _c(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function wc(){if(!Oc())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=a.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.i=null;var t=this;vr()&&self?(this.m=function(){var t=vr()?self:null;if(z(mc,(function(n){n.b==t&&(e=n)})),!e){var e=new fc(t);mc.push(e)}return e}(),gc(this.m,"keyChanged",(function(e,n){return xc(t).then((function(e){return 0<e.length&&z(t.a,(function(t){t(e)})),{keyProcessed:$(e,n.key)}}))})),gc(this.m,"ping",(function(){return Ie(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Ie().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ie(null)}().then((function(e){(t.i=e)&&(t.g=new vc(new yc(e)),bc(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Cc(t){return t.h||(t.h=function t(e){return new _e((function(n,r){var i=e.v.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new _e((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.h}function Ec(t,e){var n=0;return new _e((function r(i,o){Cc(t).then(e).then(i).o((function(e){if(!(3<++n))return Cc(t).then((function(e){return e.close(),t.h=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Oc(){try{return!!a.indexedDB}catch(Wt){return!1}}function Sc(t){return t.objectStore("firebaseLocalStorage")}function Tc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ic(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function kc(t,e){return t.g&&t.i&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.i?bc(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ie()}function xc(t){return Cc(t).then((function(t){var e=Sc(Tc(t,!1));return e.getAll?Ic(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Ac(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Rc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then((function(){if(Oc()){var t=Mr(),r="__sak"+t;return pc||(pc=new wc),(n=pc).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){z(e.a,(function(e){e(t)}))})),t}))}function Dc(){this.a={},this.type="inMemory"}function Pc(){if(!function(){var t="Node"==br();if(!(t=Nc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==br())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Nc()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Nc(){try{var t=a.localStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function jc(){this.type="nullStorage"}function Mc(){if(!function(){var t="Node"==br();if(!(t=Lc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==br())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Lc()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lc(){try{var t=a.sessionStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Fc(){var t={};t.Browser=Bc,t.Node=qc,t.ReactNative=Hc,t.Worker=zc,this.a=t[br()]}fc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,(function(e){i.push(Ie().then((function(){return e(t.origin,t.data.data)})))})),Ae(i).then((function(r){var i=[];z(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),z(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},yc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},vc.prototype.close=function(){for(;0<this.a.length;)_c(this,this.a[0]);this.b=!0},(t=wc.prototype).set=function(t,e){var n=this,r=!1;return Ec(this,(function(e){return Ic((e=Sc(Tc(e,!0))).get(t))})).then((function(i){return Ec(n,(function(o){if(o=Sc(Tc(o,!0)),i)return i.value=e,Ic(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ic(o.add(s))}))})).then((function(){return n.c[t]=e,kc(n,t)})).na((function(){r&&n.b--}))},t.get=function(t){return Ec(this,(function(e){return Ic(Sc(Tc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=this,n=!1;return Ec(this,(function(r){return n=!0,e.b++,Ic(Sc(Tc(r,!0)).delete(t))})).then((function(){return delete e.c[t],kc(e,t)})).na((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Ac(t),function e(){t.f=setTimeout((function(){t.l=xc(t).then((function(e){0<e.length&&z(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&Ac(this)},(t=Rc.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t}))},(t=Dc.prototype).get=function(t){return Ie(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ie()},t.T=function(t){return delete this.a[t],Ie()},t.ca=function(){},t.ia=function(){},(t=Pc.prototype).get=function(t){var e=this;return Ie().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=Pr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&hn(a.window,"storage",t)},(t=jc.prototype).get=function(){return Ie(null)},t.set=function(){return Ie()},t.T=function(){return Ie()},t.ca=function(){},t.ia=function(){},(t=Mc.prototype).get=function(t){var e=this;return Ie().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=Pr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Uc,Vc,Bc={D:Pc,ab:Mc},qc={D:Pc,ab:Mc},Hc={D:dc,ab:jc},zc={D:Pc,ab:jc},Kc={qd:"local",NONE:"none",sd:"session"};function Gc(){var t=!(Lr(Tr())||!yr()),e=Dr(),n=kr();this.v=t,this.i=e,this.l=n,this.a={},Uc||(Uc=new Fc),t=Uc;try{this.g=!ar()&&qr()||!a.indexedDB?new t.a.D:new Rc(vr()?new Dc:new t.a.D)}catch(r){this.g=new Dc,this.i=!0}try{this.h=new t.a.ab}catch(r){this.h=new Dc}this.m=new Dc,this.f=w(this.Xb,this),this.b={}}function Wc(){return Vc||(Vc=new Gc),Vc}function $c(t,e){switch(e){case"session":return t.h;case"none":return t.m;default:return t.g}}function Qc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Yc(t,e,n){return n=Qc(e,n),"local"==e.D&&(t.b[n]=null),$c(t,e.D).T(n)}function Jc(t){t.c&&(clearInterval(t.c),t.c=null)}function Xc(t){this.a=t,this.b=Wc()}(t=Gc.prototype).get=function(t,e){return $c(this,t.D).get(Qc(t,e))},t.set=function(t,e,n){var r=Qc(t,n),i=this,o=$c(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Qc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&($c(this,"local").ca(this.f),this.i||(ar()||!qr())&&a.indexedDB||!this.l||function(t){Jc(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Qc(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&($c(this,"local").ia(this.f),Jc(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?$c(this,"local").ia(this.f):Jc(this),this.v)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.lb(e))},Qt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,w(this.lb,this))},t.lb=function(t){this.a[t]&&z(this.a[t],(function(t){t()}))};var Zc,tu={name:"authEvent",D:"local"};function eu(){this.a=Wc()}function nu(t,e){this.b=ru,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.h=t,this.i=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Zc&&(Zc=a.Int32Array?new Int32Array(lu):lu),this.reset()}O(nu,(function(){this.b=-1}));for(var ru=64,iu=ru-1,ou=[],su=0;su<iu;su++)ou[su]=0;var au=J(128,ou);function cu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&l^~u&h)+(0|Zc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=u,u=c+s|0,c=a,a=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function uu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(cu(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(cu(t),i=0)}}t.c=i,t.g+=n}nu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.i):X(this.i)};var lu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hu(){nu.call(this,8,du)}O(hu,nu);var du=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fu(t,e,n,r,i,o){this.m=t,this.h=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.i=e+":"+n,this.A=new eu,this.g=new Xc(this.i),this.f=null,this.b=[],this.a=this.c=null}function pu(t){return new T("invalid-cordova-configuration",t)}function mu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function gu(t){return t.f||(t.f=t.la().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),yu(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=jr(Ln(o=Fn(i),"firebaseError")||null))?I(o):null)?new Lo(r.c,r.b,null,null,o,null,r.S()):new Lo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}mu(t,i)}))}var n=new Lo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Sn(500).then((function(){return yu(t).then((function(){r||mu(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ir("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new Uo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ir("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function yu(t){var e=null;return function(t){return t.b.get(tu,t.a).then((function(t){return Fo(t)}))}(t.g).then((function(n){return e=n,Yc((n=t.g).b,tu,n.a)})).then((function(){return e}))}function vu(t){this.a=t,this.b=Wc()}(t=fu.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?mr().then((function(){return new _e((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Ir("universalLinks.subscribe",a))throw pu("cordova-universal-links-plugin-fix is not installed");if(void 0===Ir("BuildInfo.packageName",a))throw pu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ir("cordova.plugins.browsertab.openUrl",a))throw pu("cordova-plugin-browsertab is not installed");if("function"!=typeof Ir("cordova.InAppBrowser.open",a))throw pu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Nb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ie()},t.Lb=function(){return ke(new T("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return ke(new T("redirect-operation-pending"));var i=this,o=a.document,s=null,c=null,u=null,l=null;return this.c=Ie().then((function(){return Mo(e),gu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Lo(e,r,null,o,new T("no-auth-event"),null,i),c=Ir("BuildInfo.packageName",a);if("string"!=typeof c)throw new T("invalid-cordova-configuration");var u=Ir("BuildInfo.displayName",a),l={};if(Tr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=c;else{if(!Tr().toLowerCase().match(/android/))return ke(new T("operation-not-supported-in-this-environment"));l.apn=c}u&&(l.appDisplayName=u),o=function(t){var e=new hu;uu(e,t),t=[];var n=8*e.g;uu(e,au,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(cu(e),r=n=0;r<e.h;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=hc(t.m,t.h,t.l,e,n,null,r,t.v,l,t.u,i,t.s);return t.la().then((function(){var e=t.i;return t.A.a.set(tu,s.w(),e)})).then((function(){var e=Ir("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Ir("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ir("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");e=Tr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){c=function(){var e=Ir("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(c),l=function(){Vr()&&u()},o.addEventListener("resume",u=function(){s||(s=Sn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},!1),Tr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return yu(i).then((function(){throw t}))}))})).na((function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),c&&i.Ra(c),i.c=null}))},t.Ea=function(t){this.b.push(t),gu(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Lo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Ra=function(t){Y(this.b,(function(e){return e==t}))};var bu={name:"pendingRedirect",D:"session"};function _u(t){return Yc(t.b,bu,t.a)}function wu(t,e,n,r){this.h={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.i=[],this.f=!1,this.l=w(this.s,this),this.b=new Mu,this.A=new Bu,this.g=new vu(Nu(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Cu(this.O,this.m,this.v,k,this.G)}function Cu(t,e,n,i,o){var s=r.a.SDK_VERSION||null;return gr()?new fu(t,e,n,s,i,o):new ac(t,e,n,s,i,o)}function Eu(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o((function(n){throw t.a==e&&t.reset(),n}))}function Ou(t){t.a.Wb()&&Eu(t).o((function(e){var n=new Lo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Au(e)&&t.s(n)})),t.a.Sb()||Lu(t.b)}function Su(t,e){$(t.i,e)||t.i.push(e),t.f||function(t){return t.b.get(bu,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?_u(t.g).then((function(){Eu(t).o((function(e){var n=new Lo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Au(e)&&t.s(n)}))})):Ou(t)})).o((function(){Ou(t)}))}function Tu(t,e){Y(t.i,(function(t){return t==e}))}wu.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Cu(this.O,this.m,this.v,null,this.G),this.h={}},wu.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=E()-this.u&&(this.h={},this.u=0),t&&t.getUid()&&this.h.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.i.length;n++){var r=this.i[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.i(t,r),t&&(t.f||t.b)&&(this.h[t.getUid()]=!0,this.u=E())),e=!0;break}}return Lu(this.b),e};var Iu=new Ur(2e3,1e4),ku=new Ur(3e4,6e4);function xu(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Au(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Ru(t,e,n,r,i){var o;return function(t){return t.b.set(bu,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).o((function(e){if(Au(e))throw new T("operation-not-supported-in-this-environment");return o=e,_u(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new _e((function(){})):_u(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Du(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Iu.get())}wu.prototype.qa=function(){return this.b.qa()};var Pu={};function Nu(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function ju(t,e,n,r){var i=Nu(e,n,r);return Pu[i]||(Pu[i]=new wu(t,e,n,r)),Pu[i]}function Mu(){this.b=null,this.f=[],this.c=[],this.a=null,this.h=this.g=!1}function Lu(t){t.g||(t.g=!0,Vu(t,!1,null,null))}function Fu(t){t.g&&!t.h&&Vu(t,!1,null,null)}function Uu(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Vu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Uu(t,n):Uu(t,{user:null}),t.f=[],t.c=[]}function Bu(){}function qu(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Hu(t,e){this.a=e,Wr(this,"verificationId",t)}function zu(t,e,n,r){return new Po(t).eb(e,n).then((function(t){return new Hu(t,r)}))}function Ku(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Gu(t,e,n){var r=e&&e[$u];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=mt(e),this.g=n,this.c=new no(null,r),this.b=[];var i=this;z(e[Wu]||[],(function(t){(t=Xr(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Mu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mu.prototype.i=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.h=!(!i&&!o),"unknown"!=n||i||o?t.a?(Vu(this,!0,null,t.a),Ie()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.h,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Vu(t,a,e,null)})).o((function(e){Vu(t,a,null,e)}))}(this,t,e):ke(new T("invalid-auth-event")):(Vu(this,!1,null,null),Ie())}else ke(new T("invalid-auth-event"))},Mu.prototype.qa=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Sn(ku.get()).then((function(){t.b||(t.g=!0,Vu(t,!0,null,e))}))}(t))}))},Bu.prototype.i=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ie()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.h).then((function(t){e.ma(r,t,null,n)})).o((function(t){e.ma(r,null,t,n)}))}(t,e):ke(new T("invalid-auth-event"))}else ke(new T("invalid-auth-event"))},Hu.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Wu="mfaInfo",$u="mfaPendingCredential";function Qu(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new Gu(t,e,n),Wr(this,"resolver",this.b)}function Yu(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Qu(e,t.serverResponse,n,t.message)}catch(r){}return null}function Ju(){}function Xu(t){Wr(this,"factorId",t.fa),this.a=t}function Zu(t){if(Xu.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function tl(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function el(t,e){this.a=t,this.b=[],this.c=w(this.xc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),nl(this,n)}function nl(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function rl(t,e,n){if(this.i=t,this.h=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function il(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ol(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function sl(t,e){t.b=Vi(e[Gs]||""),t.a=e.refreshToken,ol(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function al(t,e){this.a=t||null,this.b=e||null,$r(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function cl(t,e,n,r,i,o){$r(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ul(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?Sr(r.a.SDK_VERSION):null;this.a=new zs(this.l,D(k),i),t.emulatorConfig&&Xs(this.a,t.emulatorConfig),this.b=new il(this.a),yl(this,e[Gs]),sl(this.b,e),Wr(this,"refreshToken",this.b.a),_l(this,n||{}),_n.call(this),this.P=!1,this.s&&xr()&&(this.h=ju(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new rl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.$=w(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.i)},this.ba=null,this.za=function(t){Xs(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){dl(o,t.f)},this.aa=null,this.N=new el(this,n),Wr(this,"multiFactor",this.N)}function ll(t,e){t.ba&&hn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&cn(e,"languageCodeChanged",t.Ba)}function hl(t,e){t.W&&hn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&cn(e,"emulatorConfigChanged",t.za)}function dl(t,e){t.X=e,ta(t.a,r.a.SDK_VERSION?Sr(r.a.SDK_VERSION,t.X):null)}function fl(t,e){t.aa&&hn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&cn(e,"frameworkChanged",t.Aa)}function pl(t){try{return r.a.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function ml(t){t.A||t.u.b||(t.u.start(),hn(t,"tokenChanged",t.$),cn(t,"tokenChanged",t.$))}function gl(t){hn(t,"tokenChanged",t.$),t.u.stop()}function yl(t,e){t.ya=e,Wr(t,"_lat",e)}function vl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ae(e).then((function(){return t}))}function bl(t){t.h&&!t.P&&(t.P=!0,Su(t.h,t))}function _l(t,e){$r(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new al(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function wl(){}function Cl(t){return Ie().then((function(){if(t.A)throw new T("app-deleted")}))}function El(t){return G(t.providerData,(function(t){return t.providerId}))}function Ol(t,e){e&&(Sl(t,e.providerId),t.providerData.push(e))}function Sl(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function Tl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Il(t,e){t!=e&&($r(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wr(t,"metadata",e.metadata?function(t){return new al(t.a,t.b)}(e.metadata):new al),z(e.providerData,(function(e){Ol(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Wr(t,"refreshToken",t.b.a),nl(t.N,e.N.b))}function kl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Ya(t.a,Ia,{idToken:e}).then(w(t.Jc,t))}(t,e).then((function(){return n||Tl(t,"isAnonymous",!1),e}))}))}function xl(t,e){e[Gs]&&t.ya!=e[Gs]&&(sl(t.b,e),t.dispatchEvent(new tl("tokenChanged")),yl(t,e[Gs]),Tl(t,"refreshToken",t.b.a))}function Al(t,e){return kl(t).then((function(){if($(El(t),e))return vl(t).then((function(){throw new T("provider-already-linked")}))}))}function Rl(t,e,n){return Qr({user:t,credential:jo(e),additionalUserInfo:e=Gi(e),operationType:n})}function Dl(t,e){return xl(t,e),t.reload().then((function(){return t}))}function Pl(t,e,n,i,o){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));if(t.f&&!o)return ke(t.f);var s=Ki(n.providerId),a=Mr(t.uid+":::"),c=null;(!Dr()||yr())&&t.s&&n.isOAuthProvider&&(c=hc(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId));var u=dr(c,s&&s.ua,s&&s.ta);return i=i().then((function(){if(jl(t),!o)return t.I().then((function(){}))})).then((function(){return xu(t.h,u,e,n,a,!!c,t.tenantId)})).then((function(){return new _e((function(n,r){t.ma(e,null,new T("cancelled-popup-request"),t.i||null),t.g=n,t.O=r,t.i=a,t.c=Du(t.h,t,e,u,a)}))})).then((function(t){return u&&hr(u),t?Qr(t):null})).o((function(t){throw u&&hr(u),t})),Ml(t,i,o)}function Nl(t,e,n,r,i){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));if(t.f&&!i)return ke(t.f);var o=null,s=Mr(t.uid+":::");return r=r().then((function(){if(jl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,vl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Ul,t.w(),e.a)),e})).then((function(){return Ru(t.h,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Vl(t.ha);throw o})).then((function(){if(o)throw o})),Ml(t,r,i)}function jl(t){if(!t.h||!t.P){if(t.h&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Ml(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),ke(t.f)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new tl("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){Q(t.G,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yu(e.w(),pl(t),w(t.ic,t))),n||e}))}function Ll(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Gs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new ul(e,n,t);return t.providerData&&z(t.providerData,(function(t){t&&Ol(i,Qr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Fl(t){this.a=t,this.b=Wc()}Gu.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=mt(e.f);return delete n[Wu],delete n[$u],yt(n,t),e.g(n)}))},O(Qu,T),Ju.prototype.rb=function(t,e,n){return e.type==ro?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Do(t.a)}),Ya(e,Sa,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),Ya(e,Ta,n)}))}(this,t,e)},O(Xu,Ju),O(Zu,Xu),O(tl,Qe),(t=el.prototype).xc=function(t){nl(this,function(t){var e=[];return z(t.mfaInfo||[],(function(t){(t=Xr(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new no(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return xl(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Ya(r,Qa,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=K(e.b,(function(t){return t.uid!=n}));return nl(e,r),xl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(t){return t.w()}))}}},rl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Vr()||!t?Ie():new _e((function(n){e=function(){Vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.i()})).then((function(){t(e,!0)})).o((function(n){e.h(n)&&t(e,!1)}))}(this,!0)},rl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},il.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},il.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ea(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Xa(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Yn(e).toString(),t.g,t.v.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,ol(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},al.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},O(ul,_n),ul.prototype.wa=function(t){this.pa=t,Js(this.a,t)},ul.prototype.ka=function(){return this.pa},ul.prototype.Ga=function(){return X(this.X)},ul.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(ul.prototype,"providerId","firebase"),(t=ul.prototype).reload=function(){var t=this;return Ml(this,Cl(this).then((function(){return kl(t).then((function(){return vl(t)})).then(wl)})))},t.nc=function(t){return this.I(t).then((function(t){return new Ku(t)}))},t.I=function(t){var e=this;return Ml(this,Cl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.ya&&(yl(e,t.accessToken),e.dispatchEvent(new tl("tokenChanged"))),Tl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");_l(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,(function(t){return new cl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ol(this,e[n]);Tl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new tl("userReloaded",{gd:t}))},t.Kc=function(t){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Ml(this,t.c(this.a,this.uid).then((function(t){return xl(e,t),n=Rl(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Ml(this,Al(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Rl(e,t,"link"),Dl(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Ml(this,Al(this,"phone").then((function(){return zu(pl(n),t,e,w(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Ml(this,Ie().then((function(){return zu(pl(n),t,e,w(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Ml(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return xl(e,t),e.reload()})))},t.dd=function(t){var e=this;return Ml(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return xl(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Ml(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return xl(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Cl(this);var e=this;return Ml(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return xl(e,t),Tl(e,"displayName",t.displayName||null),Tl(e,"photoURL",t.photoUrl||null),z(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),vl(e)})).then(wl))},t.bd=function(t){var e=this;return Ml(this,kl(this).then((function(n){return $(El(e),t)?function(t,e,n){return Ya(t,Ca,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return z(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),z(El(e),(function(t){n[t]||Sl(e,t)})),n[Po.PROVIDER_ID]||Wr(e,"phoneNumber",null),vl(e)})):vl(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Ml(this,this.I().then((function(e){return Ya(t.a,wa,{idToken:e})})).then((function(){t.dispatchEvent(new tl("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");ll(t,null),hl(t,null),fl(t,null),t.G=[],t.A=!0,gl(t),Wr(t,"refreshToken",null),t.h&&Tu(t.h,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.i||null)==e&&this.g||"reauthViaPopup"==t&&(this.i||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.i||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.i||null)?w(this.Jb,this):"reauthViaPopup"==t&&e==(this.i||null)?w(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):null},t.Dc=function(t){var e=this;return Pl(this,"linkViaPopup",t,(function(){return Al(e,t.providerId).then((function(){return vl(e)}))}),!1)},t.Mc=function(t){return Pl(this,"reauthViaPopup",t,(function(){return Ie()}),!0)},t.Ec=function(t){var e=this;return Nl(this,"linkViaRedirect",t,(function(){return Al(e,t.providerId)}),!1)},t.Nc=function(t){return Nl(this,"reauthViaRedirect",t,(function(){return Ie()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ml(this,this.I().then((function(n){return pa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Rl(i,t,"link"),Dl(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ml(this,Ie().then((function(){return so(ma(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Rl(i,t,"reauthenticate"),xl(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Ml(this,this.I().then((function(e){return n=e,void 0===t||pt(t)?{}:Li(new Ii(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Ml(this,this.I().then((function(t){return r=t,void 0===e||pt(e)?{}:Li(new Ii(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Ml(this,t=so(Ie(t),n.uid).then((function(t){return e=Rl(n,t,"reauthenticate"),xl(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),z(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.N.w()),t};var Ul={name:"redirectUser",D:"session"};function Vl(t){return Yc(t.b,Ul,t.a)}function Bl(t){this.a=t,this.b=Wc(),this.c=null,this.f=function(t){var e=zl("local"),n=zl("session"),r=zl("none");return function(t,e,n){var r=Qc(e,n),i=$c(t,e.D);return t.get(e,n).then((function(o){var s=null;try{s=jr(a.localStorage.getItem(r))}catch(c){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Hl,t.a).then((function(t){return t?zl(t):e}))}))}))})).then((function(e){return t.c=e,ql(t,e.D)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(zl("local"),this.a,w(this.g,this))}function ql(t,e){var n,r=[];for(n in Kc)Kc[n]!==e&&r.push(Yc(t.b,zl(Kc[n]),t.a));return r.push(Yc(t.b,Hl,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)xe(t[a],C(o,a),s);else e(i)}))}(r)}Bl.prototype.g=function(){var t=this,e=zl("local");$l(this,(function(){return Ie().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return ql(t,"local").then((function(){t.c=e}))}))}))};var Hl={name:"persistence",D:"session"};function zl(t){return{name:"authUser",D:t}}function Kl(t,e){return $l(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Gl(t){return $l(t,(function(){return Yc(t.b,t.c,t.a)}))}function Wl(t,e,n){return $l(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Ll(t||{})}))}))}function $l(t,e){return t.f=t.f.then(e,e),t.f}function Ql(t){if(this.m=!1,Wr(this,"settings",new qu),Wr(this,"app",t),!rh(this).options||!rh(this).options.apiKey)throw new T("invalid-api-key");t=r.a.SDK_VERSION?Sr(r.a.SDK_VERSION):null,this.a=new zs(rh(this).options&&rh(this).options.apiKey,D(k),t),this.R=[],this.u=[],this.P=[],this.ac=r.a.INTERNAL.createSubscribe(w(this.yc,this)),this.X=void 0,this.bc=r.a.INTERNAL.createSubscribe(w(this.zc,this)),eh(this,null),this.l=new Bl(rh(this).options.apiKey+":"+rh(this).name),this.G=new Fl(rh(this).options.apiKey+":"+rh(this).name),this.$=ah(this,function(t){var e=rh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Ul,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ll(t||{})}))}(t.G,rh(t).options.authDomain).then((function(e){return(t.s=e)&&(e.ha=t.G),Vl(t.G)}));return ah(t,e)}(t).then((function(){return Wl(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Kl(t.l,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Gl(t.l)}))):null})).then((function(e){eh(t,e||null)}));return ah(t,n)}(this)),this.h=ah(this,function(t){return t.$.then((function(){return th(t)})).o((function(){})).then((function(){if(!t.m)return t.pa()})).o((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(zl("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=w(this.Yc,this),this.Ba=w(this.da,this),this.ya=w(this.kc,this),this.za=w(this.vc,this),this.Aa=w(this.wc,this),this.b=null,function(t){var e=rh(t).options.authDomain,n=rh(t).options.apiKey;e&&xr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=ju(e,n,rh(t).name,t.f),Su(t.b,t),ih(t)&&bl(ih(t)),t.s){bl(t.s);var r=t.s;r.wa(t.ka()),ll(r,t),dl(r=t.s,t.N),fl(r,t),Xs((r=t.s).a,t.f),hl(r,t),t.s=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Fc,this),this.A=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function Yl(t){Qe.call(this,"languageCodeChanged"),this.i=t}function Jl(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function Xl(t){Qe.call(this,"frameworkChanged"),this.f=t}function Zl(t){return t.gb||ke(new T("auth-domain-config-required"))}function th(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=Zl(t).then((function(){return t.b.qa()})).then((function(t){return t?Qr(t):null}));return ah(t,e)}function eh(t,e){ih(t)&&(function(t,e){Y(t.R,(function(t){return t==e}))}(ih(t),t.Ba),hn(ih(t),"tokenChanged",t.ya),hn(ih(t),"userDeleted",t.za),hn(ih(t),"userInvalidated",t.Aa),gl(ih(t))),e&&(e.R.push(t.Ba),cn(e,"tokenChanged",t.ya),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.A&&ml(e)),Wr(t,"currentUser",e),e&&(e.wa(t.ka()),ll(e,t),dl(e,t.N),fl(e,t),Xs(e.a,t.f),hl(e,t))}function nh(t,e){var n=null,r=null;return ah(t,e.then((function(e){return n=jo(e),r=Gi(e),function(t,e){var n={};return n.apiKey=rh(t).options.apiKey,n.authDomain=rh(t).options.authDomain,n.appName=rh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new ul(t,e);return n&&(i.ha=n),r&&dl(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return ih(t)&&e.uid==ih(t).uid?(Il(ih(t),e),t.da(e)):(eh(t,e),bl(e),t.da(e))})).then((function(){sh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yu(e.w(),t,w(t.jc,t))),n||e})).then((function(){return Qr({user:ih(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rh(t){return t.app}function ih(t){return t.currentUser}function oh(t){return ih(t)&&ih(t)._lat||null}function sh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](oh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](oh(t))}}function ah(t,e){return t.R.push(e),e.na((function(){Q(t.R,e)})),e}function ch(){}function uh(){this.a={},this.b=1e12}Bl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Kc)if(Kc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Oc()&&"none"!==t)throw n;break;default:if(!kr()&&"none"!==t)throw n}}(t),$l(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,ql(n,t)})).then((function(){if(n.c=zl(t),e)return n.b.set(n.c,e,n.a)})):Ie()}))},O(Ql,_n),O(Yl,Qe),O(Jl,Qe),O(Xl,Qe),(t=Ql.prototype).wb=function(t){return ah(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Js(this.a,this.aa),this.dispatchEvent(new Yl(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&mr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,Xs(this.a,this.f),this.dispatchEvent(new Jl(this.f))}},t.Fc=function(t){this.N.push(t),ta(this.a,r.a.SDK_VERSION?Sr(r.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Xl(this.N))},t.Ga=function(){return X(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:rh(this).options.apiKey,authDomain:rh(this).options.authDomain,appName:rh(this).name,currentUser:ih(this)&&ih(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.i==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.i==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.i==e&&this.g?w(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nh(i,fa(i.a,o))}))},t.Wc=function(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=this,n=Ki(t.providerId),i=Mr(),o=null;(!Dr()||yr())&&rh(this).options.authDomain&&t.isOAuthProvider&&(o=hc(rh(this).options.authDomain,rh(this).options.apiKey,rh(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.S(),this.f));var s=dr(o,n&&n.ua,n&&n.ta);return ah(this,n=Zl(this).then((function(n){return xu(n,s,"signInViaPopup",t,i,!!o,e.S())})).then((function(){return new _e((function(t,n){e.ma("signInViaPopup",null,new T("cancelled-popup-request"),e.i),e.g=t,e.O=n,e.i=i,e.c=Du(e.b,e,"signInViaPopup",s,i)}))})).then((function(t){return s&&hr(s),t?Qr(t):null})).o((function(t){throw s&&hr(s),t})))},t.Xc=function(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=this;return ah(this,Zl(this).then((function(){return function(t){return $l(t,(function(){return t.b.set(Hl,t.c.D,t.a)}))}(e.l)})).then((function(){return Ru(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return th(this).then((function(e){return t.b&&Fu(t.b.b),e})).o((function(e){throw t.b&&Fu(t.b.b),e}))},t.cd=function(t){if(!t)return ke(new T("null-user"));if(this.W!=t.tenantId)return ke(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=rh(this).options.apiKey,n.authDomain=rh(this).options.authDomain,n.appName=rh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Gs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ul(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&dl(e,r),Il(e,t),e}(t,n,e.G,e.Ga());return ah(this,this.h.then((function(){if(rh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ih(e)&&t.uid==ih(e).uid?(Il(ih(e),t),e.da(t)):(eh(e,r),bl(r),e.da(r))})).then((function(){sh(e)})))},t.zb=function(){var t=this;return ah(this,this.h.then((function(){return t.b&&Fu(t.b.b),ih(t)?(eh(t,null),Gl(t.l).then((function(){sh(t)}))):Ie()})))},t.Yc=function(){var t=this;return Wl(this.l,rh(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=ih(t)&&e){n=ih(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Il(ih(t),e),ih(t).I();(ih(t)||e)&&(eh(t,e),e&&(bl(e),e.ha=t.G),t.b&&Su(t.b,t),sh(t))}}))},t.da=function(t){return Kl(this.l,t)},t.kc=function(){sh(this),this.da(ih(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.h.then((function(){return nh(e,Ie(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ih(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),ah(t,t.h.then((function(){!t.m&&$(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(oh(t)))})))}(this,(function(){t.next(ih(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return ah(this,this.h.then((function(){return ih(e)?ih(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.h.then((function(){return nh(e,Ya(e.a,za,{token:t}))})).then((function(t){var n=t.user;return Tl(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Ya(n.a,Ka,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Ya(n.a,ba,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.h.then((function(){return nh(e,t.ja(e.a))}))},t.Rc=function(t){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.h.then((function(){var e=ih(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nh(t,t.a.yb()).then((function(e){var n=e.user;return Tl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ih(this)&&ih(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&ih(this)&&ml(ih(this))},t.Oc=function(t){var e=this;z(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&ih(this)&&gl(ih(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),ah(this,this.h.then((function(){e.m||$(e.u,t)&&t(oh(e))})))},t.removeAuthTokenListener=function(t){Y(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(zl("local"),t.a,this.pa),this.b&&(Tu(this.b,this),Fu(this.b.b)),Promise.resolve()},t.gc=function(t){return ah(this,function(t,e){return Ya(t,_a,{identifier:e,continueUri:Ar()?cr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!xo(t)},t.vb=function(t,e){var n=this;return ah(this,Ie().then((function(){var t=new Ii(e);if(!t.c)throw new T("argument-error",Ai+" must be true when sending sign in link to email");return Li(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return ah(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return ah(this,this.a.Qa(t).then((function(t){return new ii(t)})))},t.ib=function(t){return ah(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return ah(this,Ie().then((function(){return void 0===e||pt(e)?{}:Li(new Ii(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return ah(this,zu(this,t,e,w(this.Za,this)))},t.Uc=function(t,e){var n=this;return ah(this,Ie().then((function(){var r=e||cr(),i=ko(t,r);if(!(r=xo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new T("tenant-id-mismatch");return n.Za(i)})))},ch.prototype.render=function(){},ch.prototype.reset=function(){},ch.prototype.getResponse=function(){},ch.prototype.execute=function(){};var lh=null;function hh(t,e){return(e=dh(e))&&t.a[e]||null}function dh(t){return(t=void 0===t?1e12:t)?t.toString():null}function fh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.i="invisible"!==this.c.size,this.f=ce(t);var n=this;this.h=function(){n.execute()},this.i?this.execute():cn(this.f,"click",this.h)}function ph(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function mh(){}function gh(){}uh.prototype.render=function(t,e){return this.a[this.b.toString()]=new fh(t,e),this.b++},uh.prototype.reset=function(t){var e=hh(this,t);t=dh(t),e&&t&&(e.delete(),delete this.a[t])},uh.prototype.getResponse=function(t){return(t=hh(this,t))?t.getResponse():null},uh.prototype.execute=function(t){(t=hh(this,t))&&t.execute()},fh.prototype.getResponse=function(){return ph(this),this.b},fh.prototype.execute=function(){ph(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.i&&t.execute()}),6e4)}),500))},fh.prototype.delete=function(){ph(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.h)},Wr(mh,"FACTOR_ID","phone"),gh.prototype.g=function(){return lh||(lh=new uh),Ie(lh)},gh.prototype.c=function(){};var yh=null;function vh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bh=new bt(Et,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_h=new Ur(3e4,6e4);vh.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),_h.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete a[e.a]},Ie(Ls(It(bh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},vh.prototype.c=function(){this.b--};var wh=null;function Ch(t,e,n,r,i,o,s){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s?(yh||(yh=new gh),s=yh):(wh||(wh=new vh),s=wh),this.v=s,this.a=n||{theme:"light",type:"image"},this.i=[],this.a[Sh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Th],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.h&&ce(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new zs(t,o||null,i||null),this.u=r||function(){return null};var c=this;this.l=[];var u=this.a[Eh];this.a[Eh]=function(t){if(Ih(c,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Ir(u,a);"function"==typeof e&&e(t)}};var l=this.a[Oh];this.a[Oh]=function(){if(Ih(c,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ir(l,a);"function"==typeof t&&t()}}}var Eh="callback",Oh="expired-callback",Sh="sitekey",Th="size";function Ih(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function kh(t,e){return t.i.push(e),e.na((function(){Q(t.i,e)})),e}function xh(t){if(t.A)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ah(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?Sr(r.a.SDK_VERSION,s):null,Ch.call(this,n,t,e,(function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t}),s,D(k),i)}function Rh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Dh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Dh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Ch.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=kh(this,Ie().then((function(){if(Ar()&&!vr())return mr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,Ya(t.s,Pa,{})})).then((function(e){t.a[Sh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){xh(this);var t=this;return kh(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.h){var n=ce(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',zt(s.name),'"'),s.type){o.push(' type="',zt(s.type),'"');var a={};yt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){xh(this);var t=this;return kh(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.h&&t.g.execute(t.c)}}))})))},t.reset=function(){xh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){xh(this),this.A=!0,this.v.c();for(var t=0;t<this.i.length;t++)this.i[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=ce(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},O(Ah,Ch);var Dh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ph(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Nh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function jh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:m}}function Mh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Lh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Fh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ja||t&&e.providerId!==t)}}}function Uh(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Vh(t){return m(t)&&"string"==typeof t.uid}function Bh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function qh(t,e){for(var n in e){var r=e[n].name;t[r]=Kh(r,t[n],e[n].j)}}function Hh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:C((function(t){return this[t]}),n),set:C((function(t,e,n,r){Rh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function zh(t,e,n,r){t[e]=Kh(e,n,r)}function Kh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Rh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}qh(Ql.prototype,{ib:{name:"applyActionCode",j:[Ph("code")]},Qa:{name:"checkActionCode",j:[Ph("code")]},mb:{name:"confirmPasswordReset",j:[Ph("code"),Ph("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ph("email"),Ph("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Ph("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Ph("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Bh(jh(),Mh(),"nextOrObserver"),Mh("opt_error",!0),Mh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Bh(jh(),Mh(),"nextOrObserver"),Mh("opt_error",!0),Mh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Ph("email"),Bh(jh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Ph("email"),jh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Ph("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Fh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Fh()]},Sc:{name:"signInWithCustomToken",j:[Ph("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Ph("email"),Ph("password")]},Uc:{name:"signInWithEmailLink",j:[Ph("email"),Ph("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Bh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ul)}},Lh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ph(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Ph("url"),jh("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Ph("code")]}}),Hh(Ql.prototype,{lc:{name:"languageCode",jb:Bh(Ph(),Lh(),"languageCode")},ti:{name:"tenantId",jb:Bh(Ph(),Lh(),"tenantId")}}),(Ql.Persistence=Kc).LOCAL="local",Ql.Persistence.SESSION="session",Ql.Persistence.NONE="none",qh(ul.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Nh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Nh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Fh()]},pb:{name:"linkWithCredential",j:[Fh()]},Cc:{name:"linkWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fh()]},sb:{name:"reauthenticateWithCredential",j:[Fh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Bh(jh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ph(null,!0)]},bd:{name:"unlink",j:[Ph("provider")]},Ab:{name:"updateEmail",j:[Ph("email")]},Bb:{name:"updatePassword",j:[Ph("password")]},dd:{name:"updatePhoneNumber",j:[Fh("phone")]},Cb:{name:"updateProfile",j:[jh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Ph("email"),Bh(jh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]}}),qh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(_e.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Hh(qu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Nh("appVerificationDisabledForTesting")}}),qh(Hu.prototype,{confirm:{name:"confirm",j:[Ph("verificationCode")]}}),zh(oo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fo,To,Ro,uo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Bh(Ph(),jh(),"json")]),zh(Io,"credential",(function(t,e){return new So(t,e)}),[Ph("email"),Ph("password")]),qh(So.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),qh(yo.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},Ka:{name:"setCustomParameters",j:[jh("customOAuthParameters")]}}),zh(yo,"credential",vo,[Bh(Ph(),jh(),"token")]),zh(Io,"credentialWithLink",ko,[Ph("email"),Ph("emailLink")]),qh(bo.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},Ka:{name:"setCustomParameters",j:[jh("customOAuthParameters")]}}),zh(bo,"credential",_o,[Bh(Ph(),jh(),"token")]),qh(wo.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},Ka:{name:"setCustomParameters",j:[jh("customOAuthParameters")]}}),zh(wo,"credential",Co,[Bh(Ph(),Bh(jh(),Lh()),"idToken"),Bh(Ph(),Lh(),"accessToken",!0)]),qh(Eo.prototype,{Ka:{name:"setCustomParameters",j:[jh("customOAuthParameters")]}}),zh(Eo,"credential",Oo,[Bh(Ph(),jh(),"token"),Ph("secret",!0)]),qh(go.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},credential:{name:"credential",j:[Bh(Ph(),Bh(jh(),Lh()),"optionsOrIdToken"),Bh(Ph(),Lh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[jh("customOAuthParameters")]}}),qh(lo.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),qh(ao.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),zh(Po,"credential",No,[Ph("verificationId"),Ph("verificationCode")]),qh(Po.prototype,{eb:{name:"verifyPhoneNumber",j:[Bh(Ph(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Uh(t.session,ro)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Uh(t.session,io)&&Vh(t.multiFactorHint):t.session&&t.multiFactorUid?Uh(t.session,io)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),qh(Ao.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),qh(T.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),qh(Ho.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),qh(qo.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),qh(Qu.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),qh(Gu.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),qh(el.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Ph("displayName",!0)]},ad:{name:"unenroll",j:[Bh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Vh},Ph(),"multiFactorInfoIdentifier")]}}),qh(Ah.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),zh(vi,"parseLink",Ti,[Ph("link")]),zh(mh,"assertion",(function(t){return new Zu(t)}),[Fh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ql,AuthCredential:oo,Error:T};zh(t,"EmailAuthProvider",Io,[]),zh(t,"FacebookAuthProvider",yo,[]),zh(t,"GithubAuthProvider",bo,[]),zh(t,"GoogleAuthProvider",wo,[]),zh(t,"TwitterAuthProvider",Eo,[]),zh(t,"OAuthProvider",go,[Ph("providerId")]),zh(t,"SAMLAuthProvider",mo,[Ph("providerId")]),zh(t,"PhoneAuthProvider",Po,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Ql)}}]),zh(t,"RecaptchaVerifier",Ah,[Bh(Ph(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),jh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof r.a.app.App)}}]),zh(t,"ActionCodeURL",vi,[]),zh(t,"PhoneMultiFactorGenerator",mh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Ql(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.mc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.1"),r.a.INTERNAL.extendNamespace({User:ul})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM");class s extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new u(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class u extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.m)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return c}),"PUBLIC"));try{for(var u=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.k)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,o,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&c.push("and"),s&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}u(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.k)(e,t))throw l.create("no-app",{appName:t});return e[t]}function u(a){var c,u,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.n)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var f=Object(o.h)(Object.keys(e)),m=f.next();!m.done;m=f.next())e[m.value]._addComponent(a)}catch(g){c={error:g}}finally{try{m&&!m.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(m);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.n)(e,t)},createSubscribe:s.l,ErrorFactory:s.b,deepExtend:s.n}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.r)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.y)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyDPcmpvQim2DCwtFayefwYprTAMalSpQbg",authDomain:"e-shop-3c48c.firebaseapp.com",projectId:"e-shop-3c48c",storageBucket:"e-shop-3c48c.appspot.com",messagingSenderId:"135354361061",appId:"1:135354361061:web:9f41e303dafbb7be37200c"};var o=n("spgP");let s=null;function a(){return s}const c=new r.r("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.cc)(d)}const h=new r.r("Location Initialized");let d=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c))},t.\u0275prov=Object(r.Kb)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d(Object(r.cc)(c))}function m(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.cc)(c).location;return new w(Object(r.cc)(u),e&&e.origin||"")}const _=new r.r("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return m(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(u),r.cc(_,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=m(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(u),r.cc(_,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(v),r.cc(u))},t.normalizeQueryParams=y,t.joinWithSlash=m,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Kb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new E(Object(r.cc)(v),Object(r.cc)(u))}function S(t){return t.replace(/\/index.html$/,"")}const T={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var I=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),k=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),A=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),R=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),D=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function P(t,e){return U(Object(r.lb)(t)[r.cb.DateFormat],e)}function N(t,e){return U(Object(r.lb)(t)[r.cb.TimeFormat],e)}function j(t,e){return U(Object(r.lb)(t)[r.cb.DateTimeFormat],e)}function M(t,e){const n=Object(r.lb)(t),i=n[r.cb.NumberSymbols][e];if(void 0===i){if(e===D.CurrencyDecimal)return n[r.cb.NumberSymbols][D.Decimal];if(e===D.CurrencyGroup)return n[r.cb.NumberSymbols][D.Group]}return i}const L=r.ob;function F(t){if(!t[r.cb.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.cb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function U(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function V(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const B=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},H=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var z=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),K=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),G=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function W(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function $(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Q(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case K.FullYear:return e.getFullYear();case K.Month:return e.getMonth();case K.Date:return e.getDate();case K.Hours:return e.getHours();case K.Minutes:return e.getMinutes();case K.Seconds:return e.getSeconds();case K.FractionalSeconds:return e.getMilliseconds();case K.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===K.Hours)0===a&&-12===n&&(a=12);else if(t===K.FractionalSeconds)return c=e,$(a,3).substr(0,c);var c;const u=M(s,D.MinusSign);return $(a,e,u,r,i)}}function Y(t,e,n=x.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case G.Months:return function(t,e,n){const i=Object(r.lb)(t),o=U([i[r.cb.MonthsFormat],i[r.cb.MonthsStandalone]],e);return U(o,n)}(e,o,i)[t.getMonth()];case G.Days:return function(t,e,n){const i=Object(r.lb)(t),o=U([i[r.cb.DaysFormat],i[r.cb.DaysStandalone]],e);return U(o,n)}(e,o,i)[t.getDay()];case G.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(s){const t=function(t){const e=Object(r.lb)(t);return F(e),(e[r.cb.ExtraData][2]||[]).map(t=>"string"==typeof t?V(t):[V(t[0]),V(t[1])])}(e),n=function(t,e,n){const i=Object(r.lb)(t);F(i);const o=U([i[r.cb.ExtraData][0],i[r.cb.ExtraData][1]],e)||[];return U(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&c>=e.minutes,i=a<n.hours||a===n.hours&&c<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===c)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.lb)(t),o=U([i[r.cb.DayPeriodsFormat],i[r.cb.DayPeriodsStandalone]],e);return U(o,n)}(e,o,i)[a<12?0:1];case G.Eras:return function(t,e){return U(Object(r.lb)(t)[r.cb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,s,t,e,n,i)}}function J(t){return function(e,n,r){const i=-1*r,o=M(n,D.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case z.Short:return(i>=0?"+":"")+$(s,2,o)+$(Math.abs(i%60),2,o);case z.ShortGMT:return"GMT"+(i>=0?"+":"")+$(s,1,o);case z.Long:return"GMT"+(i>=0?"+":"")+$(s,2,o)+":"+$(Math.abs(i%60),2,o);case z.Extended:return 0===r?"Z":(i>=0?"+":"")+$(s,2,o)+":"+$(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function X(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}var o;return $(i,t,M(r,D.MinusSign))}}const Z={};function tt(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function et(t){return t instanceof Date&&!isNaN(t.valueOf())}const nt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,rt=".",it="0";function ot(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class st{}let at=(()=>{class t extends st{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(L(e||this.locale)(t)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.v))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),ct=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.wb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.t),r.Ob(r.u),r.Ob(r.l),r.Ob(r.F))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class ut{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.X)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ut(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ht(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new ht(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.M),r.Ob(r.t))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ht{constructor(t,e){this.record=t,this.view=e}}let dt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ft,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ft{constructor(){this.$implicit=null,this.ngIf=null}}function pt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}class mt{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let gt=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),yt=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new mt(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.M),r.Ob(gt,1))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),vt=(()=>{class t{constructor(t,e,n){n._addDefault(new mt(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.M),r.Ob(gt,1))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})();function bt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.wb)(t)}'`)}class _t{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class wt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Ct=new wt,Et=new _t;let Ot=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.tb)(e))return Ct;if(Object(r.sb)(e))return Et;throw bt(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.ec())},t.\u0275pipe=r.Nb({name:"async",type:t,pure:!1}),t})(),St=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,i){let o=function(t){if(et(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(B))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,u),e}(n)}const e=new Date(t);if(!et(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.lb)(t)[r.cb.LocaleId]}(e);if(q[i]=q[i]||{},q[i][n])return q[i][n];let o="";switch(n){case"shortDate":o=P(e,R.Short);break;case"mediumDate":o=P(e,R.Medium);break;case"longDate":o=P(e,R.Long);break;case"fullDate":o=P(e,R.Full);break;case"shortTime":o=N(e,R.Short);break;case"mediumTime":o=N(e,R.Medium);break;case"longTime":o=N(e,R.Long);break;case"fullTime":o=N(e,R.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");o=W(j(e,R.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),s=t(e,"mediumDate");o=W(j(e,R.Medium),[i,s]);break;case"long":const a=t(e,"longTime"),c=t(e,"longDate");o=W(j(e,R.Long),[a,c]);break;case"full":const u=t(e,"fullTime"),l=t(e,"fullDate");o=W(j(e,R.Full),[u,l])}return o&&(q[i][n]=o),o}(n,e)||e;let s,a=[];for(;e;){if(s=H.exec(e),!s){a.push(e);break}{a=a.concat(s.slice(1));const t=a.pop();if(!t)break;e=t}}let c=o.getTimezoneOffset();i&&(c=tt(i,c),o=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(tt(e,r)-r))}(o,i));let u="";return a.forEach(t=>{const e=function(t){if(Z[t])return Z[t];let e;switch(t){case"G":case"GG":case"GGG":e=Y(G.Eras,A.Abbreviated);break;case"GGGG":e=Y(G.Eras,A.Wide);break;case"GGGGG":e=Y(G.Eras,A.Narrow);break;case"y":e=Q(K.FullYear,1,0,!1,!0);break;case"yy":e=Q(K.FullYear,2,0,!0,!0);break;case"yyy":e=Q(K.FullYear,3,0,!1,!0);break;case"yyyy":e=Q(K.FullYear,4,0,!1,!0);break;case"M":case"L":e=Q(K.Month,1,1);break;case"MM":case"LL":e=Q(K.Month,2,1);break;case"MMM":e=Y(G.Months,A.Abbreviated);break;case"MMMM":e=Y(G.Months,A.Wide);break;case"MMMMM":e=Y(G.Months,A.Narrow);break;case"LLL":e=Y(G.Months,A.Abbreviated,x.Standalone);break;case"LLLL":e=Y(G.Months,A.Wide,x.Standalone);break;case"LLLLL":e=Y(G.Months,A.Narrow,x.Standalone);break;case"w":e=X(1);break;case"ww":e=X(2);break;case"W":e=X(1,!0);break;case"d":e=Q(K.Date,1);break;case"dd":e=Q(K.Date,2);break;case"E":case"EE":case"EEE":e=Y(G.Days,A.Abbreviated);break;case"EEEE":e=Y(G.Days,A.Wide);break;case"EEEEE":e=Y(G.Days,A.Narrow);break;case"EEEEEE":e=Y(G.Days,A.Short);break;case"a":case"aa":case"aaa":e=Y(G.DayPeriods,A.Abbreviated);break;case"aaaa":e=Y(G.DayPeriods,A.Wide);break;case"aaaaa":e=Y(G.DayPeriods,A.Narrow);break;case"b":case"bb":case"bbb":e=Y(G.DayPeriods,A.Abbreviated,x.Standalone,!0);break;case"bbbb":e=Y(G.DayPeriods,A.Wide,x.Standalone,!0);break;case"bbbbb":e=Y(G.DayPeriods,A.Narrow,x.Standalone,!0);break;case"B":case"BB":case"BBB":e=Y(G.DayPeriods,A.Abbreviated,x.Format,!0);break;case"BBBB":e=Y(G.DayPeriods,A.Wide,x.Format,!0);break;case"BBBBB":e=Y(G.DayPeriods,A.Narrow,x.Format,!0);break;case"h":e=Q(K.Hours,1,-12);break;case"hh":e=Q(K.Hours,2,-12);break;case"H":e=Q(K.Hours,1);break;case"HH":e=Q(K.Hours,2);break;case"m":e=Q(K.Minutes,1);break;case"mm":e=Q(K.Minutes,2);break;case"s":e=Q(K.Seconds,1);break;case"ss":e=Q(K.Seconds,2);break;case"S":e=Q(K.FractionalSeconds,1);break;case"SS":e=Q(K.FractionalSeconds,2);break;case"SSS":e=Q(K.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=J(z.Short);break;case"ZZZZZ":e=J(z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=J(z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=J(z.Long);break;default:return null}return Z[t]=e,e}(t);u+=e?e(o,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(e,n,o||this.locale,i)}catch(s){throw bt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.v))},t.\u0275pipe=r.Nb({name:"date",type:t,pure:!0}),t})(),Tt=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,i="symbol",o,s){if(function(t){return null==t||""===t||t!=t}(e))return null;s=s||this._locale,"boolean"==typeof i&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return Object(r.lb)(t)[r.cb.Currencies]}(n)[t]||T[t]||[],o=i[1];return"narrow"===e&&"string"==typeof o?o:i[0]||t}(a,"symbol"===i?"wide":"narrow",s):i);try{return function(t,e,n,i,o){const s=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(rt)?i.split(rt):[i.substring(0,i.lastIndexOf(it)+1),i.substring(i.lastIndexOf(it)+1)],a=s[0],c=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const t=c.charAt(l);t===it?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.lb)(t)[r.cb.NumberFormats][e]}(e,I.Currency),M(e,D.MinusSign));return s.minFrac=function(t){let e;const n=T[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),s.maxFrac=s.minFrac,function(t,e,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(t)){let u=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(rt))>-1&&(s=s.replace(rt,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===it;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===it;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(nt);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=ot(e)),null!=n&&(h=ot(n)),null!=r?d=ot(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const u=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,c&&(0===r[n]&&n>=u?r.pop():c=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(u,h,d);let f=u.digits,p=u.integerLen;const m=u.exponent;let g=[];for(c=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(M(n,r)),g.length&&(a+=M(n,i)+g.join("")),m&&(a+=M(n,D.Exponential)+"+"+m)}else a=M(n,D.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,s,e,D.CurrencyGroup,D.CurrencyDecimal,o).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),s,a,n,o)}catch(c){throw bt(t,c.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.v),r.Ob(r.k))},t.\u0275pipe=r.Nb({name:"currency",type:t,pure:!0}),t})(),It=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[{provide:st,useClass:at}]}),t})(),kt=(()=>{class t{}return t.\u0275prov=Object(r.Kb)({token:t,providedIn:"root",factory:()=>new xt(Object(r.cc)(c),window,Object(r.cc)(r.n))}),t})();class xt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=At(this.window.history)||At(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function At(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Rt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Rt,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Pt||(Pt=document.querySelector("base"),Pt)?Pt.getAttribute("href"):null;return null==e?null:(n=e,Dt||(Dt=document.createElement("a")),Dt.setAttribute("href",n),"/"===Dt.pathname.charAt(0)?Dt.pathname:"/"+Dt.pathname);var n}resetBaseElement(){Pt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Dt,Pt=null;const Nt=new r.r("TRANSITION_ID"),jt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Nt,c,r.s],multi:!0}];class Mt{static init(){Object(r.Z)(new Mt)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Lt=new r.r("EventManagerPlugins");let Ft=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Lt),r.cc(r.A))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class Ut{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Vt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Bt=(()=>{class t extends Vt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>a().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const qt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ht=/%COMP%/g;function zt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?zt(t,i,n):(i=i.replace(Ht,t),n.push(i))}return n}function Kt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Wt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new $t(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.S.Native:case r.S.ShadowDom:return new Qt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=zt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Ft),r.cc(Bt),r.cc(r.c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class Wt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(qt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=qt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=qt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.H.DashCase?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Kt(n)):this.eventManager.addEventListener(t,e,Kt(n))}}class $t extends Wt{constructor(t,e,n,r){super(t),this.component=n;const i=zt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Ht,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Ht,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Qt extends Wt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.S.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=zt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Yt=(()=>{class t extends Ut{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Jt=["alt","control","meta","shift"],Xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},te={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ee=(()=>{class t extends Ut{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>a().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Jt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Zt.hasOwnProperty(e)&&(e=Zt[e]))}return Xt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Jt.forEach(r=>{r!=n&&(0,te[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const ne=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){Rt.makeCurrent(),Mt.init()},multi:!0},{provide:c,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],re=Object(r.T)(r.Y,"browser",ne),ie=[[],{provide:r.bb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:Lt,useClass:Yt,multi:!0,deps:[c,r.A,r.C]},{provide:Lt,useClass:ee,multi:!0,deps:[c]},[],{provide:Gt,useClass:Gt,deps:[Ft,Bt,r.c]},{provide:r.G,useExisting:Gt},{provide:Vt,useExisting:Bt},{provide:Bt,useClass:Bt,deps:[c]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:Ft,useClass:Ft,deps:[Lt,r.A]},[]];let oe=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Nt,useExisting:r.c},jt]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.cc(t,12))},providers:ie,imports:[It,r.f]}),t})();"undefined"!=typeof window&&window;class se{}const ae="*";function ce(t,e){return{type:7,name:t,definitions:e,options:{}}}function ue(t,e=null){return{type:4,styles:e,timings:t}}function le(t,e=null){return{type:2,steps:t,options:e}}function he(t){return{type:6,styles:t,offset:null}}function de(t,e,n){return{type:0,name:t,styles:e,options:n}}function fe(t){return{type:5,steps:t}}function pe(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function me(t=null){return{type:9,options:t}}function ge(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function ye(t){Promise.resolve(null).then(t)}class ve{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ye(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class be{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?ye(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function _e(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function we(t){switch(t.length){case 0:return new ve;case 1:return t[0];default:return new be(t)}}function Ce(t,e,n,r,i={},o={}){const s=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case ae:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),u=l,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Ee(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Oe(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Oe(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Oe(n,"destroy",t)))}}function Oe(t,e,n){const r=n.totalTime,i=Se(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Se(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Te(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Ie(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let ke=(t,e)=>!1,xe=(t,e)=>!1,Ae=(t,e,n)=>[];const Re=_e();(Re||"undefined"!=typeof Element)&&(ke=(t,e)=>t.contains(e),xe=(()=>{if(Re||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):xe}})(),Ae=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let De=null,Pe=!1;function Ne(t){De||(De=("undefined"!=typeof document?document.body:null)||{},Pe=!!De.style&&"WebkitAppearance"in De.style);let e=!0;return De.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in De.style,!e&&Pe)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in De.style),e}const je=xe,Me=ke,Le=Ae;function Fe(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Ue=(()=>{class t{validateStyleProperty(t){return Ne(t)}matchesElement(t,e){return je(t,e)}containsElement(t,e){return Me(t,e)}query(t,e,n){return Le(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new ve(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Ve=(()=>{class t{}return t.NOOP=new Ue,t})();const Be="ng-enter",qe="ng-leave",He="ng-trigger",ze=".ng-trigger",Ke="ng-animating",Ge=".ng-animating";function We(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$e(parseFloat(e[1]),e[2])}function $e(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Qe(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=$e(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=$e(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function Ye(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Je(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Ye(t,n);return n}function Xe(t,e,n){return n?e+":"+n+";":""}function Ze(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Xe(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Xe(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function tn(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=un(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),_e()&&Ze(t))}function en(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=un(e);t.style[n]=""}),_e()&&Ze(t))}function nn(t){return Array.isArray(t)?1==t.length?t[0]:le(t):t}const rn=new RegExp("{{\\s*(.+?)\\s*}}","g");function on(t){let e=[];if("string"==typeof t){let n;for(;n=rn.exec(t);)e.push(n[1]);rn.lastIndex=0}return e}function sn(t,e,n){const r=t.toString(),i=r.replace(rn,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function an(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const cn=/-+([a-z0-9])/g;function un(t){return t.replace(cn,(...t)=>t[1].toUpperCase())}function ln(t,e){return 0===t||0===e}function hn(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=fn(t,e)}))}}return e}function dn(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function fn(t,e){return window.getComputedStyle(t)[e]}const pn="*";function mn(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(vn(i,s)),"<"!=o[0]||i==pn&&s==pn||e.push(vn(s,i))}(t,n,e)):n.push(t),n}const gn=new Set(["true","1"]),yn=new Set(["false","0"]);function vn(t,e){const n=gn.has(t)||yn.has(t),r=gn.has(e)||yn.has(e);return(i,o)=>{let s=t==pn||t==i,a=e==pn||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?gn.has(t):yn.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?gn.has(e):yn.has(e)),s&&a}}const bn=new RegExp("s*:selfs*,?","g");function _n(t,e,n){return new wn(t).build(e,n)}class wn{constructor(t){this._driver=t}build(t,e){const n=new Cn(e);return this._resetContextStyleTimingState(n),dn(this,nn(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(En(t)){const e=t;Object.keys(e).forEach(t=>{on(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=an(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=dn(this,nn(t.animation),e);return{type:1,matchers:mn(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:On(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>dn(this,t,e)),options:On(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=dn(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:On(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Sn(Qe(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Sn(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Qe(r,e),Sn(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:he({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=he(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==ae?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(En(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=on(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(En(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(En(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:dn(this,nn(t.animation),e),options:On(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:On(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:On(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(bn,"")),[t=t.replace(/@\*/g,ze).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Ge),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Te(e.collectedStyles,e.currentQuerySelector,{});const s=dn(this,nn(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:On(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Qe(t.timings,e.errors,!0);return{type:12,animation:dn(this,nn(t.animation),e),timings:n,options:null}}}class Cn{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function En(t){return!Array.isArray(t)&&"object"==typeof t}function On(t){var e;return t?(t=Ye(t)).params&&(t.params=(e=t.params)?Ye(e):null):t={},t}function Sn(t,e,n){return{duration:t,delay:e,easing:n}}function Tn(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class In{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const kn=new RegExp(":enter","g"),xn=new RegExp(":leave","g");function An(t,e,n,r,i,o={},s={},a,c,u=[]){return(new Rn).buildKeyframes(t,e,n,r,i,o,s,a,c,u)}class Rn{buildKeyframes(t,e,n,r,i,o,s,a,c,u=[]){c=c||new In;const l=new Pn(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),dn(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Tn(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?We(n.duration):null,o=null!=n.delay?We(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),dn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Dn);const t=We(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>dn(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?We(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),dn(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Qe(e.params?sn(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?We(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Dn);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),dn(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;dn(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Dn={};class Pn{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Dn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Nn(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=We(n.duration)),null!=n.delay&&(r.delay=We(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=sn(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Pn(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Dn,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new jn(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(kn,"."+this._enterClassName)).replace(xn,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Nn{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Nn(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ae,this._currentKeyframe[t]=ae}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=ae})):Je(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=sn(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:ae),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=Je(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==ae&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?an(t.values()):[],o=e.size?an(e.values()):[];if(n){const t=r[0],e=Ye(t);t.offset=0,e.offset=1,r=[t,e]}return Tn(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class jn extends Nn{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=Je(t[0],!1);a.offset=0,i.push(a);const c=Je(t[0],!1);c.offset=Mn(s),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let s=Je(t[r],!1);s.offset=Mn((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return Tn(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Mn(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Ln{}class Fn extends Ln{normalizePropertyName(t,e){return un(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(Un[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const Un=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Vn(t,e,n,r,i,o,s,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const Bn={};class qn{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||Bn,d=this.buildStyles(n,s&&s.params||Bn,l),f=a&&a.params||Bn,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},_=u?[]:An(t,e,this.ast.animation,i,o,d,p,b,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Vn(e,this._triggerName,n,r,v,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=Te(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Te(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const C=an(m.values());return Vn(e,this._triggerName,n,r,v,d,p,_,C,g,y,w)}}class Hn{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Ye(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=sn(o,r,e)),n[t]=o})}}),n}}class zn{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Hn(t.style,t.options&&t.options.params||{})}),Kn(this.states,"true","1"),Kn(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new qn(t,e,this.states))}),this.fallbackTransition=new qn(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Kn(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Gn=new In;class Wn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=_n(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Ce(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=An(this._driver,e,i,Be,qe,{},{},n,Gn,r),o.forEach(t=>{const e=Te(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,ae)})});const a=we(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Se(e,"","","");return Ee(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const $n="ng-animate-queued",Qn="ng-animate-disabled",Yn=".ng-animate-disabled",Jn=[],Xn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class tr{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Ye(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const er="void",nr=new tr(er);class rr{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,lr(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=Te(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Te(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(lr(t,He),lr(t,"ng-trigger-"+e),a[e]=nr),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new or(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(lr(t,He),lr(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new tr(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=nr),c.value!==er&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{en(t,n),tn(t,r)})}return}const u=Te(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(lr(t,$n),o.onStart(()=>{hr(t,$n)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,ze,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,er,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&we(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||nr,s=new tr(er),a=new or(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Xn||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){lr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=Se(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Ee(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class ir{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new rr(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(sr(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!sr(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),lr(t,Qn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hr(t,Qn))}removeNode(t,e,n,r){if(sr(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return sr(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,ze,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Ge,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return we(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Xn,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Yn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Yn,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)lr(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?we(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new In,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=ur(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Be+p++;f.set(e,n),t.forEach(t=>lr(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=ur(h,Array.from(g));b.forEach((t,e)=>{const n=qe+p++;v.set(e,n),t.forEach(t=>lr(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>hr(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>hr(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>en(i,p.fromStyles)),e.onDestroy(()=>tn(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>en(i,p.fromStyles)),e.onDestroy(()=>tn(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Te(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,E=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Te(C,e,[]).push(t),t.destroy()})});const O=m.filter(t=>fr(t,a,c)),S=new Map;cr(S,this.driver,y,c,ae).forEach(t=>{fr(t,a,c)&&O.push(t)});const T=new Map;d.forEach((t,e)=>{cr(T,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=S.get(t),n=T.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const I=[],k=[],x={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>tn(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=x;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,i,T,S);if(o.setRealPlayer(n),t===x)I.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=we(e)),r.push(o)}}else en(e,s.fromStyles),o.onDestroy(()=>tn(e,s.toStyles)),k.push(o),u.has(e)&&r.push(o)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=we(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(hr(t,qe),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Ge,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?dr(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==er;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,c=Te(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}en(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new ve(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof be?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Jn).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=Ce(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new or(t,s,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{Te(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>lr(t,Ke));const d=we(h);return d.onDestroy(()=>{u.forEach(t=>hr(t,Ke)),tn(a,e.toStyles)}),l.forEach(t=>{Te(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ve(t.duration,t.delay)}}class or{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ve,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Ee(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Te(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function sr(t){return t&&1===t.nodeType}function ar(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function cr(t,e,n,r,i){const o=[];n.forEach(t=>o.push(ar(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Zn,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>ar(t,o[a++])),s}function ur(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function lr(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function hr(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function dr(t,e,n){we(n).onDone(()=>t.processLeaveNode(e))}function fr(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class pr{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new ir(t,e,n),this._timelineEngine=new Wn(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=_n(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new zn(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ie(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ie(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mr(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=yr(e[0]),e.length>1&&(r=yr(e[e.length-1]))):e&&(n=yr(e)),n||r?new gr(t,n,r):null}let gr=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&tn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tn(this._element,this._initialStyles),this._endStyles&&(tn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(en(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(en(this._element,this._endStyles),this._endStyles=null),tn(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function yr(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];vr(i)&&(e=e||{},e[i]=t[i])}return e}function vr(t){return"display"===t||"position"===t}const br="animation",_r="animationend";class wr{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Ir(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Tr(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Sr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Cr(this._element,this._name,"paused")}resume(){Cr(this._element,this._name,"running")}setPosition(t){const e=Er(this._element,this._name);this._position=t*this._duration,Tr(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Sr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Ir(t,"").split(","),r=Or(n,e);r>=0&&(n.splice(r,1),Tr(t,"",n.join(",")))}(this._element,this._name))}}function Cr(t,e,n){Tr(t,"PlayState",n,Er(t,e))}function Er(t,e){const n=Ir(t,"");return n.indexOf(",")>0?Or(n.split(","),e):Or([n],e)}function Or(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Sr(t,e,n){n?t.removeEventListener(_r,e):t.addEventListener(_r,e)}function Tr(t,e,n,r){const i=br+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Ir(t,e){return t.style[br+e]}class kr{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new wr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:fn(this.element,n))})}this.currentSnapshot=t}}class xr extends ve{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Fe(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Ar{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Ne(t)}matchesElement(t,e){return je(t,e)}containsElement(t,e){return Me(t,e)}query(t,e,n){return Le(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Fe(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof kr),c={};ln(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=hn(t,e,c));if(0==n)return new xr(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=mr(t,e),f=new kr(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Rr{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:fn(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Dr{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Pr().toString()),this._cssKeyframesDriver=new Ar}validateStyleProperty(t){return Ne(t)}matchesElement(t,e){return je(t,e)}containsElement(t,e){return Me(t,e)}query(t,e,n){return Le(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=o.filter(t=>t instanceof Rr);ln(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=mr(t,e=hn(t,e=e.map(t=>Je(t,!1)),c));return new Rr(t,e,a,l)}}function Pr(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Nr=(()=>{class t extends se{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?le(t):t;return Lr(this._renderer,null,e,"register",[n]),new jr(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.G),r.cc(c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class jr extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Mr(this._id,t,e||{},this._renderer)}}class Mr{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Lr(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Lr(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Fr="@",Ur="@.disabled";let Vr=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Br("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new qr(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.G),r.cc(pr),r.cc(r.A))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class Br{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Fr&&e==Ur?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class qr extends Br{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Fr?"."==e.charAt(1)&&e==Ur?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Fr){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=Fr&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Hr=(()=>{class t extends pr{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c),r.cc(Ve),r.cc(Ln))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const zr=new r.r("AnimationModuleType"),Kr=[{provide:Ve,useFactory:function(){return"function"==typeof Pr()?new Dr:new Ar}},{provide:zr,useValue:"BrowserAnimations"},{provide:se,useClass:Nr},{provide:Ln,useFactory:function(){return new Fn}},{provide:pr,useClass:Hr},{provide:r.G,useFactory:function(t,e,n){return new Vr(t,e,n)},deps:[Gt,pr,r.A]}];let Gr=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:Kr,imports:[oe]}),t})();var Wr=n("LRne"),$r=n("Cfvw"),Qr=n("XNiG"),Yr=n("9ppp");class Jr extends Qr.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Yr.a;return this._value}next(t){super.next(this._value=t)}}var Xr=n("z+Ro"),Zr=n("DH7j"),ti=n("7o/Q");class ei extends ti.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ni extends ti.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ri=n("SeVD"),ii=n("HDdC");function oi(t,e,n,r,i=new ni(t,n,r)){if(!i.closed)return e instanceof ii.a?e.subscribe(i):Object(ri.a)(e)(i)}var si=n("yCtX");const ai={};function ci(...t){let e=void 0,n=void 0;return Object(Xr.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Zr.a)(t[0])&&(t=t[0]),Object(si.a)(t,n).lift(new ui(e))}class ui{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new li(t,this.resultSelector))}}class li extends ei{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ai),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(oi(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===ai?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const hi=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var di=n("EY2u");function fi(t){return new ii.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object($r.a)(n):Object(di.b)()).subscribe(e)})}var pi=n("lJxs"),mi=n("bHdf");function gi(){return Object(mi.a)(1)}function yi(t,e){return function(n){return n.lift(new vi(t,e))}}class vi{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new bi(t,this.predicate,this.thisArg))}}class bi extends ti.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const _i=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function wi(t){return function(e){return 0===t?Object(di.b)():e.lift(new Ci(t))}}class Ci{constructor(t){if(this.total=t,this.total<0)throw new _i}call(t,e){return e.subscribe(new Ei(t,this.total))}}class Ei extends ti.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Oi(t=Ii){return e=>e.lift(new Si(t))}class Si{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ti(t,this.errorFactory))}}class Ti extends ti.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(OR){t=OR}this.destination.error(t)}}}function Ii(){return new hi}function ki(t=null){return e=>e.lift(new xi(t))}class xi{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ai(t,this.defaultValue))}}class Ai extends ti.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ri=n("SpAZ"),Di=n("zx2A");function Pi(t,e){return"function"==typeof e?n=>n.pipe(Pi((n,r)=>Object($r.a)(t(n,r)).pipe(Object(pi.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ni(t))}class Ni{constructor(t){this.project=t}call(t,e){return e.subscribe(new ji(t,this.project))}}class ji extends Di.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Di.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Di.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Mi(t){return e=>0===t?Object(di.b)():e.lift(new Li(t))}class Li{constructor(t){if(this.total=t,this.total<0)throw new _i}call(t,e){return e.subscribe(new Fi(t,this.total))}}class Fi extends ti.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ui(...t){return gi()(Object(Wr.a)(...t))}function Vi(...t){const e=t[t.length-1];return Object(Xr.a)(e)?(t.pop(),n=>Ui(t,n,e)):e=>Ui(t,e)}function Bi(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new qi(t,e,n))}}class qi{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Hi(t,this.accumulator,this.seed,this.hasSeed))}}class Hi extends ti.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function zi(t){return function(e){const n=new Ki(t),r=e.lift(n);return n.caught=r}}class Ki{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Gi(t,this.selector,this.caught))}}class Gi extends Di.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Di.a(this);this.add(r);const i=Object(Di.c)(n,r);i!==r&&this.add(i)}}}var Wi=n("5+tZ");function $i(t,e){return Object(Wi.a)(t,e,1)}function Qi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yi((e,n)=>t(e,n,r)):Ri.a,Mi(1),n?ki(e):Oi(()=>new hi))}var Yi=n("vkgz"),Ji=n("quSY");class Xi{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Zi(t,this.callback))}}class Zi extends ti.a{constructor(t,e){super(t),this.add(new Ji.a(e))}}class to{constructor(t,e){this.id=t,this.url=e}}class eo extends to{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class no extends to{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ro extends to{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class io extends to{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oo extends to{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class so extends to{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ao extends to{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class co extends to{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uo extends to{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lo{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ho{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fo{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class po{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class go{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yo{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vo="primary";class bo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _o(t){return new bo(t)}function wo(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Co(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Eo(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Oo(t[i],e[i]))return!1;return!0}function Oo(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function So(t){return Array.prototype.concat.apply([],t)}function To(t){return t.length>0?t[t.length-1]:null}function Io(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ko(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object($r.a)(Promise.resolve(t)):Object(Wr.a)(t)}function xo(t,e,n){return n?function(t,e){return Eo(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Po(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Oo(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Po(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Po(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Po(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Ao{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_o(this.queryParams)),this._queryParamMap}toString(){return Lo.serialize(this)}}class Ro{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Io(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fo(this)}}class Do{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_o(this.parameters)),this._parameterMap}toString(){return zo(this)}}function Po(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function No(t,e){let n=[];return Io(t.children,(t,r)=>{r===vo&&(n=n.concat(e(t,r)))}),Io(t.children,(t,r)=>{r!==vo&&(n=n.concat(e(t,r)))}),n}class jo{}class Mo{parse(t){const e=new Qo(t);return new Ao(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Fo(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Io(e.children,(e,n)=>{n!==vo&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=No(e,(n,r)=>r===vo?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Fo(e)}/${n[0]}`:`${Fo(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Vo(e)}=${Vo(t)}`).join("&"):`${Vo(e)}=${Vo(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Lo=new Mo;function Fo(t){return t.segments.map(t=>zo(t)).join("/")}function Uo(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vo(t){return Uo(t).replace(/%3B/gi,";")}function Bo(t){return Uo(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qo(t){return decodeURIComponent(t)}function Ho(t){return qo(t.replace(/\+/g,"%20"))}function zo(t){return`${Bo(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Bo(t)}=${Bo(e[t])}`).join("")}`;var e}const Ko=/^[^\/()?;=#]+/;function Go(t){const e=t.match(Ko);return e?e[0]:""}const Wo=/^[^=?&#]+/,$o=/^[^?&#]+/;class Qo{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ro([],{}):new Ro([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ro(t,e)),n}parseSegment(){const t=Go(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Do(qo(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Go(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Go(this.remaining);t&&(n=t,this.capture(n))}t[qo(e)]=qo(n)}parseQueryParam(t){const e=function(t){const e=t.match(Wo);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match($o);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ho(e),i=Ho(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Go(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=vo);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ro([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Yo{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Jo(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Jo(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Xo(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Xo(t,this._root).map(t=>t.value)}}function Jo(t,e){if(t===e.value)return e;for(const n of e.children){const e=Jo(t,n);if(e)return e}return null}function Xo(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Xo(t,n);if(r.length)return r.unshift(e),r}return[]}class Zo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ts(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class es extends Yo{constructor(t,e){super(t),this.snapshot=e,as(this,t)}toString(){return this.snapshot.toString()}}function ns(t,e){const n=function(t,e){const n=new os([],{},{},"",{},vo,e,null,t.root,-1,{});return new ss("",new Zo(n,[]))}(t,e),r=new Jr([new Do("",{})]),i=new Jr({}),o=new Jr({}),s=new Jr({}),a=new Jr(""),c=new rs(r,i,s,a,o,vo,e,n.root);return c.snapshot=n.root,new es(new Zo(c,[]),n)}class rs{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(pi.a)(t=>_o(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(pi.a)(t=>_o(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function is(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class os{constructor(t,e,n,r,i,o,s,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_o(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_o(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ss extends Yo{constructor(t,e){super(e),this.url=t,as(this,e)}toString(){return cs(this._root)}}function as(t,e){e.value._routerState=t,e.children.forEach(e=>as(t,e))}function cs(t){const e=t.children.length>0?` { ${t.children.map(cs).join(", ")} } `:"";return`${t.value}${e}`}function us(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Eo(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Eo(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Eo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Eo(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ls(t,e){return Eo(t.params,e.params)&&function(t,e){return Po(t,e)&&t.every((t,n)=>Eo(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ls(t.parent,e.parent))}function hs(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ds(t,e,n,r,i){let o={};return r&&Io(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ao(n.root===t?e:function t(e,n,r){const i={};return Io(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Ro(e.segments,i)}(n.root,t,e),o,i)}class fs{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&hs(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==To(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ps{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ms(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function gs(t,e,n){if(t||(t=new Ro([],{})),0===t.segments.length&&t.hasChildren())return ys(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=ms(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!ws(s,a,e))return o;r+=2}else{if(!ws(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ro(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ro(t.segments.slice(r.pathIndex),t.children),ys(e,0,i)}return r.match&&0===i.length?new Ro(t.segments,{}):r.match&&!t.hasChildren()?vs(t,e,n):r.match?ys(t,0,i):vs(t,e,n)}function ys(t,e,n){if(0===n.length)return new Ro(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[vo]:t}}(n),i={};return Io(r,(n,r)=>{null!==n&&(i[r]=gs(t.children[r],e,n))}),Io(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ro(t.segments,i)}}function vs(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=bs(n[i].outlets);return new Ro(r,t)}if(0===i&&hs(n[0])){r.push(new Do(t.segments[e].path,n[0])),i++;continue}const o=ms(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&hs(s)?(r.push(new Do(o,_s(s))),i+=2):(r.push(new Do(o,{})),i++)}return new Ro(r,{})}function bs(t){const e={};return Io(t,(t,n)=>{null!==t&&(e[n]=vs(new Ro([],{}),0,t))}),e}function _s(t){const e={};return Io(t,(t,n)=>e[n]=""+t),e}function ws(t,e,n){return t==n.path&&Eo(e,n.parameters)}class Cs{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),us(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ts(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Io(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=ts(t),i=t.value.component?n.children:e;Io(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=ts(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new go(t.value.snapshot))}),t.children.length&&this.forwardEvent(new po(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(us(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Es(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Es(t){us(t.value),t.children.forEach(Es)}class Os{constructor(t,e){this.routes=t,this.module=e}}function Ss(t){return"function"==typeof t}function Ts(t){return t instanceof Ao}const Is=Symbol("INITIAL_VALUE");function ks(){return Pi(t=>ci(...t.map(t=>t.pipe(Mi(1),Vi(Is)))).pipe(Bi((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Is)return t;if(r===Is&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ts(r))return r}return t},t)},Is),yi(t=>t!==Is),Object(pi.a)(t=>Ts(t)?t:!0===t),Mi(1)))}class xs{constructor(t){this.segmentGroup=t||null}}class As{constructor(t){this.urlTree=t}}function Rs(t){return new ii.a(e=>e.error(new xs(t)))}function Ds(t){return new ii.a(e=>e.error(new As(t)))}function Ps(t){return new ii.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ns{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,vo).pipe(Object(pi.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(zi(t=>{if(t instanceof As)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof xs)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vo).pipe(Object(pi.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(zi(t=>{if(t instanceof xs)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ro([],{[vo]:t}):t;return new Ao(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(pi.a)(t=>new Ro([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Wr.a)({});const n=[],r=[],i={};return Io(t,(t,o)=>{const s=e(o,t).pipe(Object(pi.a)(t=>i[o]=t));o===vo?n.push(s):r.push(s)}),Wr.a.apply(null,n.concat(r)).pipe(gi(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yi((e,n)=>t(e,n,r)):Ri.a,wi(1),n?ki(e):Oi(()=>new hi))}(),Object(pi.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(Wr.a)(...n).pipe($i(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(zi(t=>{if(t instanceof xs)return Object(Wr.a)(null);throw t}))),Qi(t=>!!t),zi((t,n)=>{if(t instanceof hi||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Wr.a)(new Ro([],{}));throw new xs(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Fs(r)!==o?Rs(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Rs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ds(i):this.lineralizeSegments(n,i).pipe(Object(Wi.a)(n=>{const i=new Ro(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:u}=js(e,r,i);if(!s)return Rs(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Ds(l):this.lineralizeSegments(r,l).pipe(Object(Wi.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(pi.a)(t=>(n._loadedConfig=t,new Ro(r,{})))):Object(Wr.a)(new Ro(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=js(e,n,r);if(!i)return Rs(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Wi.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ls(t,e,n)&&Fs(n)!==vo)}(t,n,r)?{segmentGroup:Ms(new Ro(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Fs(r)!==vo&&(n[Fs(r)]=new Ro([],{}));return n}(r,new Ro(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ls(t,e,n))}(t,n,r)?{segmentGroup:Ms(new Ro(t.segments,function(t,e,n,r){const i={};for(const o of n)Ls(t,e,o)&&!r[Fs(o)]&&(i[Fs(o)]=new Ro([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(pi.a)(t=>new Ro(o,t))):0===r.length&&0===s.length?Object(Wr.a)(new Ro(o,{})):this.expandSegment(n,i,r,s,vo,!0).pipe(Object(pi.a)(t=>new Ro(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Wr.a)(new Os(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Wr.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Wi.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(pi.a)(t=>(e._loadedConfig=t,t))):function(t){return new ii.a(e=>e.error(wo(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Wr.a)(new Os([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Wr.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Ss(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Ss(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return ko(o)});return Object(Wr.a)(i).pipe(ks(),Object(Yi.a)(t=>{if(!Ts(t))return;const e=wo(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(pi.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Wr.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ps(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ao(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Io(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Io(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ro(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function js(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Co)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ms(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ro(t.segments.concat(e.segments),e.children)}return t}function Ls(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Fs(t){return t.outlet||vo}class Us{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vs{constructor(t,e){this.component=t,this.route=e}}function Bs(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=ts(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Po(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Po(t.url,e.url)||!Eo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ls(t,e)||!Eo(t.queryParams,e.queryParams);case"paramsChange":default:return!ls(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Us(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?c?c.children:null:r,i,o),u&&c&&c.outlet&&c.outlet.isActivated&&o.canDeactivateChecks.push(new Vs(c.outlet.component,a))}else a&&Hs(n,c,o),o.canActivateChecks.push(new Us(i)),t(e,null,s.component?c?c.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Io(s,(t,e)=>Hs(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function qs(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Hs(t,e,n){const r=ts(t),i=t.value;Io(r,(t,r)=>{Hs(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Vs(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zs(t,e){return null!==t&&e&&e(new mo(t)),Object(Wr.a)(!0)}function Ks(t,e){return null!==t&&e&&e(new fo(t)),Object(Wr.a)(!0)}function Gs(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Wr.a)(!0);const i=r.map(r=>fi(()=>{const i=qs(r,e,n);let o;if(function(t){return t&&Ss(t.canActivate)}(i))o=ko(i.canActivate(e,t));else{if(!Ss(i))throw new Error("Invalid CanActivate guard");o=ko(i(e,t))}return o.pipe(Qi())}));return Object(Wr.a)(i).pipe(ks())}function Ws(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>fi(()=>{const i=e.guards.map(i=>{const o=qs(i,e.node,n);let s;if(function(t){return t&&Ss(t.canActivateChild)}(o))s=ko(o.canActivateChild(r,t));else{if(!Ss(o))throw new Error("Invalid CanActivateChild guard");s=ko(o(r,t))}return s.pipe(Qi())});return Object(Wr.a)(i).pipe(ks())}));return Object(Wr.a)(i).pipe(ks())}class $s{}class Qs{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Xs(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vo),n=new os([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vo,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Zo(n,e),i=new ss(this.url,r);return this.inheritParamsAndData(i._root),Object(Wr.a)(i)}catch(OR){return new ii.a(e=>e.error(OR))}}inheritParamsAndData(t){const e=t.value,n=is(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=No(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===vo?-1:e.value.outlet===vo?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(OR){if(!(OR instanceof $s))throw OR}if(this.noLeftoversInUrl(e,n,r))return[];throw new $s}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new $s;if((t.outlet||vo)!==r)throw new $s;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?To(n).parameters:{};i=new os(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ea(t),r,t.component,t,Ys(e),Js(e)+n.length,na(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new $s;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Co)(n,t,e);if(!r)throw new $s;const i={};Io(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new os(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ea(t),r,t.component,t,Ys(e),Js(e)+o.length,na(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Xs(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new Zo(i,t)]}if(0===a.length&&0===u.length)return[new Zo(i,[])];const l=this.processSegment(a,c,u,vo);return[new Zo(i,l)]}}function Ys(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Js(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Xs(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Zs(t,e,n)&&ta(n)!==vo)}(t,n,r)){const i=new Ro(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&ta(o)!==vo){const n=new Ro([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ta(o)]=n}return i}(t,e,r,new Ro(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Zs(t,e,n))}(t,n,r)){const o=new Ro(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Zs(t,n,a)&&!i[ta(a)]){const n=new Ro([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ta(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ro(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Zs(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ta(t){return t.outlet||vo}function ea(t){return t.data||{}}function na(t){return t.resolve||{}}function ra(t){return function(e){return e.pipe(Pi(e=>{const n=t(e);return n?Object($r.a)(n).pipe(Object(pi.a)(()=>e)):Object($r.a)([e])}))}}class ia extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let oa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Pb(0,"router-outlet")},directives:function(){return[Ca]},encapsulation:2}),t})();function sa(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];aa(r,ca(e,r))}}function aa(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==vo)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&sa(t.children,e)}function ca(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ua(t){const e=t.children&&t.children.map(ua),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vo&&(n.component=oa),n}const la=new r.r("ROUTES");class ha{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(pi.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Os(So(r.injector.get(la)).map(ua),r)}))}loadModuleFactory(t){return"string"==typeof t?Object($r.a)(this.loader.load(t)):ko(t()).pipe(Object(Wi.a)(t=>t instanceof r.w?Object(Wr.a)(t):Object($r.a)(this.compiler.compileModuleAsync(t))))}}class da{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fa,this.attachRef=null}}class fa{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new da,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class pa{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ma(t){throw t}function ga(t,e,n){return e.parse("/")}function ya(t,e){return Object(Wr.a)(null)}let va=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Qr.a,this.errorHandler=ma,this.malformedUriErrorHandler=ga,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ya,afterPreactivation:ya},this.urlHandlingStrategy=new pa,this.routeReuseStrategy=new ia,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.y),this.console=o.get(r.ab);const u=o.get(r.A);this.isNgZoneEnabled=u instanceof r.A,this.resetConfig(c),this.currentUrlTree=new Ao(new Ro([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ha(s,a,t=>this.triggerEvent(new lo(t)),t=>this.triggerEvent(new ho(t))),this.routerState=ns(this.currentUrlTree,this.rootComponentType),this.transitions=new Jr({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(yi(t=>0!==t.id),Object(pi.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Pi(t=>{let n=!1,r=!1;return Object(Wr.a)(t).pipe(Object(Yi.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pi(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Wr.a)(t).pipe(Pi(t=>{const n=this.transitions.getValue();return e.next(new eo(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?di.a:[t]}),Pi(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Pi(t=>function(t,e,n,r,i){return new Ns(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(pi.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Yi.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Wi.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Qs(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(pi.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Yi.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Yi.a)(t=>{const n=new oo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new eo(n,this.serializeUrl(r),i,o);e.next(a);const c=ns(r,this.rootComponentType).snapshot;return Object(Wr.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),di.a}),ra(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Yi.a)(t=>{const e=new so(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(pi.a)(t=>Object.assign(Object.assign({},t),{guards:Bs(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Wi.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Wr.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object($r.a)(t).pipe(Object(Wi.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Wr.a)(!0);const s=o.map(o=>{const s=qs(o,e,i);let a;if(function(t){return t&&Ss(t.canDeactivate)}(s))a=ko(s.canDeactivate(t,e,n,r));else{if(!Ss(s))throw new Error("Invalid CanDeactivate guard");a=ko(s(t,e,n,r))}return a.pipe(Qi())});return Object(Wr.a)(s).pipe(ks())}(t.component,t.route,n,e,r)),Qi(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Wi.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object($r.a)(e).pipe($i(e=>Object($r.a)([Ks(e.route.parent,r),zs(e.route,r),Ws(t,e.path,n),Gs(t,e.route,n)]).pipe(gi(),Qi(t=>!0!==t,!0))),Qi(t=>!0!==t,!0))}(r,o,t,e):Object(Wr.a)(n)),Object(pi.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Yi.a)(t=>{if(Ts(t.guardsResult)){const e=wo(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Yi.a)(t=>{const e=new ao(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),yi(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new ro(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ra(t=>{if(t.guards.canActivateChecks.length)return Object(Wr.a)(t).pipe(Object(Yi.a)(t=>{const e=new co(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Pi(t=>{let n=!1;return Object(Wr.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Wi.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Wr.a)(t);let o=0;return Object($r.a)(n).pipe($i(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Wr.a)({});const o={};return Object($r.a)(i).pipe(Object(Wi.a)(i=>function(t,e,n,r){const i=qs(t,e,r);return ko(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Yi.a)(t=>{o[i]=t}))),wi(1),Object(Wi.a)(()=>Object.keys(o).length===i.length?Object(Wr.a)(o):di.a))}(t._resolve,t,e,r).pipe(Object(pi.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),is(t,n).resolve),null)))}(t.route,e,r,i)),Object(Yi.a)(()=>o++),wi(1),Object(Wi.a)(e=>o===n.length?Object(Wr.a)(t):di.a))}))}),Object(Yi.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new ro(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Yi.a)(t=>{const e=new uo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ra(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(pi.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Zo(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new rs(new Jr((i=n.value).url),new Jr(i.params),new Jr(i.queryParams),new Jr(i.fragment),new Jr(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Zo(r,o)}}var i}(t,e._root,n?n._root:void 0);return new es(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Yi.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(pi.a)(t=>(new Cs(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Yi.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new ro(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Xi(i))),zi(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ts(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new ro(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new io(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(zC){t.reject(zC)}}var i;return di.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){sa(t),this.config=t.map(ua),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:c}=e;Object(r.X)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=c?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return ds(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fs(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Io(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new fs(n,e,r)}(n);if(o.toRoot())return ds(e.root,new Ro([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ps(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ps(t,t===e.root,0)}const r=hs(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ps(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?ys(s.segmentGroup,s.index,o.commands):gs(s.segmentGroup,s.index,o.commands);return ds(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.X)()&&this.isNgZoneEnabled&&!r.A.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Ts(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(OR){e=this.malformedUriErrorHandler(OR,this.urlSerializer,t)}return e}isActive(t,e){if(Ts(t))return xo(this.currentUrlTree,t,e);const n=this.parseUrl(t);return xo(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new no(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.O),r.cc(jo),r.cc(fa),r.cc(E),r.cc(r.s),r.cc(r.x),r.cc(r.i),r.cc(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),ba=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Qr.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:wa(this.skipLocationChange),replaceUrl:wa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wa(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wa(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(va),r.Ob(rs),r.dc("tabindex"),r.Ob(r.F),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.fc("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.zb]}),t})(),_a=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Qr.a,this.subscription=t.events.subscribe(t=>{t instanceof no&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:wa(this.skipLocationChange),replaceUrl:wa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wa(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wa(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(va),r.Ob(rs),r.Ob(v))},t.\u0275dir=r.Jb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.fc("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.Xb("href",e.href,r.Bc),r.Cb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.zb]}),t})();function wa(t){return""===t||!!t}let Ca=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||vo,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ea(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(fa),r.Ob(r.R),r.Ob(r.j),r.dc("name"),r.Ob(r.h))},t.\u0275dir=r.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ea{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===rs?this.route:t===fa?this.childContexts:this.parent.get(t,e)}}class Oa{}class Sa{preload(t,e){return Object(Wr.a)(null)}}let Ta=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ha(e,n,e=>t.triggerEvent(new lo(e)),e=>t.triggerEvent(new ho(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(yi(t=>t instanceof no),$i(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object($r.a)(n).pipe(Object(mi.a)(),Object(pi.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Wi.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(va),r.cc(r.x),r.cc(r.i),r.cc(r.s),r.cc(Oa))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Ia=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof eo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof no&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new yo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(va),r.cc(kt),r.cc(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const ka=new r.r("ROUTER_CONFIGURATION"),xa=new r.r("ROUTER_FORROOT_GUARD"),Aa=[E,{provide:jo,useClass:Mo},{provide:va,useFactory:function(t,e,n,r,i,o,s,c={},u,l){const h=new va(null,t,e,n,r,i,o,So(s));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=a();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[jo,fa,E,r.s,r.x,r.i,la,ka,[class{},new r.B],[class{},new r.B]]},fa,{provide:rs,useFactory:function(t){return t.routerState.root},deps:[va]},{provide:r.x,useClass:r.L},Ta,Sa,class{preload(t,e){return e().pipe(zi(()=>Object(Wr.a)(null)))}},{provide:ka,useValue:{enableTracing:!1}}];function Ra(){return new r.z("Router",va)}let Da=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Aa,Ma(e),{provide:xa,useFactory:ja,deps:[[va,new r.B,new r.K]]},{provide:ka,useValue:n||{}},{provide:v,useFactory:Na,deps:[u,[new r.q(_),new r.B],ka]},{provide:Ia,useFactory:Pa,deps:[va,kt,ka]},{provide:Oa,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Sa},{provide:r.z,multi:!0,useFactory:Ra},[La,{provide:r.d,multi:!0,useFactory:Fa,deps:[La]},{provide:Va,useFactory:Ua,deps:[La]},{provide:r.b,multi:!0,useExisting:Va}]]}}static forChild(e){return{ngModule:t,providers:[Ma(e)]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.cc(xa,8),r.cc(va,8))}}),t})();function Pa(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ia(t,e,n)}function Na(t,e,n={}){return n.useHash?new C(t,e):new w(t,e)}function ja(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ma(t){return[{provide:r.a,multi:!0,useValue:t},{provide:la,multi:!0,useValue:t}]}let La=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Qr.a}appInitializer(){return this.injector.get(h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(va),r=this.injector.get(ka);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Wr.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(ka),n=this.injector.get(Ta),i=this.injector.get(Ia),o=this.injector.get(va),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.s))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function Fa(t){return t.appInitializer.bind(t)}function Ua(t){return t.bootstrapListener.bind(t)}const Va=new r.r("Router Initializer");var Ba=n("VRyK"),qa=n("pxpQ"),Ha=n("qgXg"),za=n("Ylt2");class Ka extends Qr.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Ga(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Yr.a;if(this.isStopped||this.hasError?o=Ji.a.EMPTY:(this.observers.push(t),o=new za.a(this,t)),r&&t.add(t=new qa.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Ha.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Ga{constructor(t,e){this.time=t,this.value=e}}function Wa(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,c=!1;return function(u){let l;s++,!i||a?(a=!1,i=new Ka(t,e,r),l=i.subscribe(this),o=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function $a(t,e){return e?Pi(()=>t,e):Pi(()=>t)}var Qa=n("tf+s");const Ya=new r.r("angularfire2.auth.use-emulator"),Ja=new r.r("angularfire2.auth.settings"),Xa=new r.r("angularfire2.auth.tenant-id"),Za=new r.r("angularfire2.auth.langugage-code"),tc=new r.r("angularfire2.auth.use-device-language"),ec=new r.r("angularfire.auth.persistence");let nc=(()=>{class t{constructor(t,e,r,i,s,a,c,u,l,h){const d=new o.d(i),f=Object(o.h)(d),p=new Qr.a,m=Object(Wr.a)(void 0).pipe(Object(qa.b)(d.outsideAngular),Pi(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(pi.a)(()=>Object(o.g)(t,i,e)),Object(pi.a)(t=>i.runOutsideAngular(()=>{const e=s,n=a;return Object(o.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),c&&(r.tenantId=c),r.languageCode=u,l&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r},[e,c,u,l,n,h])})),Wa({bufferSize:1,refCount:!1}));if(function(t){return"server"===t}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Wr.a)(null);else{m.pipe(Qi()).subscribe();const t=m.pipe(Pi(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Wa({bufferSize:1,refCount:!1})),e=t=>new ii.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=m.pipe(Pi(t=>e(t.onAuthStateChanged.bind(t)))),r=m.pipe(Pi(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe($a(n),Object(Qa.a)(d.outsideAngular),Object(qa.b)(d.insideAngular)),this.user=t.pipe($a(r),Object(Qa.a)(d.outsideAngular),Object(qa.b)(d.insideAngular)),this.idToken=this.user.pipe(Pi(t=>t?Object($r.a)(t.getIdToken()):Object(Wr.a)(null))),this.idTokenResult=this.user.pipe(Pi(t=>t?Object($r.a)(t.getIdTokenResult()):Object(Wr.a)(null))),this.credential=Object(Ba.a)(t,p,this.authState.pipe(yi(t=>!t))).pipe(Object(pi.a)(t=>(null==t?void 0:t.user)?t:null),Object(Qa.a)(d.outsideAngular),Object(qa.b)(d.insideAngular))}return Object(o.i)(this,m,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>p.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o.c),r.cc(o.b,8),r.cc(r.C),r.cc(r.A),r.cc(Ya,8),r.cc(Ja,8),r.cc(Xa,8),r.cc(Za,8),r.cc(tc,8),r.cc(ec,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(o.c),Object(r.cc)(o.b,8),Object(r.cc)(r.C),Object(r.cc)(r.A),Object(r.cc)(Ya,8),Object(r.cc)(Ja,8),Object(r.cc)(Xa,8),Object(r.cc)(Za,8),Object(r.cc)(tc,8),Object(r.cc)(ec,8))},token:t,providedIn:"any"}),t})(),rc=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[nc]}),t})();var ic=n("D0XW"),oc=n("w1tV");function sc(t,e){return n=>n.lift(new ac(t,e))}class ac{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new cc(t,this.compare,this.keySelector))}}class cc extends ti.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function uc(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new lc(t,n))}}class lc{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new hc(t,this.observables,this.project))}}class hc extends ei{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(oi(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class dc{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new fc(t,this.predicate))}}class fc extends ti.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}n("6Uf2");var pc=n("Jgta");function mc(t){return null==t}function gc(t){return"function"==typeof t.set}function yc(t,e){return gc(e)?e:t.ref(e)}function vc(t,e){if("string"==typeof t)return e.stringCase();if(gc(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function bc(t,e,n="on",r=ic.b){return new ii.a(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(Object(pi.a)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(oc.a)())}function _c(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function wc(t,e){const{payload:n,prevKey:r,key:i}=e,o=_c(t,i),s=function(t,e){if(mc(e))return 0;{const n=_c(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function Cc(t){return(mc(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Ec(t,e,n){return function(t,e,n){return bc(t,"value","once",n).pipe(Pi(r=>{const i=[Object(Wr.a)(r)];return e.forEach(e=>i.push(bc(t,e,"on",n))),Object(Ba.a)(...i).pipe(Bi(wc,[]))}),sc())}(t,e=Cc(e),n)}function Oc(t,e,n){const r=(e=Cc(e)).map(e=>bc(t,e,"on",n));return Object(Ba.a)(...r)}function Sc(t,e){return function(n,r){return vc(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function Tc(t,e){return function(){return bc(t,"value","on",e)}}const Ic=new r.r("angularfire2.realtimeDatabaseURL"),kc=new r.r("angularfire2.database.use-emulator");let xc=(()=>{class t{constructor(t,e,n,r,i,s,a){this.schedulers=new o.d(i),this.keepUnstableUntilFirst=Object(o.h)(this.schedulers);const c=s,u=Object(o.g)(t,i,e);!pc.a.auth&&a&&Object(o.j)(),this.database=Object(o.f)(`${u.name}.database.${n}`,"AngularFireDatabase",u,()=>{const t=i.runOutsideAngular(()=>u.database(n||void 0));return c&&t.useEmulator(...c),t},[c])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>yc(this.database,t));let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Sc(r,"update"),set:Sc(r,"set"),push:t=>r.push(t),remove:(i=r,function(t){return t?vc(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:r=>Ec(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>Oc(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>function(t,e,n){return function(t,e,n){return function(t,e){return bc(t,"value","on",e).pipe(Object(pi.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(uc(e),Object(pi.a)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new dc(r))),Object(pi.a)(t=>t.actions));var r}(t,Oc(t,e).pipe(Bi((t,e)=>[...t,e],[])),n)}(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:(r,i)=>Ec(t,r,n).pipe(Object(pi.a)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var i}(r,this)}object(t){const e=this.schedulers.ngZone.runOutsideAngular(()=>yc(this.database,t));return r=this,{query:n=e,snapshotChanges:()=>Tc(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Tc(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(pi.a)(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o.c),r.cc(o.b,8),r.cc(Ic,8),r.cc(r.C),r.cc(r.A),r.cc(kc,8),r.cc(Ya,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(o.c),Object(r.cc)(o.b,8),Object(r.cc)(Ic,8),Object(r.cc)(r.C),Object(r.cc)(r.A),Object(r.cc)(kc,8),Object(r.cc)(Ya,8))},token:t,providedIn:"any"}),t})(),Ac=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[xc]}),t})();var Rc=n("XoHu");function Dc(t,e){return new ii.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=Object($r.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Pc=new r.r("NgValueAccessor"),Nc={provide:Pc,useExisting:Object(r.V)(()=>jc),multi:!0};let jc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([Nc])]}),t})();const Mc={provide:Pc,useExisting:Object(r.V)(()=>Fc),multi:!0},Lc=new r.r("CompositionEventMode");let Fc=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=a()?a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l),r.Ob(Lc,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.fc("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Ab([Mc])]}),t})(),Uc=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})(),Vc=(()=>{class t extends Uc{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Bc(e||t)},t.\u0275dir=r.Jb({type:t,features:[r.yb]}),t})();const Bc=r.Wb(Vc);class qc extends Uc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Hc{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let zc=(()=>{class t extends Hc{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(qc,2))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),t})(),Kc=(()=>{class t extends Hc{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Vc,2))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),t})();function Gc(t){return null==t||0===t.length}function Wc(t){return null!=t&&"number"==typeof t.length}const $c=new r.r("NgValidators"),Qc=new r.r("NgAsyncValidators"),Yc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Jc{static min(t){return e=>{if(Gc(e.value)||Gc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Gc(e.value)||Gc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Gc(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Gc(t.value)||Yc.test(t.value)?null:{email:!0}}static minLength(t){return e=>Gc(e.value)||!Wc(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Wc(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Jc.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Gc(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Xc);return 0==e.length?null:function(t){return tu(eu(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Xc);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Zr.a)(e))return Dc(e,null);if(Object(Rc.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Dc(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Dc(t=1===t.length&&Object(Zr.a)(t[0])?t[0]:t,null).pipe(Object(pi.a)(t=>e(...t)))}return Dc(t,null)}(eu(t,e).map(Zc)).pipe(Object(pi.a)(tu))}}}function Xc(t){return null!=t}function Zc(t){const e=Object(r.tb)(t)?Object($r.a)(t):t;return Object(r.sb)(e),e}function tu(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function eu(t,e){return e.map(e=>e(t))}function nu(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const ru={provide:Pc,useExisting:Object(r.V)(()=>iu),multi:!0};let iu=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([ru])]}),t})();const ou={provide:Pc,useExisting:Object(r.V)(()=>au),multi:!0};let su=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),au=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(qc),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l),r.Ob(su),r.Ob(r.s))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Ab([ou])]}),t})();const cu={provide:Pc,useExisting:Object(r.V)(()=>uu),multi:!0};let uu=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([cu])]}),t})();const lu={provide:Pc,useExisting:Object(r.V)(()=>du),multi:!0};function hu(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let du=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=hu(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.fc("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([lu])]}),t})(),fu=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(hu(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.F),r.Ob(du,9))},t.\u0275dir=r.Jb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const pu={provide:Pc,useExisting:Object(r.V)(()=>gu),multi:!0};function mu(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let gu=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([pu])]}),t})(),yu=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(mu(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(mu(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.F),r.Ob(gu,9))},t.\u0275dir=r.Jb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function vu(t,e){return[...e.path,t]}function bu(t,e){t.validator=Jc.compose([t.validator,e.validator]),t.asyncValidator=Jc.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_u(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_u(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function _u(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function wu(t,e){t.validator=Jc.compose([t.validator,e.validator]),t.asyncValidator=Jc.composeAsync([t.asyncValidator,e.asyncValidator])}function Cu(t){return null!=t?Jc.compose(nu(t)):null}function Eu(t){return null!=t?Jc.composeAsync(nu(t)):null}function Ou(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const Su=[jc,uu,iu,du,gu,au];function Tu(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Iu(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Fc?n=t:(e=t,Su.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function ku(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const xu="VALID",Au="INVALID",Ru="PENDING",Du="DISABLED";function Pu(t){return(Lu(t)?t.validators:t)||null}function Nu(t){return Array.isArray(t)?Cu(t):t||null}function ju(t,e){return(Lu(e)?e.asyncValidators:t)||null}function Mu(t){return Array.isArray(t)?Eu(t):t||null}function Lu(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Fu{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Nu(this._rawValidators),this._composedAsyncValidatorFn=Mu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===xu}get invalid(){return this.status===Au}get pending(){return this.status==Ru}get disabled(){return this.status===Du}get enabled(){return this.status!==Du}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Nu(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Mu(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ru,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Du,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=xu,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==xu&&this.status!==Ru||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Du:xu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ru,this._hasOwnPendingAsyncValidator=!0;const e=Zc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Vu?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Bu&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?Du:this.errors?Au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ru)?Ru:this._anyControlsHaveStatus(Au)?Au:xu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Lu(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Uu extends Fu{constructor(t=null,e,n){super(Pu(e),ju(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Vu extends Fu{constructor(t,e,n){super(Pu(e),ju(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Uu?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Bu extends Fu{constructor(t,e,n){super(Pu(e),ju(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Uu?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const qu={provide:Vc,useExisting:Object(r.V)(()=>zu)},Hu=(()=>Promise.resolve(null))();let zu=(()=>{class t extends Vc{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.o,this.form=new Vu({},Cu(t),Eu(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hu.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),bu(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hu.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ku(this._directives,t)})}addFormGroup(t){Hu.then(()=>{const e=this._findContainer(t.path),n=new Vu({});wu(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hu.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Hu.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Tu(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ob($c,10),r.Ob(Qc,10))},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.fc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([qu]),r.yb]}),t})();const Ku={provide:qc,useExisting:Object(r.V)(()=>Wu)},Gu=(()=>Promise.resolve(null))();let Wu=(()=>{class t extends qc{constructor(t,e,n,i){super(),this.control=new Uu,this._registered=!1,this.update=new r.o,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Iu(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Ou(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?vu(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Cu(this._rawValidators)}get asyncValidator(){return Eu(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Gu.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Gu.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Vc,9),r.Ob($c,10),r.Ob(Qc,10),r.Ob(Pc,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Ab([Ku]),r.yb,r.zb]}),t})(),$u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Qu=new r.r("NgModelWithFormControlWarning"),Yu={provide:Vc,useExisting:Object(r.V)(()=>Ju)};let Ju=(()=>{class t extends Vc{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.o}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return bu(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){ku(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);wu(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);wu(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Tu(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&bu(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Cu(this._validators);this.form.validator=Jc.compose([this.form.validator,t]);const e=Eu(this._asyncValidators);this.form.asyncValidator=Jc.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob($c,10),r.Ob(Qc,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.fc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([Yu]),r.yb,r.zb]}),t})();const Xu={provide:qc,useExisting:Object(r.V)(()=>Zu)};let Zu=(()=>{class t extends qc{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.o,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Iu(0,i)}set isDisabled(t){}ngOnChanges(e){this._added||this._setUpControl(),Ou(e,this.viewModel)&&(function(t,e,n,i){Object(r.X)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return vu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Cu(this._rawValidators)}get asyncValidator(){return Eu(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Vc,13),r.Ob($c,10),r.Ob(Qc,10),r.Ob(Pc,10),r.Ob(Qu,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Ab([Xu]),r.yb,r.zb]}),t._ngModelWarningSentOnce=!1,t})();const tl={provide:$c,useExisting:Object(r.V)(()=>nl),multi:!0};let el,nl=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Jc.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cb("required",e.required?"":null)},inputs:{required:"required"},features:[r.Ab([tl])]}),t})(),rl=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),il=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Vu(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Uu(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Bu(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Uu||t instanceof Vu||t instanceof Bu?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),ol=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[su],imports:[rl]}),t})(),sl=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Qu,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[il,su],imports:[rl]}),t})();try{el="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(pF){el=!1}let al,cl,ul=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!el)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.C))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.C))},token:t,providedIn:"root"}),t})(),ll=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();function hl(t){return function(){if(null==al&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>al=!0}))}finally{al=al||!1}return al}()?t:!!t.capture}function dl(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function fl(t,e=ic.a){return n=>n.lift(new pl(t,e))}class pl{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ml(t,this.dueTime,this.scheduler))}}class ml extends ti.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(gl,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function gl(t){t.debouncedNext()}function yl(t){return null!=t&&""+t!="false"}function vl(t,e=0){return bl(t)?Number(t):e}function bl(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function _l(t){return Array.isArray(t)?t:[t]}function wl(t){return null==t?"":"string"==typeof t?t:t+"px"}function Cl(t){return t instanceof r.l?t.nativeElement:t}let El=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ol=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Cl(t);return new ii.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Qr.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(El))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(El))},token:t,providedIn:"root"}),t})(),Sl=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=yl(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=vl(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(fl(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Ol),r.Ob(r.l),r.Ob(r.A))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Tl=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[El]}),t})();function Il(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const kl="cdk-describedby-message-container",xl="cdk-describedby-host";let Al=0;const Rl=new Map;let Dl=null,Pl=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),Rl.set(e,{messageElement:e,referenceCount:0})):Rl.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(e&&this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=Rl.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}Dl&&0===Dl.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(xl);Dl&&this._deleteMessagesContainer(),Rl.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),Dl.appendChild(e),Rl.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id="cdk-describedby-message-"+Al++)}_deleteMessageElement(t){const e=Rl.get(t),n=e&&e.messageElement;Dl&&n&&Dl.removeChild(n),Rl.delete(t)}_createMessagesContainer(){if(!Dl){const t=!this._platform||!this._platform.EDGE&&!this._platform.TRIDENT,e=this._document.getElementById(kl);e&&e.parentNode&&e.parentNode.removeChild(e),Dl=this._document.createElement("div"),Dl.id=kl,Dl.classList.add("cdk-visually-hidden"),Dl.setAttribute("aria-hidden",t+""),this._document.body.appendChild(Dl)}}_deleteMessagesContainer(){Dl&&Dl.parentNode&&(Dl.parentNode.removeChild(Dl),Dl=null)}_removeCdkDescribedByReferenceIds(t){const e=Il(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=Rl.get(e);!function(t,e,n){const r=Il(t,e);r.some(t=>t.trim()==n.trim())||(r.push(n.trim()),t.setAttribute(e,r.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(xl,""),n.referenceCount++}_removeMessageReference(t,e){const n=Rl.get(e);n.referenceCount--,function(t,e,n){const r=Il(t,e).filter(t=>t!=n.trim());r.length?t.setAttribute(e,r.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(xl)}_isElementDescribedByMessage(t,e){const n=Il(t,"aria-describedby"),r=Rl.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":(""+e).trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c),r.cc(ul))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(c),Object(r.cc)(ul))},token:t,providedIn:"root"}),t})();class Nl extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Qr.a,this._typeaheadSubscription=Ji.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Qr.a,this.change=new Qr.a,t instanceof r.E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Yi.a)(t=>this._pressedLetters.push(t)),fl(t),yi(()=>this._pressedLetters.length>0),Object(pi.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||dl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}"undefined"!=typeof Element&&Element;const jl=new r.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Ml=new r.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ll=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.cc(jl,8),r.cc(r.A),r.cc(c),r.cc(Ml,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(jl,8),Object(r.cc)(r.A),Object(r.cc)(c),Object(r.cc)(Ml,8))},token:t,providedIn:"root"}),t})();function Fl(t){return 0===t.buttons}const Ul=new r.r("cdk-focus-monitor-default-options"),Vl=hl({passive:!0,capture:!0});let Bl=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Fl(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=ql(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=ql(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=Cl(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Wr.a)(null);const r=function(t){if(function(){if(null==cl){const t="undefined"!=typeof document?document.head:null;cl=!(!t||!t.createShadowRoot&&!t.attachShadow)}return cl}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new Qr.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=Cl(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Cl(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=ql(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==ql(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vl),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vl)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Vl),t.addEventListener("mousedown",this._documentMousedownListener,Vl),t.addEventListener("touchstart",this._documentTouchstartListener,Vl),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vl),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vl),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Vl),t.removeEventListener("mousedown",this._documentMousedownListener,Vl),t.removeEventListener("touchstart",this._documentTouchstartListener,Vl),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.A),r.cc(ul),r.cc(c,8),r.cc(Ul,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.A),Object(r.cc)(ul),Object(r.cc)(c,8),Object(r.cc)(Ul,8))},token:t,providedIn:"root"}),t})();function ql(t){return t.composedPath?t.composedPath()[0]:t.target}const Hl="cdk-high-contrast-black-on-white",zl="cdk-high-contrast-white-on-black",Kl="cdk-high-contrast-active";let Gl=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Kl),t.remove(Hl),t.remove(zl);const e=this.getHighContrastMode();1===e?(t.add(Kl),t.add(Hl)):2===e&&(t.add(Kl),t.add(zl))}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(ul),r.cc(c))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(ul),Object(r.cc)(c))},token:t,providedIn:"root"}),t})(),Wl=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.cc(Gl))},imports:[[ll,Tl]]}),t})();const $l=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(c)}});let Ql=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.cc($l,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)($l,8))},token:t,providedIn:"root"}),t})(),Yl=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();const Jl=new r.Q("10.2.7");function Xl(t,e){if(1&t&&r.Pb(0,"mat-pseudo-checkbox",3),2&t){const t=r.jc();r.qc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Zl=["*"];let th=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),eh=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const nh=new r.Q("10.2.7"),rh=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ih,oh=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&nh.full!==Jl.full&&console.warn("The Angular Material version ("+nh.full+") does not match the Angular CDK version ("+Jl.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.cc(Gl),r.cc(rh,8),r.cc(c,8))},imports:[[Yl],Yl]}),t})();function sh(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=yl(t)}}}function ah(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function ch(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=yl(t)}}}function uh(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?vl(t):this.defaultTabIndex}}}function lh(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Qr.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function hh(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new ii.a(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}try{ih="undefined"!=typeof Intl}catch(pF){ih=!1}let dh=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class fh{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ph={enterDuration:450,exitDuration:400},mh=hl({passive:!0}),gh=["mousedown","touchstart"],yh=["mouseup","mouseleave","touchend","touchcancel"];class vh{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Cl(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},ph),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=a-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=c+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new fh(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},ph),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Cl(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(gh))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(yh),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Fl(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,mh)})})}_removeTriggerEvents(){this._triggerElement&&(gh.forEach(t=>{this._triggerElement.removeEventListener(t,this,mh)}),this._pointerUpEventsRegistered&&yh.forEach(t=>{this._triggerElement.removeEventListener(t,this,mh)}))}}const bh=new r.r("mat-ripple-global-options");let _h=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new vh(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.A),r.Ob(ul),r.Ob(bh,8),r.Ob(zr,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),wh=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[oh,ll],oh]}),t})(),Ch=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(zr,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Gb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),Eh=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();class Oh{}const Sh=sh(Oh);let Th=0,Ih=(()=>{class t extends Sh{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+Th++}}return t.\u0275fac=function(e){return kh(e||t)},t.\u0275dir=r.Jb({type:t,inputs:{label:"label"},features:[r.yb]}),t})();const kh=r.Wb(Ih),xh=new r.r("MatOptgroup");let Ah=0;class Rh{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const Dh=new r.r("MAT_OPTION_PARENT_COMPONENT");let Ph=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ah++,this.onSelectionChange=new r.o,this._stateChanges=new Qr.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=yl(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||dl(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Rh(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(void 0),r.Ob(Ih))},t.\u0275dir=r.Jb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),Nh=(()=>{class t extends Ph{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(Dh,8),r.Ob(xh,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.fc("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(r.Xb("id",e.id),r.Cb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Gb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.yb],ngContentSelectors:Zl,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(r.pc(),r.Gc(0,Xl,1,2,"mat-pseudo-checkbox",0),r.Ub(1,"span",1),r.oc(2),r.Tb(),r.Pb(3,"div",2)),2&t&&(r.qc("ngIf",e.multiple),r.Bb(3),r.qc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[dt,_h,Ch],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function jh(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),o=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[o]&&o++;return o}return 0}let Mh=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[wh,It,Eh]]}),t})();const Lh=new r.r("mat-label-global-options"),Fh=["mat-button",""],Uh=["*"],Vh=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Bh{constructor(t){this._elementRef=t}}const qh=ah(sh(ch(Bh)));let Hh=(()=>{class t extends qh{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Vh)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(Bl),r.Ob(zr,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.Mc(_h,!0),2&t&&r.xc(n=r.gc())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Cb("disabled",e.disabled||null),r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.yb],attrs:Fh,ngContentSelectors:Uh,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.pc(),r.Ub(0,"span",0),r.oc(1),r.Tb(),r.Pb(2,"span",1),r.Pb(3,"span",2)),2&t&&(r.Bb(2),r.Gb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.qc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[_h],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),zh=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[wh,oh],oh]}),t})();var Kh=n("n6bG");function Gh(t,e,n,r){return Object(Kh.a)(n)&&(r=n,n=void 0),r?Gh(t,e,n).pipe(Object(pi.a)(t=>Object(Zr.a)(t)?r(...t):r(t))):new ii.a(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}n("3N8a"),n("IjjT"),n("7Hc7");class Wh{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new $h(t,this.durationSelector))}}class $h extends Di.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Di.c)(n,new Di.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Qh=n("Y7HM");function Yh(t=0,e,n){let r=-1;return Object(Qh.a)(e)?r=Number(e)<1?1:Number(e):Object(Xr.a)(e)&&(n=e),Object(Xr.a)(n)||(n=ic.a),new ii.a(e=>{const i=Object(Qh.a)(t)?t:+t-n.now();return n.schedule(Jh,i,{index:0,period:r,subscriber:e})})}function Jh(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Xh(t,e=ic.a){return n=()=>Yh(t,e),function(t){return t.lift(new Wh(n))};var n}function Zh(t){return e=>e.lift(new td(t))}class td{constructor(t){this.notifier=t}call(t,e){const n=new ed(t),r=Object(Di.c)(this.notifier,new Di.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class ed extends Di.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function nd(t){return t&&"function"==typeof t.connect}class rd{applyChanges(t,e,n,r,i){t.forEachOperation((t,r,o)=>{let s,a;if(null==t.previousIndex){const i=n(t,r,o);s=e.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==o?(e.remove(r),a=3):(s=e.get(r),e.move(s,o),a=2);i&&i({context:null==s?void 0:s.context,operation:a,record:t})})}detach(){}}class id{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Qr.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const od=new r.r("_ViewRepeater");let sd=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Qr.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ii.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Xh(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Wr.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(yi(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Gh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.A),r.cc(ul),r.cc(c,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.A),Object(r.cc)(ul),Object(r.cc)(c,8))},token:t,providedIn:"root"}),t})(),ad=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Qr.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Xh(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(ul),r.cc(r.A),r.cc(c,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(ul),Object(r.cc)(r.A),Object(r.cc)(c,8))},token:t,providedIn:"root"}),t})(),cd=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),ud=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Yl,ll,cd],Yl,cd]}),t})();class ld{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class hd extends ld{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class dd extends ld{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class fd extends ld{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class pd extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof hd?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof dd?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof fd?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let md=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();class gd{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new yd(t,this.predicate,this.inclusive))}}class yd extends ti.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}class vd{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=wl(-this._previousScrollPosition.left),t.style.top=wl(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class bd{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _d{enable(){}disable(){}attach(){}}function wd(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Cd(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Ed{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();wd(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Od=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new _d,this.close=t=>new bd(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new vd(this._viewportRuler,this._document),this.reposition=t=>new Ed(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.cc(sd),r.cc(ad),r.cc(r.A),r.cc(c))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(sd),Object(r.cc)(ad),Object(r.cc)(r.A),Object(r.cc)(c))},token:t,providedIn:"root"}),t})();class Sd{constructor(t){if(this.scrollStrategy=new _d,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Td{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Id{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let kd=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(c))},token:t,providedIn:"root"}),t})(),xd=(()=>{class t extends kd{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(c))},token:t,providedIn:"root"}),t})(),Ad=(()=>{class t extends kd{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c),r.cc(ul))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(c),Object(r.cc)(ul))},token:t,providedIn:"root"}),t})();const Rd=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Dd=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window,e="cdk-overlay-container";if(t||Rd){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const n=this._document.createElement("div");n.classList.add(e),Rd?n.setAttribute("platform","test"):t||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c),r.cc(ul))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(c),Object(r.cc)(ul))},token:t,providedIn:"root"}),t})();class Pd{constructor(t,e,n,r,i,o,s,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Qr.a,this._attachments=new Qr.a,this._detachments=new Qr.a,this._locationChanges=Ji.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Qr.a,this._outsidePointerEvents=new Qr.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Mi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=wl(this._config.width),t.height=wl(this._config.height),t.minWidth=wl(this._config.minWidth),t.minHeight=wl(this._config.minHeight),t.maxWidth=wl(this._config.maxWidth),t.maxHeight=wl(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;_l(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Zh(Object(Ba.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Nd="cdk-overlay-connected-position-bounding-box",jd=/([A-Za-z%]+)$/;class Md{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Qr.a,this._resizeSubscription=Ji.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Nd),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ld(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Nd),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:o}=t,s=this._getOffset(r,"x"),a=this._getOffset(r,"y");s&&(i+=s),a&&(o+=a);let c=0-o,u=o+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,c,u),d=l*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=Fd(this._overlayRef.getConfig().minHeight),s=Fd(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.width,0),o=Math.max(t.y+e.height-r.height,0),s=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let c=0,u=0;return c=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=e.height<=r.height?s||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Id(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,c,u;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:o,left:c,bottom:s,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=wl(n.height),r.top=wl(n.top),r.bottom=wl(n.bottom),r.width=wl(n.width),r.left=wl(n.left),r.right=wl(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=wl(t)),i&&(r.maxWidth=wl(i))}this._lastBoundingBoxSize=n,Ld(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ld(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ld(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Ld(n,this._getExactOverlayY(e,t,r)),Ld(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=wl(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=wl(o.maxWidth):i&&(n.maxWidth="")),Ld(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=wl(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=wl(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Cd(t,n),isOriginOutsideView:wd(t,n),isOverlayClipped:Cd(e,n),isOverlayOutsideView:wd(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&_l(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Ld(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Fd(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(jd);return n&&"px"!==n?null:parseFloat(e)}return t||null}class Ud{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new Md(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Td(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Vd="cdk-global-overlay-wrapper";class Bd{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Vd),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Vd),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let qd=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new Bd}connectedTo(t,e,n){return new Ud(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Md(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(ad),r.cc(c),r.cc(ul),r.cc(Dd))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(ad),Object(r.cc)(c),Object(r.cc)(ul),Object(r.cc)(Dd))},token:t,providedIn:"root"}),t})(),Hd=0,zd=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Sd(t);return i.direction=i.direction||this._directionality.value,new Pd(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Hd++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new pd(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Od),r.cc(Dd),r.cc(r.j),r.cc(qd),r.cc(xd),r.cc(r.s),r.cc(r.A),r.cc(c),r.cc(Ql),r.cc(E),r.cc(Ad))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Kd=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Gd=new r.r("cdk-connected-overlay-scroll-strategy");let Wd=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),$d=(()=>{class t{constructor(t,e,n,i,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ji.a.EMPTY,this._attachSubscription=Ji.a.EMPTY,this._detachSubscription=Ji.a.EMPTY,this._positionSubscription=Ji.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new r.o,this.positionChange=new r.o,this.attach=new r.o,this.detach=new r.o,this.overlayKeydown=new r.o,this.overlayOutsideClick=new r.o,this._templatePortal=new dd(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=yl(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=yl(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=yl(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=yl(t)}get push(){return this._push}set push(t){this._push=yl(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Kd);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||dl(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new Sd({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new gd(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(zd),r.Ob(r.M),r.Ob(r.R),r.Ob(Gd),r.Ob(Ql,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.zb]}),t})();const Qd={provide:Gd,deps:[zd],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Yd=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[zd,Qd],imports:[[Yl,md,ud],ud]}),t})();const Jd=["underline"],Xd=["connectionContainer"],Zd=["inputContainer"],tf=["label"];function ef(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",14),r.Pb(2,"div",15),r.Pb(3,"div",16),r.Pb(4,"div",17),r.Tb(),r.Ub(5,"div",18),r.Pb(6,"div",15),r.Pb(7,"div",16),r.Pb(8,"div",17),r.Tb(),r.Rb())}function nf(t,e){1&t&&(r.Ub(0,"div",19),r.oc(1,1),r.Tb())}function rf(t,e){if(1&t&&(r.Sb(0),r.oc(1,2),r.Ub(2,"span"),r.Ic(3),r.Tb(),r.Rb()),2&t){const t=r.jc(2);r.Bb(3),r.Jc(t._control.placeholder)}}function of(t,e){1&t&&r.oc(0,3,["*ngSwitchCase","true"])}function sf(t,e){1&t&&(r.Ub(0,"span",23),r.Ic(1," *"),r.Tb())}function af(t,e){if(1&t){const t=r.Vb();r.Ub(0,"label",20,21),r.fc("cdkObserveContent",(function(){return r.Ac(t),r.jc().updateOutlineGap()})),r.Gc(2,rf,4,1,"ng-container",12),r.Gc(3,of,1,0,"ng-content",12),r.Gc(4,sf,2,0,"span",22),r.Tb()}if(2&t){const t=r.jc();r.Gb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.qc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Cb("for",t._control.id)("aria-owns",t._control.id),r.Bb(2),r.qc("ngSwitchCase",!1),r.Bb(1),r.qc("ngSwitchCase",!0),r.Bb(1),r.qc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function cf(t,e){1&t&&(r.Ub(0,"div",24),r.oc(1,4),r.Tb())}function uf(t,e){if(1&t&&(r.Ub(0,"div",25,26),r.Pb(2,"span",27),r.Tb()),2&t){const t=r.jc();r.Bb(2),r.Gb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function lf(t,e){if(1&t&&(r.Ub(0,"div"),r.oc(1,5),r.Tb()),2&t){const t=r.jc();r.qc("@transitionMessages",t._subscriptAnimationState)}}function hf(t,e){if(1&t&&(r.Ub(0,"div",31),r.Ic(1),r.Tb()),2&t){const t=r.jc(2);r.qc("id",t._hintLabelId),r.Bb(1),r.Jc(t.hintLabel)}}function df(t,e){if(1&t&&(r.Ub(0,"div",28),r.Gc(1,hf,2,2,"div",29),r.oc(2,6),r.Pb(3,"div",30),r.oc(4,7),r.Tb()),2&t){const t=r.jc();r.qc("@transitionMessages",t._subscriptAnimationState),r.Bb(1),r.qc("ngIf",t.hintLabel)}}const ff=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],pf=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],mf=new r.r("MatError"),gf={transitionMessages:ce("transitionMessages",[de("enter",he({opacity:1,transform:"translateY(0%)"})),pe("void => enter",[he({opacity:0,transform:"translateY(-100%)"}),ue("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})();const vf=new r.r("MatHint");let bf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-label"]]}),t})(),_f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-placeholder"]]}),t})();const wf=new r.r("MatPrefix"),Cf=new r.r("MatSuffix");let Ef=0;class Of{constructor(t){this._elementRef=t}}const Sf=ah(Of,"primary"),Tf=new r.r("MAT_FORM_FIELD_DEFAULT_OPTIONS"),If=new r.r("MatFormField");let kf=(()=>{class t extends Sf{constructor(t,e,n,r,i,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Qr.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Ef++,this._labelId="mat-form-field-label-"+Ef++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=yl(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Vi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Zh(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Zh(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(Ba.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Vi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Vi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Zh(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Gh(this._label.nativeElement,"transitionend").pipe(Mi(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(i),s=t.children,a=this._getStartEnd(s[0].getBoundingClientRect());let c=0;for(let t=0;t<s.length;t++)c+=s[t].offsetWidth;e=Math.abs(a-o)-5,n=c>0?.75*c+10:0}for(let s=0;s<i.length;s++)i[s].style.width=e+"px";for(let s=0;s<o.length;s++)o[s].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(Lh,8),r.Ob(Ql,8),r.Ob(Tf,8),r.Ob(ul),r.Ob(r.A),r.Ob(zr,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(r.Hb(n,yf,!0),r.Dc(n,yf,!0),r.Hb(n,bf,!0),r.Dc(n,bf,!0),r.Hb(n,_f,!0),r.Hb(n,mf,!0),r.Hb(n,vf,!0),r.Hb(n,wf,!0),r.Hb(n,Cf,!0)),2&t&&(r.xc(i=r.gc())&&(e._controlNonStatic=i.first),r.xc(i=r.gc())&&(e._controlStatic=i.first),r.xc(i=r.gc())&&(e._labelChildNonStatic=i.first),r.xc(i=r.gc())&&(e._labelChildStatic=i.first),r.xc(i=r.gc())&&(e._placeholderChild=i.first),r.xc(i=r.gc())&&(e._errorChildren=i),r.xc(i=r.gc())&&(e._hintChildren=i),r.xc(i=r.gc())&&(e._prefixChildren=i),r.xc(i=r.gc())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(r.Mc(Jd,!0),r.Ec(Xd,!0),r.Mc(Zd,!0),r.Mc(tf,!0)),2&t&&(r.xc(n=r.gc())&&(e.underlineRef=n.first),r.xc(n=r.gc())&&(e._connectionContainerRef=n.first),r.xc(n=r.gc())&&(e._inputContainerRef=n.first),r.xc(n=r.gc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Gb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Ab([{provide:If,useExisting:t}]),r.yb],ngContentSelectors:pf,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.pc(ff),r.Ub(0,"div",0),r.Ub(1,"div",1,2),r.fc("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),r.Gc(3,ef,9,0,"ng-container",3),r.Gc(4,nf,2,0,"div",4),r.Ub(5,"div",5,6),r.oc(7),r.Ub(8,"span",7),r.Gc(9,af,5,16,"label",8),r.Tb(),r.Tb(),r.Gc(10,cf,2,0,"div",9),r.Tb(),r.Gc(11,uf,3,4,"div",10),r.Ub(12,"div",11),r.Gc(13,lf,2,1,"div",12),r.Gc(14,df,5,2,"div",13),r.Tb(),r.Tb()),2&t&&(r.Bb(3),r.qc("ngIf","outline"==e.appearance),r.Bb(1),r.qc("ngIf",e._prefixChildren.length),r.Bb(5),r.qc("ngIf",e._hasFloatingLabel()),r.Bb(1),r.qc("ngIf",e._suffixChildren.length),r.Bb(1),r.qc("ngIf","outline"!=e.appearance),r.Bb(1),r.qc("ngSwitch",e._getDisplayedMessages()),r.Bb(1),r.qc("ngSwitchCase","error"),r.Bb(1),r.qc("ngSwitchCase","hint"))},directives:[dt,gt,yt,Sl],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[gf.transitionMessages]},changeDetection:0}),t})(),xf=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It,oh,Tl],oh]}),t})();const Af=["trigger"],Rf=["panel"];function Df(t,e){if(1&t&&(r.Ub(0,"span",8),r.Ic(1),r.Tb()),2&t){const t=r.jc();r.Bb(1),r.Jc(t.placeholder||"\xa0")}}function Pf(t,e){if(1&t&&(r.Ub(0,"span"),r.Ic(1),r.Tb()),2&t){const t=r.jc(2);r.Bb(1),r.Jc(t.triggerValue||"\xa0")}}function Nf(t,e){1&t&&r.oc(0,0,["*ngSwitchCase","true"])}function jf(t,e){if(1&t&&(r.Ub(0,"span",9),r.Gc(1,Pf,2,1,"span",10),r.Gc(2,Nf,1,0,"ng-content",11),r.Tb()),2&t){const t=r.jc();r.qc("ngSwitch",!!t.customTrigger),r.Bb(2),r.qc("ngSwitchCase",!0)}}function Mf(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",12),r.Ub(1,"div",13,14),r.fc("@transformPanel.done",(function(e){return r.Ac(t),r.jc()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return r.Ac(t),r.jc()._handleKeydown(e)})),r.oc(3,1),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.qc("@transformPanelWrap",void 0),r.Bb(1),r.Eb("mat-select-panel ",t._getPanelTheme(),""),r.Fc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.qc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.Cb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Lf=[[["mat-select-trigger"]],"*"],Ff=["mat-select-trigger","*"],Uf={transformPanelWrap:ce("transformPanelWrap",[pe("* => void",ge("@transformPanel",[me()],{optional:!0}))]),transformPanel:ce("transformPanel",[de("void",he({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),de("showing",he({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),de("showing-multiple",he({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),pe("void => *",ue("120ms cubic-bezier(0, 0, 0.2, 1)")),pe("* => void",ue("100ms 25ms linear",he({opacity:0})))])};let Vf=0;const Bf=256,qf=new r.r("mat-select-scroll-strategy"),Hf=new r.r("MAT_SELECT_CONFIG"),zf={provide:qf,deps:[zd],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class Kf{constructor(t,e){this.source=t,this.value=e}}class Gf{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const Wf=ch(uh(sh(lh(Gf)))),$f=new r.r("MatSelectTrigger");let Qf=(()=>{class t extends Wf{constructor(t,e,n,i,o,s,a,c,u,l,h,d,f,p){super(o,i,a,c,l),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=u,this.ngControl=l,this._liveAnnouncer=f,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+Vf++,this._triggerAriaLabelledBy=null,this._destroy=new Qr.a,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Vf++,this._transformOrigin="top",this._panelDoneAnimatingStream=new Qr.a,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=fi(()=>{const t=this.options;return t?t.changes.pipe(Vi(t),Pi(()=>Object(Ba.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Mi(1),Pi(()=>this.optionSelectionChanges))}),this.openedChange=new r.o,this._openedStream=this.openedChange.pipe(yi(t=>t),Object(pi.a)(()=>{})),this._closedStream=this.openedChange.pipe(yi(t=>!t),Object(pi.a)(()=>{})),this.selectionChange=new r.o,this.valueChange=new r.o,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id,p&&(null!=p.disableOptionCentering&&(this.disableOptionCentering=p.disableOptionCentering),null!=p.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=yl(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=yl(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=yl(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=vl(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new id(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(sc(),Zh(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Zh(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Zh(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Vi(null),Zh(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.pipe(Mi(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!dl(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||dl(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Mi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t)Array.isArray(t),this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues();else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new Nl(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Zh(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Zh(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(Ba.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Zh(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(Ba.a)(...this.options.map(t=>t._stateChanges)).pipe(Zh(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new Kf(this,e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=jh(t,this.options,this.optionGroups),n=this._getItemHeight();var r,i,o;this.panel.nativeElement.scrollTop=(i=n,(r=(t+e)*n)<(o=this.panel.nativeElement.scrollTop)?r:r+i>o+256?Math.max(0,r-256+i):o)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,r)=>void 0!==e?e:t===n?r:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,Bf),r=e*t-n;let i=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);i+=jh(i,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(i,o,r),this._offsetY=this._calculateOverlayOffsetY(i,o,r),this._checkOverlayWithinViewport(r)}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._getLabelId();return this.ariaLabelledby?t+" "+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var t;return(null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId())||""}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const o=0-(t.left+i-(n?r:0)),s=t.right+i-e.width+(n?0:r);o>0?i+=o+8:s>0&&(i-=s+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,o=Math.floor(Bf/r);let s;return this._disableOptionCentering?0:(s=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-o))*r+(r-(this._getItemCount()*r-Bf)%r):e-r/2,Math.round(-1*s-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,Bf)-o-this._triggerRect.height;s>i?this._adjustPanelUp(s,i):o>r?this._adjustPanelDown(o,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(ad),r.Ob(r.h),r.Ob(r.A),r.Ob(dh),r.Ob(r.l),r.Ob(Ql,8),r.Ob(zu,8),r.Ob(Ju,8),r.Ob(If,8),r.Ob(qc,10),r.dc("tabindex"),r.Ob(qf),r.Ob(Ll),r.Ob(Hf,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(r.Hb(n,$f,!0),r.Hb(n,Nh,!0),r.Hb(n,xh,!0)),2&t&&(r.xc(i=r.gc())&&(e.customTrigger=i.first),r.xc(i=r.gc())&&(e.options=i),r.xc(i=r.gc())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(r.Mc(Af,!0),r.Mc(Rf,!0),r.Mc($d,!0)),2&t&&(r.xc(n=r.gc())&&(e.trigger=n.first),r.xc(n=r.gc())&&(e.panel=n.first),r.xc(n=r.gc())&&(e.overlayDir=n.first))},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&r.fc("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(r.Cb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Gb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[r.Ab([{provide:yf,useExisting:t},{provide:Dh,useExisting:t}]),r.yb,r.zb],ngContentSelectors:Ff,decls:9,vars:10,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.pc(Lf),r.Ub(0,"div",0,1),r.fc("click",(function(){return e.toggle()})),r.Ub(3,"div",2),r.Gc(4,Df,2,1,"span",3),r.Gc(5,jf,3,2,"span",4),r.Tb(),r.Ub(6,"div",5),r.Pb(7,"div",6),r.Tb(),r.Tb(),r.Gc(8,Mf,4,14,"ng-template",7),r.fc("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){const t=r.yc(1);r.Bb(3),r.qc("ngSwitch",e.empty),r.Cb("id",e._valueId),r.Bb(1),r.qc("ngSwitchCase",!0),r.Bb(1),r.qc("ngSwitchCase",!1),r.Bb(3),r.qc("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Wd,gt,yt,$d,vt,ct],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[Uf.transformPanelWrap,Uf.transformPanel]},changeDetection:0}),t})(),Yf=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[zf],imports:[[It,Yd,Mh,oh],cd,xf,Mh,oh]}),t})();class Jf{constructor(t){this.total=t}call(t,e){return e.subscribe(new Xf(t,this.total))}}class Xf extends ti.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const Zf=new Set;let tp,ep=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):np}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!Zf.has(t))try{tp||(tp=document.createElement("style"),tp.setAttribute("type","text/css"),document.head.appendChild(tp)),tp.sheet&&(tp.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),Zf.add(t))}catch(OR){console.error(OR)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(ul))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(ul))},token:t,providedIn:"root"}),t})();function np(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let rp=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new Qr.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ip(_l(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=ci(ip(_l(t)).map(t=>this._registerQuery(t).observable));return e=Ui(e.pipe(Mi(1)),e.pipe((1,t=>t.lift(new Jf(1))),fl(0))),e.pipe(Object(pi.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new ii.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Vi(e),Object(pi.a)(({matches:e})=>({query:t,matches:e})),Zh(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.cc(ep),r.cc(r.A))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(ep),Object(r.cc)(r.A))},token:t,providedIn:"root"}),t})();function ip(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const op={tooltipState:ce("state",[de("initial, void, hidden",he({opacity:0,transform:"scale(0)"})),de("visible",he({transform:"scale(1)"})),pe("* => visible",ue("200ms cubic-bezier(0, 0, 0.2, 1)",fe([he({opacity:0,transform:"scale(0)",offset:0}),he({opacity:.5,transform:"scale(0.99)",offset:.5}),he({opacity:1,transform:"scale(1)",offset:1})]))),pe("* => hidden",ue("100ms cubic-bezier(0, 0, 0.2, 1)",he({opacity:0})))])},sp=hl({passive:!0}),ap=new r.r("mat-tooltip-scroll-strategy"),cp={provide:ap,deps:[zd],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},up=new r.r("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let lp=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,u,l){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._platform=o,this._ariaDescriber=s,this._focusMonitor=a,this._dir=u,this._defaultOptions=l,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Qr.a,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!dl(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,l&&(l.position&&(this.position=l.position),l.touchGestures&&(this.touchGestures=l.touchGestures)),i.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=yl(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Zh(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,sp)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new hd(hp,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Zh(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(Zh(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Zh(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e||"below"==e?n={originX:"center",originY:"above"==e?"top":"bottom"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={originX:"start",originY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={originX:"end",originY:"center"});const{x:r,y:i}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:i}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e?n={overlayX:"center",overlayY:"bottom"}:"below"==e?n={overlayX:"center",overlayY:"top"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={overlayX:"end",overlayY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:r,y:i}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:i}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Mi(1),Zh(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([t,e])=>{this._elementRef.nativeElement.addEventListener(t,e,sp)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(zd),r.Ob(r.l),r.Ob(sd),r.Ob(r.R),r.Ob(r.A),r.Ob(ul),r.Ob(Pl),r.Ob(Bl),r.Ob(ap),r.Ob(Ql,8),r.Ob(up,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),hp=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Qr.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.h),r.Ob(rp))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&r.fc("click",(function(){return e._handleBodyInteraction()}),!1,r.zc),2&t&&r.Fc("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){var n;1&t&&(r.Ub(0,"div",0),r.fc("@state.start",(function(){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),r.kc(1,"async"),r.Ic(2),r.Tb()),2&t&&(r.Gb("mat-tooltip-handset",null==(n=r.lc(1,5,e._isHandset))?null:n.matches),r.qc("ngClass",e.tooltipClass)("@state",e._visibility),r.Bb(2),r.Jc(e.message))},directives:[ct],pipes:[Ot],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[op.tooltipState]},changeDetection:0}),t})(),dp=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[cp],imports:[[Wl,It,Yd,oh],oh,cd]}),t})();function fp(t,e){if(1&t&&(r.Ub(0,"mat-option",19),r.Ic(1),r.Tb()),2&t){const t=e.$implicit;r.qc("value",t),r.Bb(1),r.Kc(" ",t," ")}}function pp(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-form-field",16),r.Ub(1,"mat-select",17),r.fc("selectionChange",(function(e){return r.Ac(t),r.jc(2)._changePageSize(e.value)})),r.Gc(2,fp,2,2,"mat-option",18),r.Tb(),r.Tb()}if(2&t){const t=r.jc(2);r.qc("appearance",t._formFieldAppearance)("color",t.color),r.Bb(1),r.qc("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),r.Bb(1),r.qc("ngForOf",t._displayedPageSizeOptions)}}function mp(t,e){if(1&t&&(r.Ub(0,"div",20),r.Ic(1),r.Tb()),2&t){const t=r.jc(2);r.Bb(1),r.Jc(t.pageSize)}}function gp(t,e){if(1&t&&(r.Ub(0,"div",12),r.Ub(1,"div",13),r.Ic(2),r.Tb(),r.Gc(3,pp,3,6,"mat-form-field",14),r.Gc(4,mp,2,1,"div",15),r.Tb()),2&t){const t=r.jc();r.Bb(2),r.Kc(" ",t._intl.itemsPerPageLabel," "),r.Bb(1),r.qc("ngIf",t._displayedPageSizeOptions.length>1),r.Bb(1),r.qc("ngIf",t._displayedPageSizeOptions.length<=1)}}function yp(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",21),r.fc("click",(function(){return r.Ac(t),r.jc().firstPage()})),r.ic(),r.Ub(1,"svg",7),r.Pb(2,"path",22),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.qc("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),r.Cb("aria-label",t._intl.firstPageLabel)}}function vp(t,e){if(1&t){const t=r.Vb();r.ic(),r.hc(),r.Ub(0,"button",23),r.fc("click",(function(){return r.Ac(t),r.jc().lastPage()})),r.ic(),r.Ub(1,"svg",7),r.Pb(2,"path",24),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.qc("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),r.Cb("aria-label",t._intl.lastPageLabel)}}let bp=(()=>{class t{constructor(){this.changes=new Qr.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return"0 of "+n;const r=t*e;return`${r+1} \u2013 ${r<(n=Math.max(n,0))?Math.min(r+e,n):r+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const _p={provide:bp,deps:[[new r.B,new r.K,bp]],useFactory:function(t){return t||new bp}},wp=new r.r("MAT_PAGINATOR_DEFAULT_OPTIONS");class Cp{}const Ep=sh(hh(Cp));let Op=(()=>{class t extends Ep{constructor(t,e,n){if(super(),this._intl=t,this._changeDetectorRef=e,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new r.o,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:t,pageSizeOptions:e,hidePageSize:r,showFirstLastButtons:i,formFieldAppearance:o}=n;null!=t&&(this._pageSize=t),null!=e&&(this._pageSizeOptions=e),null!=r&&(this._hidePageSize=r),null!=i&&(this._showFirstLastButtons=i),null!=o&&(this._formFieldAppearance=o)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(vl(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=vl(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(vl(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(t=>vl(t)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=yl(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=yl(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const e=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(e)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,e)=>t-e),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(bp),r.Ob(r.h),r.Ob(wp,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-paginator"]],hostAttrs:[1,"mat-paginator"],inputs:{disabled:"disabled",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},exportAs:["matPaginator"],features:[r.yb],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Gc(2,gp,5,3,"div",2),r.Ub(3,"div",3),r.Ub(4,"div",4),r.Ic(5),r.Tb(),r.Gc(6,yp,3,5,"button",5),r.Ub(7,"button",6),r.fc("click",(function(){return e.previousPage()})),r.ic(),r.Ub(8,"svg",7),r.Pb(9,"path",8),r.Tb(),r.Tb(),r.hc(),r.Ub(10,"button",9),r.fc("click",(function(){return e.nextPage()})),r.ic(),r.Ub(11,"svg",7),r.Pb(12,"path",10),r.Tb(),r.Tb(),r.Gc(13,vp,3,5,"button",11),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bb(2),r.qc("ngIf",!e.hidePageSize),r.Bb(3),r.Kc(" ",e._intl.getRangeLabel(e.pageIndex,e.pageSize,e.length)," "),r.Bb(1),r.qc("ngIf",e.showFirstLastButtons),r.Bb(1),r.qc("matTooltip",e._intl.previousPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),r.Cb("aria-label",e._intl.previousPageLabel),r.Bb(3),r.qc("matTooltip",e._intl.nextPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),r.Cb("aria-label",e._intl.nextPageLabel),r.Bb(3),r.qc("ngIf",e.showFirstLastButtons))},directives:[dt,Hh,lp,kf,Qf,lt,Nh],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),t})(),Sp=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[_p],imports:[[It,zh,Yf,dp]]}),t})();const Tp=["mat-sort-header",""];function Ip(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",3),r.fc("@arrowPosition.start",(function(){return r.Ac(t),r.jc()._disableViewStateAnimation=!0}))("@arrowPosition.done",(function(){return r.Ac(t),r.jc()._disableViewStateAnimation=!1})),r.Pb(1,"div",4),r.Ub(2,"div",5),r.Pb(3,"div",6),r.Pb(4,"div",7),r.Pb(5,"div",8),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.qc("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),r.Bb(2),r.qc("@indicator",t._getArrowDirectionState()),r.Bb(1),r.qc("@leftPointer",t._getArrowDirectionState()),r.Bb(1),r.qc("@rightPointer",t._getArrowDirectionState())}}const kp=["*"];class xp{}const Ap=hh(sh(xp));let Rp=(()=>{class t extends Ap{constructor(){super(...arguments),this.sortables=new Map,this._stateChanges=new Qr.a,this.start="asc",this._direction="",this.sortChange=new r.o}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=yl(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let e=function(t,e){let n=["asc","desc"];return"desc"==t&&n.reverse(),e||n.push(""),n}(t.start||this.start,null!=t.disableClear?t.disableClear:this.disableClear),n=e.indexOf(this.direction)+1;return n>=e.length&&(n=0),e[n]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return Dp(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[r.yb,r.zb]}),t})();const Dp=r.Wb(Rp),Pp=eh.ENTERING+" "+th.STANDARD_CURVE,Np={indicator:ce("indicator",[de("active-asc, asc",he({transform:"translateY(0px)"})),de("active-desc, desc",he({transform:"translateY(10px)"})),pe("active-asc <=> active-desc",ue(Pp))]),leftPointer:ce("leftPointer",[de("active-asc, asc",he({transform:"rotate(-45deg)"})),de("active-desc, desc",he({transform:"rotate(45deg)"})),pe("active-asc <=> active-desc",ue(Pp))]),rightPointer:ce("rightPointer",[de("active-asc, asc",he({transform:"rotate(45deg)"})),de("active-desc, desc",he({transform:"rotate(-45deg)"})),pe("active-asc <=> active-desc",ue(Pp))]),arrowOpacity:ce("arrowOpacity",[de("desc-to-active, asc-to-active, active",he({opacity:1})),de("desc-to-hint, asc-to-hint, hint",he({opacity:.54})),de("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",he({opacity:0})),pe("* => asc, * => desc, * => active, * => hint, * => void",ue("0ms")),pe("* <=> *",ue(Pp))]),arrowPosition:ce("arrowPosition",[pe("* => desc-to-hint, * => desc-to-active",ue(Pp,fe([he({transform:"translateY(-25%)"}),he({transform:"translateY(0)"})]))),pe("* => hint-to-desc, * => active-to-desc",ue(Pp,fe([he({transform:"translateY(0)"}),he({transform:"translateY(25%)"})]))),pe("* => asc-to-hint, * => asc-to-active",ue(Pp,fe([he({transform:"translateY(25%)"}),he({transform:"translateY(0)"})]))),pe("* => hint-to-asc, * => active-to-asc",ue(Pp,fe([he({transform:"translateY(0)"}),he({transform:"translateY(-25%)"})]))),de("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",he({transform:"translateY(0)"})),de("hint-to-desc, active-to-desc, desc",he({transform:"translateY(-25%)"})),de("hint-to-asc, active-to-asc, asc",he({transform:"translateY(25%)"}))]),allowChildren:ce("allowChildren",[pe("* <=> *",[ge("@*",me(),{optional:!0})])])};let jp=(()=>{class t{constructor(){this.changes=new Qr.a,this.sortButtonLabel=t=>"Change sorting for "+t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Mp={provide:jp,deps:[[new r.B,new r.K,jp]],useFactory:function(t){return t||new jp}};class Lp{}const Fp=sh(Lp);let Up=(()=>{class t extends Fp{constructor(t,e,n,r,i,o){super(),this._intl=t,this._sort=n,this._columnDef=r,this._focusMonitor=i,this._elementRef=o,this._showIndicatorHint=!1,this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._rerenderSubscription=Object(Ba.a)(n.sortChange,n._stateChanges,t.changes).subscribe(()=>{this._isSorted()&&this._updateArrowDirection(),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),e.markForCheck()})}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=yl(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>this._setIndicatorHintVisible(!!t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t,this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0);const t=this._isSorted()?{fromState:this._arrowDirection,toState:"active"}:{fromState:"active",toState:this._arrowDirection};this._setAnimationTransitionState(t),this._showIndicatorHint=!1}_handleClick(){this._isDisabled()||this._toggleOnInteraction()}_handleKeydown(t){this._isDisabled()||32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?t+"-to-":"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(jp),r.Ob(r.h),r.Ob(Rp,8),r.Ob("MAT_SORT_HEADER_COLUMN_DEF",8),r.Ob(Bl),r.Ob(r.l))},t.\u0275cmp=r.Ib({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,e){1&t&&r.fc("click",(function(){return e._handleClick()}))("keydown",(function(t){return e._handleKeydown(t)}))("mouseenter",(function(){return e._setIndicatorHintVisible(!0)}))("mouseleave",(function(){return e._setIndicatorHintVisible(!1)})),2&t&&(r.Cb("aria-sort",e._getAriaSortAttribute()),r.Gb("mat-sort-header-disabled",e._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[r.yb],attrs:Tp,ngContentSelectors:kp,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,e){1&t&&(r.pc(),r.Ub(0,"div",0),r.Ub(1,"div",1),r.oc(2),r.Tb(),r.Gc(3,Ip,6,6,"div",2),r.Tb()),2&t&&(r.Gb("mat-sort-header-sorted",e._isSorted())("mat-sort-header-position-before","before"==e.arrowPosition),r.Cb("tabindex",e._isDisabled()?null:0),r.Bb(3),r.qc("ngIf",e._renderArrow()))},directives:[dt],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[Np.indicator,Np.leftPointer,Np.rightPointer,Np.arrowOpacity,Np.arrowPosition,Np.allowChildren]},changeDetection:0}),t})(),Vp=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[Mp],imports:[[It]]}),t})();const Bp=[[["caption"]],[["colgroup"],["col"]]],qp=["caption","colgroup, col"];function Hp(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=yl(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const zp=new r.r("CDK_TABLE");let Kp=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkCellDef",""]]}),t})(),Gp=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),Wp=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class $p{}const Qp=Hp($p);let Yp=(()=>{class t extends Qp{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=yl(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=["cdk-column-"+this.cssClassFriendlyName]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(zp,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Hb(n,Kp,!0),r.Hb(n,Gp,!0),r.Hb(n,Wp,!0)),2&t&&(r.xc(i=r.gc())&&(e.cell=i.first),r.xc(i=r.gc())&&(e.headerCell=i.first),r.xc(i=r.gc())&&(e.footerCell=i.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r.Ab([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.yb]}),t})();class Jp{constructor(t,e){const n=e.nativeElement.classList;for(const r of t._columnCssClassName)n.add(r)}}let Xp=(()=>{class t extends Jp{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Yp),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.yb]}),t})(),Zp=(()=>{class t extends Jp{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Yp),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[r.yb]}),t})();class tm{constructor(){this.tasks=[],this.endTasks=[]}}const em=new r.r("_COALESCED_STYLE_SCHEDULER");let nm=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Qr.a}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new tm,this._getScheduleObservable().pipe(Zh(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new tm;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Object($r.a)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Mi(1))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.A))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),rm=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof sm?t.headerCell.template:this instanceof um?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M),r.Ob(r.t))},t.\u0275dir=r.Jb({type:t,features:[r.zb]}),t})();class im extends rm{}const om=Hp(im);let sm=(()=>{class t extends om{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M),r.Ob(r.t),r.Ob(zp,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.yb,r.zb]}),t})();class am extends rm{}const cm=Hp(am);let um=(()=>{class t extends cm{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M),r.Ob(r.t),r.Ob(zp,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.yb,r.zb]}),t})(),lm=(()=>{class t extends rm{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M),r.Ob(r.t),r.Ob(zp,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.yb]}),t})(),hm=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),dm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[hm],encapsulation:2}),t})(),fm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[hm],encapsulation:2}),t})(),pm=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const mm=["top","bottom","left","right"];class gm{constructor(t,e,n,r,i=!0,o=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=i,this._needsPositionStickyOnElement=o}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let t=0;t<r.children.length;t++)n.push(r.children[t])}this._scheduleStyleChanges(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return;const r=t[0],i=r.children.length,o=this._getCellWidths(r),s=this._getStickyStartColumnPositions(o,e),a=this._getStickyEndColumnPositions(o,n);this._scheduleStyleChanges(()=>{const r="rtl"===this.direction,o=r?"right":"left",c=r?"left":"right";for(const u of t)for(let t=0;t<i;t++){const r=u.children[t];e[t]&&this._addStickyStyle(r,o,s[t]),n[t]&&this._addStickyStyle(r,c,a[t])}})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,i="bottom"===n?e.slice().reverse():e,o=[],s=[];for(let a=0,c=0;a<r.length;a++){if(o[a]=c,!i[a])continue;const t=r[a];s[a]=this._isNativeHtmlTable?Array.from(t.children):[t],a!==r.length-1&&(c+=t.getBoundingClientRect().height)}this._scheduleStyleChanges(()=>{for(let t=0;t<r.length;t++){if(!i[t])continue;const e=o[t];for(const r of s[t])this._addStickyStyle(r,n,e)}})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";mm.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=n+"px",t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of mm)t.style[r]&&(n+=e[r]);return n?""+n:""}_getCellWidths(t){const e=[],n=t.children;for(let r=0;r<n.length;r++)e.push(n[r].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}let ym=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","rowOutlet",""]]}),t})(),vm=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),bm=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),_m=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),wm=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=i,this._platform=s,this._viewRepeater=a,this._coalescedStyleScheduler=c,this._onDestroy=new Qr.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this.viewChange=new Jr({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=yl(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():t&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),nd(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,r,{$implicit:e.data})}else if(null==r)e.remove(n);else{const t=e.get(n);e.move(t,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Cm(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=Cm(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Cm(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Cm(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(t,!1);return r&&this._forceRenderFooterRows(),e||n||r}_switchDataSource(t){this._data=[],nd(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;nd(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof ii.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Object(Wr.a)(this.dataSource)),this._renderChangeSubscription=t.pipe(Zh(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,r={}){const i=t.viewContainer.createEmbeddedView(e.template,r,n);return this._renderCellTemplateForItem(e,r),i}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))hm.mostRecentCellOutlet&&hm.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new gm(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement),(this._dir?this._dir.change:Object(Wr.a)()).pipe(Zh(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){if(this._noDataRow){const t=0===this._rowOutlet.viewContainer.length;if(t!==this._isShowingNoDataRow){const e=this._noDataRowOutlet.viewContainer;t?e.createEmbeddedView(this._noDataRow.templateRef):e.clear(),this._isShowingNoDataRow=t}}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.t),r.Ob(r.h),r.Ob(r.l),r.dc("role"),r.Ob(Ql,8),r.Ob(c),r.Ob(ul),r.Ob(od,8),r.Ob(em,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Hb(n,pm,!0),r.Hb(n,Yp,!0),r.Hb(n,lm,!0),r.Hb(n,sm,!0),r.Hb(n,um,!0)),2&t&&(r.xc(i=r.gc())&&(e._noDataRow=i.first),r.xc(i=r.gc())&&(e._contentColumnDefs=i),r.xc(i=r.gc())&&(e._contentRowDefs=i),r.xc(i=r.gc())&&(e._contentHeaderRowDefs=i),r.xc(i=r.gc())&&(e._contentFooterRowDefs=i))},viewQuery:function(t,e){var n;1&t&&(r.Ec(ym,!0),r.Ec(vm,!0),r.Ec(bm,!0),r.Ec(_m,!0)),2&t&&(r.xc(n=r.gc())&&(e._rowOutlet=n.first),r.xc(n=r.gc())&&(e._headerRowOutlet=n.first),r.xc(n=r.gc())&&(e._footerRowOutlet=n.first),r.xc(n=r.gc())&&(e._noDataRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],features:[r.Ab([{provide:zp,useExisting:t},{provide:od,useClass:rd},{provide:em,useClass:nm}])],ngContentSelectors:qp,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.pc(Bp),r.oc(0),r.oc(1,1),r.Qb(2,0),r.Qb(3,1),r.Qb(4,2),r.Qb(5,3))},directives:[vm,ym,_m,bm],encapsulation:2}),t})();function Cm(t,e){return t.concat(Array.from(e))}let Em=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[ud]]}),t})();const Om=[[["caption"]],[["colgroup"],["col"]]],Sm=["caption","colgroup, col"];let Tm=(()=>{class t extends wm{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(e){return Im(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[r.Ab([{provide:od,useClass:rd},{provide:wm,useExisting:t},{provide:zp,useExisting:t},{provide:em,useClass:nm}]),r.yb],ngContentSelectors:Sm,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.pc(Om),r.oc(0),r.oc(1,1),r.Qb(2,0),r.Qb(3,1),r.Qb(4,2),r.Qb(5,3))},directives:[vm,ym,_m,bm],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky;position:sticky}\n'],encapsulation:2}),t})();const Im=r.Wb(Tm);let km=(()=>{class t extends Kp{}return t.\u0275fac=function(e){return xm(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matCellDef",""]],features:[r.Ab([{provide:Kp,useExisting:t}]),r.yb]}),t})();const xm=r.Wb(km);let Am=(()=>{class t extends Gp{}return t.\u0275fac=function(e){return Rm(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matHeaderCellDef",""]],features:[r.Ab([{provide:Gp,useExisting:t}]),r.yb]}),t})();const Rm=r.Wb(Am);let Dm=(()=>{class t extends Yp{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push("mat-column-"+this.cssClassFriendlyName)}}return t.\u0275fac=function(e){return Pm(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r.Ab([{provide:Yp,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.yb]}),t})();const Pm=r.Wb(Dm);let Nm=(()=>{class t extends Xp{}return t.\u0275fac=function(e){return jm(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.yb]}),t})();const jm=r.Wb(Nm);let Mm=(()=>{class t extends Zp{}return t.\u0275fac=function(e){return Lm(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.yb]}),t})();const Lm=r.Wb(Mm);let Fm=(()=>{class t extends sm{}return t.\u0275fac=function(e){return Um(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r.Ab([{provide:sm,useExisting:t}]),r.yb]}),t})();const Um=r.Wb(Fm);let Vm=(()=>{class t extends lm{}return t.\u0275fac=function(e){return Bm(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r.Ab([{provide:lm,useExisting:t}]),r.yb]}),t})();const Bm=r.Wb(Vm);let qm=(()=>{class t extends dm{}return t.\u0275fac=function(e){return Hm(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r.Ab([{provide:dm,useExisting:t}]),r.yb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[hm],encapsulation:2}),t})();const Hm=r.Wb(qm);let zm=(()=>{class t extends fm{}return t.\u0275fac=function(e){return Km(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r.Ab([{provide:fm,useExisting:t}]),r.yb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[hm],encapsulation:2}),t})();const Km=r.Wb(zm);let Gm=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Em,oh],oh]}),t})();class Wm extends class{}{constructor(t=[]){super(),this._renderData=new Jr([]),this._filter=new Jr(""),this._internalPageChanges=new Qr.a,this._renderChangesSubscription=Ji.a.EMPTY,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(bl(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,r=e.direction;return n&&""!=r?t.sort((t,e)=>{let i=this.sortingDataAccessor(t,n),o=this.sortingDataAccessor(e,n);const s=typeof i,a=typeof o;s!==a&&("number"===s&&(i+=""),"number"===a&&(o+=""));let c=0;return null!=i&&null!=o?i>o?c=1:i<o&&(c=-1):null!=i?c=1:null!=o&&(c=-1),c*("asc"==r?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),r=e.trim().toLowerCase();return-1!=n.indexOf(r)},this._data=new Jr(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?Object(Ba.a)(this._sort.sortChange,this._sort.initialized):Object(Wr.a)(null),e=this._paginator?Object(Ba.a)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Object(Wr.a)(null),n=ci([this._data,this._filter]).pipe(Object(pi.a)(([t])=>this._filterData(t))),r=ci([n,t]).pipe(Object(pi.a)(([t])=>this._orderData(t))),i=ci([r,e]).pipe(Object(pi.a)(([t])=>this._pageData(t)));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=i.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=this.filter?t.filter(t=>this.filterPredicate(t,this.filter)):t,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderData}disconnect(){}}function $m(...t){if(1===t.length){if(!Object(Zr.a)(t[0]))return t[0];t=t[0]}return Object(si.a)(t,void 0).lift(new Qm)}class Qm{call(t,e){return e.subscribe(new Ym(t))}}class Ym extends ei{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=oi(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var Jm=n("Lhse");function Xm(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(si.a)(t,void 0).lift(new Zm(e))}class Zm{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new tg(t,this.resultSelector))}}class tg extends ti.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(Zr.a)(t)?e.push(new ng(t)):e.push("function"==typeof t[Jm.a]?new eg(t[Jm.a]()):new rg(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class eg{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class ng{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Jm.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class rg extends Di.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Jm.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(Di.c)(this.observable,new Di.a(this))}}var ig=n("WMd4");class og{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new sg(t,this.delay,this.scheduler))}}class sg extends ti.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(sg.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new ag(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(ig.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(ig.a.createComplete()),this.unsubscribe()}}class ag{constructor(t,e){this.time=t,this.notification=e}}const cg=["*"],ug=["dialog"];function lg(t){return null!=t}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const hg={animation:!0,transitionTimerDelayMs:5};let dg=(()=>{class t{constructor(){this.animation=hg.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const fg=()=>{},{transitionTimerDelayMs:pg}=hg,mg=new Map,gg=(t,e,n)=>{let r=n.context||{};const i=mg.get(t);if(i)switch(n.runningTransition){case"continue":return di.a;case"stop":i.transition$.complete(),r=Object.assign(i.context,r),mg.delete(t)}!function(t){t||document}(t);const o=e(t,r)||fg;if(!n.animation||"none"===window.getComputedStyle(t).transitionProperty)return o(),Object(Wr.a)(void 0);const s=new Qr.a,a=new Qr.a,c=s.pipe(function(...t){return e=>Ui(e,Object(Wr.a)(...t))}(!0));mg.set(t,{transition$:s,complete:()=>{a.next(),a.complete()},context:r});const u=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(t),l=Gh(t,"transitionend").pipe(Zh(c),yi(({target:e})=>e===t));return $m(Yh(u+pg).pipe(Zh(c)),l,a).pipe(Zh(c)).subscribe(()=>{mg.delete(t),o(),s.next(),s.complete()}),s.asObservable()};let yg=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It]]}),t})(),vg=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It]]}),t})(),bg=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),_g=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It]]}),t})(),wg=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();var Cg=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const Eg=(t,e)=>!!e&&e.some(e=>e.contains(t)),Og=(t,e)=>!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e),Sg=(()=>"undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)))();const Tg=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ig(t){const e=Array.from(t.querySelectorAll(Tg)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}class kg{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),c=parseFloat(a.marginTop),u=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,f=0;switch(i){case"top":d=s.top-(e.offsetHeight+c+u);break;case"bottom":d=s.top+s.height;break;case"left":f=s.left-(e.offsetWidth+l+h);break;case"right":f=s.left+s.width}switch(o){case"top":d=s.top;break;case"bottom":d=s.top+s.height-e.offsetHeight;break;case"left":f=s.left;break;case"right":f=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?f=s.left+s.width/2-e.offsetWidth/2:d=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(f)}px, ${Math.round(d)}px)`;const p=e.getBoundingClientRect(),m=document.documentElement,g=window.innerHeight||m.clientHeight,y=window.innerWidth||m.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=g}}const xg=/\s+/,Ag=new kg;let Rg=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It,ol]]}),t})(),Dg=(()=>{class t{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Pg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["",8,"navbar"]]}),t})(),Ng=(()=>{class t{constructor(t){this.elementRef=t,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("disabled",e.disabled)},inputs:{disabled:"disabled"}}),t})(),jg=(()=>{class t{constructor(t,e){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=e.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Object(r.V)(()=>Fg)),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,e,n){var i;1&t&&r.Hb(n,Ng,!1),2&t&&r.xc(i=r.gc())&&(e.menuItems=i)},hostVars:5,hostBindings:function(t,e){1&t&&r.fc("keydown.ArrowUp",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.ArrowDown",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Home",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.End",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Enter",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Space",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Tab",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Shift.Tab",(function(t){return e.dropdown.onKeyDown(t)})),2&t&&(r.Cb("x-placement",e.placement),r.Gb("dropdown-menu",!0)("show",e.dropdown.isOpen()))}}),t})(),Mg=(()=>{class t{constructor(t,e){this.dropdown=t,this.nativeElement=e.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Object(r.V)(()=>Fg)),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){2&t&&r.Cb("aria-expanded",e.dropdown.isOpen())}}),t})(),Lg=(()=>{class t extends Mg{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Object(r.V)(()=>Fg)),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){1&t&&r.fc("click",(function(){return e.dropdown.toggle()}))("keydown.ArrowUp",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.ArrowDown",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Home",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.End",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Tab",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Shift.Tab",(function(t){return e.dropdown.onKeyDown(t)})),2&t&&r.Cb("aria-expanded",e.dropdown.isOpen())},features:[r.Ab([{provide:Mg,useExisting:Object(r.V)(()=>t)}]),r.yb]}),t})(),Fg=(()=>{class t{constructor(t,e,n,i,o,s,a){this._changeDetector=t,this._document=n,this._ngZone=i,this._elementRef=o,this._renderer=s,this._closed$=new Qr.a,this._bodyContainer=null,this._open=!1,this.openChange=new r.o,this.placement=e.placement,this.container=e.container,this.autoClose=e.autoClose,this.display=a?"static":"dynamic",this._zoneSubscription=i.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(Mi(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses()}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function(t,e,n,r,i,o,s,a){var c;n&&t.runOutsideAngular((c=()=>{const c=Gh(e,"keydown").pipe(Zh(i),yi(t=>t.which===Cg.Escape),Object(Yi.a)(t=>t.preventDefault())),u=Gh(e,"mousedown").pipe(Object(pi.a)(t=>{const e=t.target;return 2!==t.button&&!Eg(e,s)&&("inside"===n?Eg(e,o)&&Og(e,a):"outside"===n?!Eg(e,o):Og(e,a)||!Eg(e,o))}),Zh(i)),l=Gh(e,"mouseup").pipe(uc(u),yi(([t,e])=>e),function(t,e=ic.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new og(r,e))}(0),Zh(i));$m([c.pipe(Object(pi.a)(t=>0)),l.pipe(Object(pi.a)(t=>1))]).subscribe(e=>t.run(()=>r(e)))},Sg?()=>setTimeout(()=>c(),100):c))}(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(t){const e=t.which,n=this._getMenuElements();let r=-1,i=null;const o=this._isEventFromToggle(t);if(!o&&n.length&&n.forEach((e,n)=>{e.contains(t.target)&&(i=e),e===this._document.activeElement&&(r=n)}),e!==Cg.Space&&e!==Cg.Enter){if(e!==Cg.Tab){if(o||i){if(this.open(),n.length){switch(e){case Cg.ArrowDown:r=Math.min(r+1,n.length-1);break;case Cg.ArrowUp:if(this._isDropup()&&-1===r){r=n.length-1;break}r=Math.max(r-1,0);break;case Cg.Home:r=0;break;case Cg.End:r=n.length-1}n[r].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const e=this._menu.nativeElement.querySelectorAll(Tg);t.shiftKey&&t.target===e[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):t.shiftKey||t.target!==e[e.length-1]||(this._anchor.nativeElement.focus(),this.close())}else Gh(t.target,"focusout").pipe(Mi(1)).subscribe(({relatedTarget:t})=>{this._elementRef.nativeElement.contains(t)||this.close()})}}else!i||!0!==this.autoClose&&"inside"!==this.autoClose||Gh(i,"click").pipe(Mi(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(t=>!t.disabled).map(t=>t.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?function(t,e,n,r,i){let o=Array.isArray(n)?n:n.split(xg);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t=>{const[e,n]=t.split("-"),r=[];return r};let c=o.findIndex(t=>"auto"===t);c>=0&&s.forEach((function(t){null==o.find(e=>-1!==e.search("^"+t))&&o.splice(c++,1,t)}));const u=e.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let l=null,h=!1;for(l of o){a(l);if(Ag.positionElements(t,e,l,r)){h=!0;break}}return h||(l=o[0],a(l),Ag.positionElements(t,e,l,r)),l}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;if(this._menu){const e=this._menu.nativeElement;t.appendChild(this._elementRef.nativeElement,e),t.removeStyle(e,"position"),t.removeStyle(e,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const t=this._renderer,e=this._menu.nativeElement,n=this._bodyContainer=this._bodyContainer||t.createElement("div");t.setStyle(n,"position","absolute"),t.setStyle(e,"position","static"),t.setStyle(n,"z-index","1050"),t.appendChild(n,e),t.appendChild(this._document.body,n)}}_applyPlacementClasses(t){const e=this._menu;if(e){t||(t=this._getFirstPlacement(this.placement));const n=this._renderer,r=this._elementRef.nativeElement;n.removeClass(r,"dropup"),n.removeClass(r,"dropdown"),e.placement="static"===this.display?null:t;const i=-1!==t.search("^top")?"dropup":"dropdown";n.addClass(r,i);const o=this._bodyContainer;o&&(n.removeClass(o,"dropup"),n.removeClass(o,"dropdown"),n.addClass(o,i))}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.h),r.Ob(Dg),r.Ob(c),r.Ob(r.A),r.Ob(r.l),r.Ob(r.F),r.Ob(Pg,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Hb(n,jg,!0),r.Hb(n,Mg,!0)),2&t&&(r.xc(i=r.gc())&&(e._menu=i.first),r.xc(i=r.gc())&&(e._anchor=i.first))},hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("show",e.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[r.zb]}),t})(),Ug=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),Vg=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.cc(dg))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(dg))},token:t,providedIn:"root"}),t})();class Bg{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const qg=()=>{};let Hg=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):qg}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(c))},token:t,providedIn:"root"}),t})(),zg=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Mi(1)).subscribe(()=>{gg(this._el.nativeElement,({classList:t})=>t.add("show"),{animation:this.animation,runningTransition:"continue"})})}hide(){return gg(this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.A))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Db("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Gb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Kg{close(t){}dismiss(t){}}class Gg{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Qr.a,this._dismissed=new Qr.a,this._hidden=new Qr.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Zh(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Zh(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Wr.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Xm(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Wg=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let $g=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Qr.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.o,this.shown=new Qr.a,this.hidden=new Qr.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Xm(gg(t,()=>t.classList.remove("show"),e),gg(this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"continue"};Xm(gg(t,()=>t.classList.add("show"),e),gg(this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Gh(t,"keydown").pipe(Zh(this._closed$),yi(t=>t.which===Cg.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Wg.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Gh(this._dialogEl.nativeElement,"mousedown").pipe(Zh(this._closed$),Object(Yi.a)(()=>e=!1),Pi(()=>Gh(t,"mouseup").pipe(Zh(this._closed$),Mi(1))),yi(({target:e})=>t===e)).subscribe(()=>{e=!0}),Gh(t,"click").pipe(Zh(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(Wg.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Ig(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&gg(this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(c),r.Ob(r.l),r.Ob(r.A))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&r.Ec(ug,!0),2&t&&r.xc(n=r.gc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Cb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Db("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Gb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:cg,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.pc(),r.Ub(0,"div",0,1),r.Ub(2,"div",2),r.oc(3),r.Tb(),r.Tb()),2&t&&r.Db("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{-ms-flex-direction:column;display:-ms-flexbox;display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Qg=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new Qr.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.o,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Gh(e,"focusin").pipe(Zh(n),Object(pi.a)(t=>t.target));Gh(e,"keydown").pipe(Zh(n),yi(t=>t.which===Cg.Tab),uc(t)).subscribe(([t,n])=>{const[r,i]=Ig(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Gh(e,"click").pipe(Zh(n),uc(t),Object(pi.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:lg(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const c=new Kg,u=this._getContentRef(t,r.injector||e,n,c,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,u),d=new Gg(h,u,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(a,a),c.close=t=>{d.close(t)},c.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(zg).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory($g).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{lg(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{lg(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.M?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new Bg([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Bg([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new Bg([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.s.create({providers:[{provide:Kg,useValue:i}],parent:e}),c=s.create(a),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Bg([[u]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.g),r.cc(r.s),r.cc(c),r.cc(Hg),r.cc(r.G),r.cc(r.A))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.g),Object(r.cc)(r.p),Object(r.cc)(c),Object(r.cc)(Hg),Object(r.cc)(r.G),Object(r.cc)(r.A))},token:t,providedIn:"root"}),t})(),Yg=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.j),r.cc(r.s),r.cc(Qg),r.cc(Vg))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.j),Object(r.cc)(r.p),Object(r.cc)(Qg),Object(r.cc)(Vg))},token:t,providedIn:"root"}),t})(),Jg=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[Yg]}),t})(),Xg=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It]]}),t})(),Zg=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It]]}),t})(),ty=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It]]}),t})(),ey=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It]]}),t})(),ny=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It]]}),t})(),ry=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It]]}),t})(),iy=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It]]}),t})(),oy=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),sy=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[It]]}),t})();const ay=[yg,vg,bg,_g,wg,Rg,Ug,Jg,Xg,Zg,ty,ey,ny,ry,iy,oy,sy];let cy=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[ay,yg,vg,bg,_g,wg,Rg,Ug,Jg,Xg,Zg,ty,ey,ny,ry,iy,oy,sy]}),t})();var uy=n("zIRd"),ly=(n("t6oF"),n("q/0M")),hy=n("qOnz"),dy=function(t,e){return(dy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function fy(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var py,my="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gy=gy||{},yy=my||self;function vy(){}function by(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function _y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var wy="closure_uid_"+(1e9*Math.random()>>>0),Cy=0;function Ey(t,e,n){return t.call.apply(t.bind,arguments)}function Oy(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Sy(t,e,n){return(Sy=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ey:Oy).apply(null,arguments)}function Ty(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Iy(){return Date.now()}function ky(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function xy(){this.j=this.j,this.i=this.i}xy.prototype.j=!1,xy.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,wy)&&t[wy]||(t[wy]=++Cy)}(this)},xy.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ay=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ry=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Dy(t){return Array.prototype.concat.apply([],arguments)}function Py(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ny(t){return/^[\s\xa0]*$/.test(t)}var jy,My=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ly(t,e){return-1!=t.indexOf(e)}function Fy(t,e){return t<e?-1:t>e?1:0}t:{var Uy=yy.navigator;if(Uy){var Vy=Uy.userAgent;if(Vy){jy=Vy;break t}}jy=""}function By(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function qy(t){var e={};for(var n in t)e[n]=t[n];return e}var Hy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zy(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Hy.length;o++)n=Hy[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ky(t){return Ky[" "](t),t}Ky[" "]=vy;var Gy,Wy,$y=Ly(jy,"Opera"),Qy=Ly(jy,"Trident")||Ly(jy,"MSIE"),Yy=Ly(jy,"Edge"),Jy=Yy||Qy,Xy=Ly(jy,"Gecko")&&!(Ly(jy.toLowerCase(),"webkit")&&!Ly(jy,"Edge"))&&!(Ly(jy,"Trident")||Ly(jy,"MSIE"))&&!Ly(jy,"Edge"),Zy=Ly(jy.toLowerCase(),"webkit")&&!Ly(jy,"Edge");function tv(){var t=yy.document;return t?t.documentMode:void 0}t:{var ev="",nv=(Wy=jy,Xy?/rv:([^\);]+)(\)|;)/.exec(Wy):Yy?/Edge\/([\d\.]+)/.exec(Wy):Qy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wy):Zy?/WebKit\/(\S+)/.exec(Wy):$y?/(?:Version)[ \/]?(\S+)/.exec(Wy):void 0);if(nv&&(ev=nv?nv[1]:""),Qy){var rv=tv();if(null!=rv&&rv>parseFloat(ev)){Gy=String(rv);break t}}Gy=ev}var iv={};function ov(t){return function(t,e){var n=iv;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=My(String(Gy)).split("."),r=My(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Fy(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Fy(0==s[2].length,0==a[2].length)||Fy(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var sv=yy.document&&Qy&&(tv()||parseInt(Gy,10))||void 0,av=!Qy||9<=Number(sv),cv=Qy&&!ov("9"),uv=function(){if(!yy.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{yy.addEventListener("test",vy,e),yy.removeEventListener("test",vy,e)}catch(n){}return t}();function lv(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function hv(t,e){if(lv.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Xy){t:{try{Ky(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:dv[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}lv.prototype.b=function(){this.defaultPrevented=!0},ky(hv,lv);var dv={2:"touch",3:"pen",4:"mouse"};hv.prototype.b=function(){hv.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,cv)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var fv="closure_listenable_"+(1e6*Math.random()|0),pv=0;function mv(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++pv,this.Y=this.Z=!1}function gv(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function yv(t){this.src=t,this.a={},this.b=0}function vv(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ay(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gv(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function bv(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}yv.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=bv(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new mv(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var _v="closure_lm_"+(1e6*Math.random()|0),wv={};function Cv(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Av(r),e&&e[fv]?e.wa(n,r,_y(i)?!!i.capture:!!i,o):Ev(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Cv(t,e[o],n,r,i);return null}return n=Av(n),t&&t[fv]?t.va(e,n,_y(r)?!!r.capture:!!r,i):Ev(t,e,n,!1,r,i)}function Ev(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=_y(i)?!!i.capture:!!i;if(s&&!av)return null;var a=kv(t);if(a||(t[_v]=a=new yv(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Iv,e=av?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uv||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Sv(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ov(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[fv])vv(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Sv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kv(e))?(vv(n,t),0==n.b&&(n.src=null,e[_v]=null)):gv(t)}}}function Sv(t){return t in wv?wv[t]:wv[t]="on"+t}function Tv(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ov(t),n.call(r,e)}function Iv(t,e){if(t.Y)return!0;if(!av){if(!e)t:{e=["window","event"];for(var n=yy,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Tv(t,e=new hv(e,this))}return Tv(t,new hv(e,this))}function kv(t){return(t=t[_v])instanceof yv?t:null}var xv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Av(t){return"function"==typeof t?t:(t[xv]||(t[xv]=function(e){return t.handleEvent(e)}),t[xv])}function Rv(){xy.call(this),this.c=new yv(this),this.J=this,this.C=null}function Dv(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new lv(e,t);else if(e instanceof lv)e.target=e.target||t;else{var i=e;zy(e=new lv(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Pv(s,r,!0,e)&&i}if(i=Pv(s=e.a=t,r,!0,e)&&i,i=Pv(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Pv(s=e.a=n[o],r,!1,e)&&i}function Pv(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,c=s.ca||s.src;s.Z&&vv(t.c,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}ky(Rv,xy),Rv.prototype[fv]=!0,(py=Rv.prototype).addEventListener=function(t,e,n,r){Cv(this,t,e,n,r)},py.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=_y(i)?!!i.capture:!!i,r=Av(r),e&&e[fv]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=bv(s=e.a[n],r,i,o))&&(gv(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=kv(e))&&(n=e.a[n.toString()],e=-1,n&&(e=bv(n,r,i,o)),(r=-1<e?n[e]:null)&&Ov(r))}(this,t,e,n,r)},py.G=function(){if(Rv.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gv(n[r]);delete e.a[t],e.b--}}this.C=null},py.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},py.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Nv=yy.JSON.stringify;function jv(){this.b=this.a=null}var Mv,Lv=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Uv}),(function(t){t.reset()}));function Fv(){var t=Hv,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Uv(){this.next=this.b=this.a=null}function Vv(t){yy.setTimeout((function(){throw t}),0)}function Bv(t,e){Mv||function(){var t=yy.Promise.resolve(void 0);Mv=function(){t.then(zv)}}(),qv||(Mv(),qv=!0),Hv.add(t,e)}jv.prototype.add=function(t,e){var n=Lv.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Uv.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Uv.prototype.reset=function(){this.next=this.b=this.a=null};var qv=!1,Hv=new jv;function zv(){for(var t;t=Fv();){try{t.a.call(t.b)}catch(n){Vv(n)}var e=Lv;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}qv=!1}function Kv(t,e){Rv.call(this),this.b=t||1,this.a=e||yy,this.f=Sy(this.Za,this),this.g=Iy()}function Gv(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Wv(t,e,n){if("function"==typeof t)n&&(t=Sy(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Sy(t.handleEvent,t)}return 2147483647<Number(e)?-1:yy.setTimeout(t,e||0)}function $v(t){t.a=Wv((function(){t.a=null,t.c&&(t.c=!1,$v(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ky(Kv,Rv),(py=Kv.prototype).aa=!1,py.M=null,py.Za=function(){if(this.aa){var t=Iy()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Dv(this,"tick"),this.aa&&(Gv(this),this.start()))}},py.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Iy())},py.G=function(){Kv.X.G.call(this),Gv(this),delete this.a};var Qv=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}dy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:$v(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(yy.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(xy);function Yv(t){xy.call(this),this.b=t,this.a={}}ky(Yv,xy);var Jv=[];function Xv(t,e,n,r){Array.isArray(n)||(n&&(Jv[0]=n.toString()),n=Jv);for(var i=0;i<n.length;i++){var o=Cv(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Zv(t){By(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ov(t)}),t),t.a={}}function tb(){this.a=!0}function eb(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Nv(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Yv.prototype.G=function(){Yv.X.G.call(this),Zv(this)},Yv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tb.prototype.info=function(){};var nb={},rb=null;function ib(){return rb=rb||new Rv}function ob(t){lv.call(this,nb.Fa,t)}function sb(t){var e=ib();Dv(e,new ob(e,t))}function ab(t,e){lv.call(this,nb.STAT_EVENT,t),this.stat=e}function cb(t){var e=ib();Dv(e,new ab(e,t))}function ub(t){lv.call(this,nb.Ga,t)}function lb(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return yy.setTimeout((function(){t()}),e)}nb.Fa="serverreachability",ky(ob,lv),nb.STAT_EVENT="statevent",ky(ab,lv),nb.Ga="timingevent",ky(ub,lv);var hb={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},db={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function fb(){}function pb(){}fb.prototype.a=null;var mb,gb={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function yb(){lv.call(this,"d")}function vb(){lv.call(this,"c")}function bb(){}function _b(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Yv(this),this.P=wb,this.R=new Kv(t=Jy?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ky(yb,lv),ky(vb,lv),ky(bb,fb),mb=new bb;var wb=45e3,Cb={},Eb={};function Ob(t,e,n){t.H=1,t.i=Gb(Vb(e)),t.j=n,t.I=!0,Sb(t,null)}function Sb(t,e){t.u=Iy(),kb(t),t.l=Vb(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),o_(n.b,"t",r),t.D=0,t.a=Z_(t.g,t.g.C?e:null),0<t.O&&(t.F=new Qv(Sy(t.Ca,t,t.a),t.O)),Xv(t.J,t.a,"readystatechange",t.Xa),e=t.B?qy(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),sb(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Tb(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ib(t,n);if(i==Eb){4==e&&(t.h=4,cb(14),r=!1),eb(t.c,t.f,null,"[Incomplete Response]");break}if(i==Cb){t.h=4,cb(15),eb(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}eb(t.c,t.f,i,null),Pb(t,i)}4==e&&0==n.length&&(t.h=1,cb(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),K_(e),e.F=!0,cb(11))):(eb(t.c,t.f,n,"[Invalid Chunked Response]"),Db(t),Rb(t))}function Ib(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Eb:(n=Number(e.substring(n,r)),isNaN(n)?Cb:(r+=1)+n>e.length?Eb:(e=e.substr(r,n),t.D=r+n,e))}function kb(t){t.T=Iy()+t.P,xb(t,t.P)}function xb(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=lb(Sy(t.Va,t),e)}function Ab(t){t.o&&(yy.clearTimeout(t.o),t.o=null)}function Rb(t){0==t.g.v||t.A||$_(t.g,t)}function Db(t){Ab(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Gv(t.R),Zv(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Pb(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||d_(n.b,t)))if(n.I=t.N,!t.C&&d_(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(UA){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;W_(n),M_(n)}z_(n),cb(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=lb(Sy(n.Sa,n),6e3));if(1>=h_(n.b)&&n.ea){try{n.ea()}catch(UA){}n.ea=void 0}}else Y_(n,11)}else if((t.C||n.a==t)&&W_(n),!Ny(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(Ly(l,"spdy")||Ly(l,"quic")||Ly(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(f_(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,Kb(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Iy()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=X_(c,c.C?c.ga:null,c.fa),f.C){p_(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(Ab(p),kb(p)),c.a=f}else H_(c);0<n.g.length&&U_(n)}else"stop"!=i[0]&&"close"!=i[0]||Y_(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Y_(n,7):j_(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);sb(4)}catch(UA){}}function Nb(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(by(t)||"string"==typeof t)Ry(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(by(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(by(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function jb(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof jb)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Mb(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Lb(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Lb(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Lb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(py=_b.prototype).setTimeout=function(t){this.P=t},py.Xa=function(t){t=t.target;var e=this.F;e&&3==R_(t)?e.f():this.Ca(t)},py.Ca=function(t){try{if(t==this.a)t:{var e=R_(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Jy&&!this.a.$())){this.A||4!=e||7==n||sb(8==n||0>=r?3:2),Ab(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ny(s)){var c=s;break e}}c=null}if(!c){this.b=!1,this.h=3,cb(12),Db(this),Rb(this);break t}eb(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Pb(this,c)}this.I?(Tb(this,e,o),Jy&&this.b&&3==e&&(Xv(this.J,this.R,"tick",this.Wa),this.R.start())):(eb(this.c,this.f,o,null),Pb(this,o)),4==e&&Db(this),this.b&&!this.A&&(4==e?$_(this.g,this):(this.b=!1,kb(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,cb(12)):(this.h=0,cb(13)),Db(this),Rb(this)}}}catch(u){}},py.Wa=function(){if(this.a){var t=R_(this.a),e=this.a.$();this.D<e.length&&(Ab(this),Tb(this,t,e),this.b&&4!=t&&kb(this))}},py.cancel=function(){this.A=!0,Db(this)},py.Va=function(){this.o=null;var t=Iy();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(sb(3),cb(17)),Db(this),this.h=2,Rb(this)):xb(this,this.T-t)},(py=jb.prototype).K=function(){Mb(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},py.L=function(){return Mb(this),this.a.concat()},py.get=function(t,e){return Lb(this.b,t)?this.b[t]:e},py.set=function(t,e){Lb(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},py.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Fb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ub(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ub){this.a=void 0!==e?e:t.a,Bb(this,t.f),this.j=t.j,qb(this,t.c),Hb(this,t.h),this.g=t.g,e=t.b;var n=new e_;n.c=e.c,e.a&&(n.a=new jb(e.a),n.b=e.b),zb(this,n),this.i=t.i}else t&&(n=String(t).match(Fb))?(this.a=!!e,Bb(this,n[1]||"",!0),this.j=Wb(n[2]||""),qb(this,n[3]||"",!0),Hb(this,n[4]),this.g=Wb(n[5]||"",!0),zb(this,n[6]||"",!0),this.i=Wb(n[7]||"")):(this.a=!!e,this.b=new e_(null,this.a))}function Vb(t){return new Ub(t)}function Bb(t,e,n){t.f=n?Wb(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function qb(t,e,n){t.c=n?Wb(e,!0):e}function Hb(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function zb(t,e,n){e instanceof e_?(t.b=e,function(t,e){e&&!t.f&&(n_(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(r_(this,e),o_(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=$b(e,Zb)),t.b=new e_(e,t.a))}function Kb(t,e,n){t.b.set(e,n)}function Gb(t){return Kb(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Iy()).toString(36)),t}function Wb(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $b(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Qb),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qb(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ub.prototype.toString=function(){var t=[],e=this.f;e&&t.push($b(e,Yb,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push($b(e,Yb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push($b(n,"/"==n.charAt(0)?Xb:Jb,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",$b(n,t_)),t.join("")};var Yb=/[#\/\?@]/g,Jb=/[#\?:]/g,Xb=/[#\?]/g,Zb=/[#\?@]/g,t_=/#/g;function e_(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function n_(t){t.a||(t.a=new jb,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function r_(t,e){n_(t),e=s_(t,e),Lb(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Lb((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Mb(t)))}function i_(t,e){return n_(t),e=s_(t,e),Lb(t.a.b,e)}function o_(t,e,n){r_(t,e),0<n.length&&(t.c=null,t.a.set(s_(t,e),Py(n)),t.b+=n.length)}function s_(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(py=e_.prototype).add=function(t,e){n_(this),this.c=null,t=s_(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},py.forEach=function(t,e){n_(this),this.a.forEach((function(n,r){Ry(n,(function(n){t.call(e,n,r,this)}),this)}),this)},py.L=function(){n_(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},py.K=function(t){n_(this);var e=[];if("string"==typeof t)i_(this,t)&&(e=Dy(e,this.a.get(s_(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Dy(e,t[n])}return e},py.set=function(t,e){return n_(this),this.c=null,i_(this,t=s_(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},py.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},py.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var a_=function(){return function(t,e){this.b=t,this.a=e}}();function c_(t){this.g=t||u_,t=yy.PerformanceNavigationTiming?0<(t=yy.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(yy.ia&&yy.ia.ya&&yy.ia.ya()&&yy.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var u_=10;function l_(t){return!!t.b||!!t.a&&t.a.size>=t.f}function h_(t){return t.b?1:t.a?t.a.size:0}function d_(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function f_(t,e){t.a?t.a.add(e):t.b=e}function p_(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function m_(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=fy(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Py(t.c)}function g_(){}function y_(){this.a=new g_}function v_(t,e,n){var r=n||"";try{Nb(t,(function(t,n){var i=t;_y(t)&&(i=Nv(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(OR){throw e.push(r+"type="+encodeURIComponent("_badmap")),OR}}function b_(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}c_.prototype.cancel=function(){var t,e;if(this.c=m_(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=fy(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},g_.prototype.stringify=function(t){return yy.JSON.stringify(t,void 0)},g_.prototype.parse=function(t){return yy.JSON.parse(t,void 0)};var __=yy.JSON.parse;function w_(t){Rv.call(this),this.headers=new jb,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=C_,this.D=this.F=!1}ky(w_,Rv);var C_="",E_=/^https?$/i,O_=["POST","PUT"];function S_(t){return"content-type"==t.toLowerCase()}function T_(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,I_(t),x_(t)}function I_(t){t.u||(t.u=!0,Dv(t,"complete"),Dv(t,"error"))}function k_(t){if(t.b&&void 0!==gy&&(!t.s[1]||4!=R_(t)||2!=t.W()))if(t.l&&4==R_(t))Wv(t.za,0,t);else if(Dv(t,"readystatechange"),4==R_(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Fb)[1]||null;if(!o&&yy.self&&yy.self.location){var s=yy.self.location.protocol;o=s.substr(0,s.length-1)}i=!E_.test(o?o.toLowerCase():"")}e=i}if(e)Dv(t,"complete"),Dv(t,"success");else{t.h=6;try{var a=2<R_(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",I_(t)}}finally{x_(t)}}}function x_(t,e){if(t.a){A_(t);var n=t.a,r=t.s[0]?vy:null;t.a=null,t.s=null,e||Dv(t,"ready");try{n.onreadystatechange=r}catch(OR){}}}function A_(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(yy.clearTimeout(t.m),t.m=null)}function R_(t){return t.a?t.a.readyState:0}function D_(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return By(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Kb(t,e,n))}function P_(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function N_(t){this.pa=0,this.g=[],this.c=new tb,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=P_("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=P_("baseRetryDelayMs",5e3,t),this.Ra=P_("retryDelaySeedMs",1e4,t),this.Ma=P_("forwardChannelMaxRetries",2,t),this.ma=P_("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new c_(t&&t.concurrentRequestLimit),this.ka=new y_,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function j_(t){if(L_(t),3==t.v){var e=t.R++,n=Vb(t.B);Kb(n,"SID",t.J),Kb(n,"RID",e),Kb(n,"TYPE","terminate"),B_(t,n),(e=new _b(t,t.c,e,void 0)).H=2,e.i=Gb(Vb(n)),n=!1,yy.navigator&&yy.navigator.sendBeacon&&(n=yy.navigator.sendBeacon(e.i.toString(),"")),!n&&yy.Image&&((new Image).src=e.i,n=!0),n||(e.a=Z_(e.g,null),e.a.ba(e.i)),e.u=Iy(),kb(e)}J_(t)}function M_(t){t.a&&(K_(t),t.a.cancel(),t.a=null)}function L_(t){M_(t),t.j&&(yy.clearTimeout(t.j),t.j=null),W_(t),t.b.cancel(),t.h&&("number"==typeof t.h&&yy.clearTimeout(t.h),t.h=null)}function F_(t,e){t.g.push(new a_(t.Oa++,e)),3==t.v&&U_(t)}function U_(t){l_(t.b)||t.h||(t.h=!0,Bv(t.Ba,t),t.u=0)}function V_(t,e){var n;n=e?e.f:t.R++;var r=Vb(t.B);Kb(r,"SID",t.J),Kb(r,"RID",n),Kb(r,"AID",t.P),B_(t,r),t.i&&t.l&&D_(r,t.i,t.l),n=new _b(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=q_(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),f_(t.b,n),Ob(n,r,e)}function B_(t,e){t.f&&Nb({},(function(t,n){Kb(e,n,t)}))}function q_(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Sy(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=o))o=Math.max(0,i[c].b-100),a=!1;else try{v_(l,s,"req"+u+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function H_(t){t.a||t.j||(t.T=1,Bv(t.Aa,t),t.o=0)}function z_(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=lb(Sy(t.Aa,t),Q_(t,t.o)),t.o++,0))}function K_(t){null!=t.s&&(yy.clearTimeout(t.s),t.s=null)}function G_(t){t.a=new _b(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Vb(t.la);Kb(e,"RID","rpc"),Kb(e,"SID",t.J),Kb(e,"CI",t.H?"0":"1"),Kb(e,"AID",t.P),B_(t,e),Kb(e,"TYPE","xmlhttp"),t.i&&t.l&&D_(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Gb(Vb(e)),n.j=null,n.I=!0,Sb(n,t)}function W_(t){null!=t.m&&(yy.clearTimeout(t.m),t.m=null)}function $_(t,e){var n=null;if(t.a==e){W_(t),K_(t),t.a=null;var r=2}else{if(!d_(t.b,e))return;n=e.s,p_(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Iy()-e.u;var i=t.u;Dv(r=ib(),new ub(r,n,e,i)),U_(t)}else H_(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(h_(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=lb(Sy(t.Ba,t,e),Q_(t,t.u)),t.u++,0)))}(t,e)||2==r&&z_(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Y_(t,5);break;case 4:Y_(t,10);break;case 3:Y_(t,6);break;default:Y_(t,2)}}function Q_(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Y_(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Sy(t.Ya,t);n||(n=new Ub("//www.google.com/images/cleardot.gif"),yy.location&&"http"==yy.location.protocol||Bb(n,"https"),Gb(n)),function(t,e){var n=new tb;if(yy.Image){var r=new Image;r.onload=Ty(b_,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ty(b_,n,r,"TestLoadImage: error",!1,e),r.onabort=Ty(b_,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ty(b_,n,r,"TestLoadImage: timeout",!1,e),yy.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else cb(2);t.v=0,t.f&&t.f.ra(e),J_(t),L_(t)}function J_(t){t.v=0,t.I=-1,t.f&&(0==m_(t.b).length&&0==t.g.length||(t.b.c.length=0,Py(t.g),t.g.length=0),t.f.qa())}function X_(t,e,n){var r=function(t){return t instanceof Ub?Vb(t):new Ub(t,void 0)}(n);if(""!=r.c)e&&qb(r,e+"."+r.c),Hb(r,r.h);else{var i=yy.location;r=function(t,e,n,r){var i=new Ub(null,void 0);return t&&Bb(i,t),e&&qb(i,e),n&&Hb(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&By(t.V,(function(t,e){Kb(r,e,t)})),n=t.na,(e=t.A)&&n&&Kb(r,e,n),Kb(r,"VER",t.ha),B_(t,r),r}function Z_(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new w_(t.Na)).F=t.C,e}function tw(){}function ew(){if(Qy&&!(10<=Number(sv)))throw Error("Environmental error: no available transport.")}function nw(t,e){Rv.call(this),this.a=new N_(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ny(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ny(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ow(this)}function rw(t){yb.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function iw(){vb.call(this),this.status=1}function ow(t){this.a=t}(py=w_.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:mb),this.a.onreadystatechange=Sy(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void T_(this,o)}t=n||"";var i=new jb(this.headers);r&&Nb(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=S_,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=yy.FormData&&t instanceof yy.FormData,!(0<=Ay(O_,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{A_(this),0<this.o&&((this.D=function(t){return Qy&&ov(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Sy(this.xa,this)):this.m=Wv(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){T_(this,o)}},py.xa=function(){void 0!==gy&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Dv(this,"timeout"),this.abort(8))},py.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Dv(this,"complete"),Dv(this,"abort"),x_(this))},py.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),x_(this,!0)),w_.X.G.call(this)},py.za=function(){this.j||(this.A||this.l||this.g?k_(this):this.Ua())},py.Ua=function(){k_(this)},py.W=function(){try{return 2<R_(this)?this.a.status:-1}catch(Wy){return-1}},py.$=function(){try{return this.a?this.a.responseText:""}catch(Wy){return""}},py.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),__(e)}},py.ua=function(){return this.h},py.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(py=N_.prototype).ha=8,py.v=1,py.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new _b(this,this.c,t,void 0),r=this.l;if(this.O&&(r?zy(r=qy(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=q_(this,n,e),Kb(i=Vb(this.B),"RID",t),Kb(i,"CVER",22),this.A&&Kb(i,"X-HTTP-Session-Id",this.A),B_(this,i),this.i&&r&&D_(i,this.i,r),f_(this.b,n),this.Ia&&Kb(i,"TYPE","init"),this.da?(Kb(i,"$req",e),Kb(i,"SID","null"),n.U=!0,Ob(n,i,null)):Ob(n,i,e),this.v=2}}else 3==this.v&&(t?V_(this,t):0==this.g.length||l_(this.b)||V_(this))},py.Aa=function(){if(this.j=null,G_(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=lb(Sy(this.Ta,this),t)}},py.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,cb(10),M_(this),G_(this))},py.Sa=function(){null!=this.m&&(this.m=null,M_(this),z_(this),cb(19))},py.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),cb(2)):(this.c.info("Failed to ping google.com"),cb(1))},(py=tw.prototype).ta=function(){},py.sa=function(){},py.ra=function(){},py.qa=function(){},py.Ja=function(){},ew.prototype.a=function(t,e){return new nw(t,e)},ky(nw,Rv),nw.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;cb(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=X_(t,null,t.fa),U_(t)},nw.prototype.close=function(){j_(this.a)},nw.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,F_(this.a,e)}else this.l?((e={}).__data__=Nv(t),F_(this.a,e)):F_(this.a,t)},nw.prototype.G=function(){this.a.f=null,delete this.f,j_(this.a),delete this.a,nw.X.G.call(this)},ky(rw,yb),ky(iw,vb),ky(ow,tw),ow.prototype.ta=function(){Dv(this.a,"a")},ow.prototype.sa=function(t){Dv(this.a,new rw(t))},ow.prototype.ra=function(t){Dv(this.a,new iw(t))},ow.prototype.qa=function(){Dv(this.a,"b")},ew.prototype.createWebChannel=ew.prototype.a,nw.prototype.send=nw.prototype.h,nw.prototype.open=nw.prototype.g,nw.prototype.close=nw.prototype.close,hb.NO_ERROR=0,hb.TIMEOUT=8,hb.HTTP_ERROR=6,db.COMPLETE="complete",pb.EventType=gb,gb.OPEN="a",gb.CLOSE="b",gb.ERROR="c",gb.MESSAGE="d",Rv.prototype.listen=Rv.prototype.va,w_.prototype.listenOnce=w_.prototype.wa,w_.prototype.getLastError=w_.prototype.Qa,w_.prototype.getLastErrorCode=w_.prototype.ua,w_.prototype.getStatus=w_.prototype.W,w_.prototype.getResponseJson=w_.prototype.Pa,w_.prototype.getResponseText=w_.prototype.$,w_.prototype.send=w_.prototype.ba;var sw=hb,aw=db,cw=nb,uw=pb,lw=w_,hw=n("30Go"),dw=new ly.b("@firebase/firestore");function fw(){return dw.logLevel}function pw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dw.logLevel<=ly.a.DEBUG){var r=e.map(yw);dw.debug.apply(dw,Object(hw.g)(["Firestore (8.2.2): "+t],r))}}function mw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dw.logLevel<=ly.a.ERROR){var r=e.map(yw);dw.error.apply(dw,Object(hw.g)(["Firestore (8.2.2): "+t],r))}}function gw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dw.logLevel<=ly.a.WARN){var r=e.map(yw);dw.warn.apply(dw,Object(hw.g)(["Firestore (8.2.2): "+t],r))}}function yw(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(OR){return t}}function vw(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw mw(e),new Error(e)}function bw(t,e){t||vw()}function _w(t,e){return t}function ww(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Cw=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ww(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ew(t,e){return t<e?-1:t>e?1:0}function Ow(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Sw(t){return t+"\0"}var Tw=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Ew(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Tw.h=new Tw("");var Iw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(hw.c)(e,t),e}(Error),xw=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Tw.fromBase64String(e))}catch(e){throw new kw(Iw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Tw.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Aw=function(t){this._=t};function Rw(){if("undefined"==typeof Uint8Array)throw new kw(Iw.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Dw(){if("undefined"==typeof atob)throw new kw(Iw.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Pw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e.fromBase64String=function(t){return Dw(),new e(xw.fromBase64String(t))},e.fromUint8Array=function(t){return Rw(),new e(xw.fromUint8Array(t))},e.prototype.toBase64=function(){return Dw(),this._.toBase64()},e.prototype.toUint8Array=function(){return Rw(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Aw),Nw=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},jw=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Mw=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Mw.UNAUTHENTICATED=new Mw(null),Mw.P=new Mw("google-credentials-uid"),Mw.g=new Mw("first-party-uid");var Lw=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Fw=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Mw.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Uw=function(){function t(t){var e=this;this.C=null,this.currentUser=Mw.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(pw("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(bw("string"==typeof n.accessToken),new Lw(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return bw(null===t||"string"==typeof t),new Mw(t)},t}(),Vw=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Mw.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Bw=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Vw(this.k,this.M))},t.prototype.S=function(t){t(Mw.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),qw=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();qw.U=-1;var Hw=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new kw(Iw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new kw(Iw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new kw(Iw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kw(Iw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Ew(this.nanoseconds,t.nanoseconds):Ew(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),zw=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new Hw(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Kw=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&vw(),void 0===n?n=t.length-e:n>t.length-e&&vw(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Gw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new kw(Iw.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(Kw),Ww=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Ww.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new kw(Iw.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new kw(Iw.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new kw(Iw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new kw(Iw.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Kw),Qw=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Gw.ct(e))},t.dt=function(e){return new t(Gw.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Gw.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Gw.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Gw(e.slice()))},t}();function Yw(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jw(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xw(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Zw=function(){function t(t){this.fields=t,t.sort($w.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Ow(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),tC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eC(t){if(bw(!!t),"string"==typeof t){var e=0,n=tC.exec(t);if(bw(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nC(t.seconds),nanos:nC(t.nanos)}}function nC(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function rC(t){return"string"==typeof t?Tw.fromBase64String(t):Tw.fromUint8Array(t)}function iC(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oC(t){var e=eC(t.mapValue.fields.__local_write_time__.timestampValue);return new Hw(e.seconds,e.nanos)}function sC(t){return null==t}function aC(t){return 0===t&&1/t==-1/0}function cC(t){return"number"==typeof t&&Number.isInteger(t)&&!aC(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function uC(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iC(t)?4:10:vw()}function lC(t,e){var n=uC(t);if(n!==uC(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oC(t).isEqual(oC(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=eC(t.timestampValue),r=eC(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return rC(t.bytesValue).isEqual(rC(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return nC(t.geoPointValue.latitude)===nC(e.geoPointValue.latitude)&&nC(t.geoPointValue.longitude)===nC(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return nC(t.integerValue)===nC(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=nC(t.doubleValue),r=nC(e.doubleValue);return n===r?aC(n)===aC(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ow(t.arrayValue.values||[],e.arrayValue.values||[],lC);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Yw(n)!==Yw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!lC(n[i],r[i])))return!1;return!0}(t,e);default:return vw()}}function hC(t,e){return void 0!==(t.values||[]).find((function(t){return lC(t,e)}))}function dC(t,e){var n=uC(t),r=uC(e);if(n!==r)return Ew(n,r);switch(n){case 0:return 0;case 1:return Ew(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=nC(t.integerValue||t.doubleValue),r=nC(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fC(t.timestampValue,e.timestampValue);case 4:return fC(oC(t),oC(e));case 5:return Ew(t.stringValue,e.stringValue);case 6:return function(t,e){var n=rC(t),r=rC(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ew(n[i],r[i]);if(0!==o)return o}return Ew(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ew(nC(t.latitude),nC(e.latitude));return 0!==n?n:Ew(nC(t.longitude),nC(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=dC(n[i],r[i]);if(o)return o}return Ew(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Ew(r[s],o[s]);if(0!==a)return a;var c=dC(n[r[s]],i[o[s]]);if(0!==c)return c}return Ew(r.length,o.length)}(t.mapValue,e.mapValue);default:throw vw()}}function fC(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ew(t,e);var n=eC(t),r=eC(e),i=Ew(n.seconds,r.seconds);return 0!==i?i:Ew(n.nanos,r.nanos)}function pC(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=eC(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?rC(e.bytesValue).toBase64():"referenceValue"in e?Qw.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):vw();var n}(t)}function mC(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function gC(t){return!!t&&"integerValue"in t}function yC(t){return!!t&&"arrayValue"in t}function vC(t){return!!t&&"nullValue"in t}function bC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _C(t){return!!t&&"mapValue"in t}var wC=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!_C(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return lC(this.proto,t.proto)},t}(),CC=function(){function t(t){void 0===t&&(t=wC.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===uC(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt($w.at(),this.Rt);return null!=t?new wC(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=_C(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function EC(t){var e=[];return Jw(t.fields||{},(function(t,n){var r=new $w([t]);if(_C(n)){var i=EC(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Zw(e)}var OC=function(t,e){this.key=t,this.version=e},SC=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(hw.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(OC),TC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(hw.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(OC),IC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(OC),kC=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function xC(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new kC(t,e,n,r,i,o,s)}function AC(t){var e=_w(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+pC(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),sC(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=HC(e.startAt)),e.endAt&&(n+="|ub:",n+=HC(e.endAt)),e.St=n}return e.St}function RC(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!KC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!lC(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WC(t.startAt,e.startAt)&&WC(t.endAt,e.endAt)}function DC(t){return Qw.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var PC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(hw.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new NC(t,n,r):"array-contains"===n?new FC(t,r):"in"===n?new UC(t,r):"not-in"===n?new VC(t,r):"array-contains-any"===n?new BC(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new jC(t,n):new MC(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(dC(e,this.value)):null!==e&&uC(this.value)===uC(e)&&this.Ct(dC(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return vw()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),NC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Qw.dt(r.referenceValue),i}return Object(hw.c)(e,t),e.prototype.matches=function(t){var e=Qw.J(t.key,this.key);return this.Ct(e)},e}(PC),jC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=LC(0,n),r}return Object(hw.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(PC),MC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=LC(0,n),r}return Object(hw.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(PC);function LC(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Qw.dt(t.referenceValue)}))}var FC=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(hw.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return yC(e)&&hC(e.arrayValue,this.value)},e}(PC),UC=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(hw.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&hC(this.value.arrayValue,e)},e}(PC),VC=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(hw.c)(e,t),e.prototype.matches=function(t){if(hC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!hC(this.value.arrayValue,e)},e}(PC),BC=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(hw.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!yC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return hC(e.value.arrayValue,t)}))},e}(PC),qC=function(t,e){this.position=t,this.before=e};function HC(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return pC(t)})).join(",")}var zC=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function KC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function GC(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Qw.J(Qw.dt(s.referenceValue),n.key):dC(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function WC(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!lC(t.position[n],e.position[n]))return!1;return!0}var $C=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ot=null,this.Ft=null};function QC(t,e,n,r,i,o,s,a){return new $C(t,e,n,r,i,o,s,a)}function YC(t){return new $C(t)}function JC(t){return!sC(t.limit)&&"F"===t.limitType}function XC(t){return!sC(t.limit)&&"L"===t.limitType}function ZC(t){return t.Nt.length>0?t.Nt[0].field:null}function tE(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function eE(t){return null!==t.collectionGroup}function nE(t){var e=_w(t);if(null===e.Ot){e.Ot=[];var n=tE(e),r=ZC(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new zC(n)),e.Ot.push(new zC($w.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ot.push(a),a.field.ht()&&(i=!0)}if(!i){var c=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new zC($w.lt(),c))}}}return e.Ot}function rE(t){var e=_w(t);if(!e.Ft)if("F"===e.limitType)e.Ft=xC(e.path,e.collectionGroup,nE(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=nE(e);r<i.length;r++){var o=i[r];n.push(new zC(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new qC(e.endAt.position,!e.endAt.before):null,a=e.startAt?new qC(e.startAt.position,!e.startAt.before):null;e.Ft=xC(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ft}function iE(t,e,n){return new $C(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oE(t,e){return RC(rE(t),rE(e))&&t.limitType===e.limitType}function sE(t){return AC(rE(t))+"|lt:"+t.limitType}function aE(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+pC(e.value);var e})).join(", ")+"]"),sC(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+HC(t.startAt)),t.endAt&&(e+=", endAt: "+HC(t.endAt)),"Target("+e+")"}(rE(t))+"; limitType="+t.limitType+")"}function cE(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Qw.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!GC(t.startAt,nE(t),e)||t.endAt&&GC(t.endAt,nE(t),e))}(t,e)}function uE(t){return function(e,n){for(var r=!1,i=0,o=nE(t);i<o.length;i++){var s=o[i],a=lE(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function lE(t,e,n){var r=t.field.ht()?Qw.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?dC(r,i):vw()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return vw()}}var hE=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=zw.min()),void 0===o&&(o=zw.min()),void 0===s&&(s=Tw.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function dE(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:aC(e)?"-0":e}}function fE(t){return{integerValue:""+t}}function pE(t,e){return cC(e)?fE(e):dE(t,e)}var mE=function(){this.Ut=void 0};function gE(t,e,n){return t instanceof bE?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof _E?wE(t,e):t instanceof CE?EE(t,e):function(t,e){var n=vE(t,e),r=SE(n)+SE(t.Qt);return gC(n)&&gC(t.Qt)?fE(r):dE(t.Kt,r)}(t,e)}function yE(t,e,n){return t instanceof _E?wE(t,e):t instanceof CE?EE(t,e):n}function vE(t,e){return t instanceof OE?gC(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var bE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e}(mE),_E=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(hw.c)(e,t),e}(mE);function wE(t,e){for(var n=TE(e),r=function(t){n.some((function(e){return lC(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var CE=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(hw.c)(e,t),e}(mE);function EE(t,e){for(var n=TE(e),r=function(t){n=n.filter((function(e){return!lC(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var OE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(hw.c)(e,t),e}(mE);function SE(t){return nC(t.integerValue||t.doubleValue)}function TE(t){return yC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var IE=function(t,e){this.field=t,this.transform=e},kE=function(t,e){this.version=t,this.transformResults=e},xE=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function AE(t,e){return void 0!==t.updateTime?e instanceof SC&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof SC}var RE=function(){};function DE(t,e,n){return t instanceof LE?function(t,e,n){var r=t.value;if(n.transformResults){var i=VE(t.fieldTransforms,e,n.transformResults);r=qE(t.fieldTransforms,r,i)}return new SC(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof FE?function(t,e,n){if(!AE(t.Gt,e))return new IC(t.key,n.version);var r=UE(t,e,n.transformResults?VE(t.fieldTransforms,e,n.transformResults):[]);return new SC(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new TC(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function PE(t,e,n,r){return t instanceof LE?function(t,e,n,r){if(!AE(t.Gt,e))return e;var i=t.value,o=BE(t.fieldTransforms,n,e);i=qE(t.fieldTransforms,i,o);var s=ME(e);return new SC(t.key,s,i,{bt:!0})}(t,e,r):t instanceof FE?function(t,e,n,r){if(!AE(t.Gt,e))return e;var i=ME(e),o=UE(t,e,BE(t.fieldTransforms,n,e));return new SC(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return AE(t.Gt,e)?new TC(t.key,zw.min()):e}(t,e)}function NE(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof SC?e.field(o.field):void 0,a=vE(o.transform,s||null);null!=a&&(n=null==n?(new CC).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function jE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ow(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof _E&&e instanceof _E||t instanceof CE&&e instanceof CE?Ow(t.elements,e.elements,lC):t instanceof OE&&e instanceof OE?lC(t.Qt,e.Qt):t instanceof bE&&e instanceof bE}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function ME(t){return t instanceof SC?t.version:zw.min()}var LE=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(hw.c)(e,t),e}(RE),FE=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(hw.c)(e,t),e}(RE);function UE(t,e,n){var r;return r=function(t,e){var n=new CC(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof SC?e.data():wC.empty()),qE(t.fieldTransforms,r,n)}function VE(t,e,n){var r=[];bw(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof SC&&(a=e.field(o.field)),r.push(yE(s,a,n[i]))}return r}function BE(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],c=a.transform,u=null;n instanceof SC&&(u=n.field(a.field)),i.push(gE(c,u,e))}return i}function qE(t,e,n){for(var r=new CC(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var HE,zE,KE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(hw.c)(e,t),e}(RE),GE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(hw.c)(e,t),e}(RE),WE=function(t){this.count=t};function $E(t){switch(t){case Iw.OK:return vw();case Iw.CANCELLED:case Iw.UNKNOWN:case Iw.DEADLINE_EXCEEDED:case Iw.RESOURCE_EXHAUSTED:case Iw.INTERNAL:case Iw.UNAVAILABLE:case Iw.UNAUTHENTICATED:return!1;case Iw.INVALID_ARGUMENT:case Iw.NOT_FOUND:case Iw.ALREADY_EXISTS:case Iw.PERMISSION_DENIED:case Iw.FAILED_PRECONDITION:case Iw.ABORTED:case Iw.OUT_OF_RANGE:case Iw.UNIMPLEMENTED:case Iw.DATA_LOSS:return!0;default:return vw()}}function QE(t){if(void 0===t)return mw("GRPC error has no .code"),Iw.UNKNOWN;switch(t){case HE.OK:return Iw.OK;case HE.CANCELLED:return Iw.CANCELLED;case HE.UNKNOWN:return Iw.UNKNOWN;case HE.DEADLINE_EXCEEDED:return Iw.DEADLINE_EXCEEDED;case HE.RESOURCE_EXHAUSTED:return Iw.RESOURCE_EXHAUSTED;case HE.INTERNAL:return Iw.INTERNAL;case HE.UNAVAILABLE:return Iw.UNAVAILABLE;case HE.UNAUTHENTICATED:return Iw.UNAUTHENTICATED;case HE.INVALID_ARGUMENT:return Iw.INVALID_ARGUMENT;case HE.NOT_FOUND:return Iw.NOT_FOUND;case HE.ALREADY_EXISTS:return Iw.ALREADY_EXISTS;case HE.PERMISSION_DENIED:return Iw.PERMISSION_DENIED;case HE.FAILED_PRECONDITION:return Iw.FAILED_PRECONDITION;case HE.ABORTED:return Iw.ABORTED;case HE.OUT_OF_RANGE:return Iw.OUT_OF_RANGE;case HE.UNIMPLEMENTED:return Iw.UNIMPLEMENTED;case HE.DATA_LOSS:return Iw.DATA_LOSS;default:return vw()}}(zE=HE||(HE={}))[zE.OK=0]="OK",zE[zE.CANCELLED=1]="CANCELLED",zE[zE.UNKNOWN=2]="UNKNOWN",zE[zE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zE[zE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zE[zE.NOT_FOUND=5]="NOT_FOUND",zE[zE.ALREADY_EXISTS=6]="ALREADY_EXISTS",zE[zE.PERMISSION_DENIED=7]="PERMISSION_DENIED",zE[zE.UNAUTHENTICATED=16]="UNAUTHENTICATED",zE[zE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zE[zE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zE[zE.ABORTED=10]="ABORTED",zE[zE.OUT_OF_RANGE=11]="OUT_OF_RANGE",zE[zE.UNIMPLEMENTED=12]="UNIMPLEMENTED",zE[zE.INTERNAL=13]="INTERNAL",zE[zE.UNAVAILABLE=14]="UNAVAILABLE",zE[zE.DATA_LOSS=15]="DATA_LOSS";var YE=function(){function t(t,e){this.J=t,this.root=e||XE.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,XE.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,XE.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new JE(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new JE(this.root,t,this.J,!1)},t.prototype.se=function(){return new JE(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new JE(this.root,t,this.J,!0)},t}(),JE=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),XE=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw vw();if(this.right._e())throw vw();var t=this.left.me();if(t!==this.right.me())throw vw();return t+(this._e()?0:1)},t}();XE.EMPTY=null,XE.RED=!0,XE.Jt=!1,XE.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw vw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw vw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw vw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw vw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw vw()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new XE(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var ZE=function(){function t(t){this.J=t,this.data=new YE(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new tO(this.data.ee())},t.prototype.ne=function(t){return new tO(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),tO=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),eO=new YE(Qw.J);function nO(){return eO}function rO(){return nO()}var iO=new YE(Qw.J);function oO(){return iO}var sO=new YE(Qw.J);function aO(){return sO}var cO=new ZE(Qw.J);function uO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=cO,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var lO=new ZE(Ew);function hO(){return lO}var dO=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Qw.J(e.key,n.key)}:function(t,e){return Qw.J(t.key,e.key)},this.Ve=oO(),this.pe=new YE(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),fO=function(){function t(){this.ve=new YE(Qw.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):vw():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),pO=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Oe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,dO.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&oE(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),mO=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,gO.Be(e,n)),new t(zw.min(),r,hO(),nO(),uO())},t}(),gO=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Tw.h,n,uO(),uO(),uO())},t}(),yO=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},vO=function(t,e){this.targetId=t,this.Ge=e},bO=function(t,e,n,r){void 0===n&&(n=Tw.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},_O=function(){function t(){this.ze=0,this.He=EO(),this.Je=Tw.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=uO(),e=uO(),n=uO();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:vw()}})),new gO(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=EO()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),wO=function(){function t(t){this.hn=t,this.ln=new Map,this._n=nO(),this.fn=CO(),this.dn=new ZE(Ew)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof SC?this.En(r,t.We):t.We instanceof TC&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:vw()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(DC(i))if(0===n){var o=new Qw(i.path);this.Tn(e,o,new TC(o,zw.min()))}else bw(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&DC(o.target)){var s=new Qw(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new TC(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=uO();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new mO(t,n,this.dn,this._n,r);return this._n=nO(),this.fn=CO(),this.dn=new ZE(Ew),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new _O,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new ZE(Ew),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||pw("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new _O),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function CO(){return new YE(Qw.J)}function EO(){return new YE(Qw.J)}var OO={asc:"ASCENDING",desc:"DESCENDING"},SO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TO=function(t,e){this.T=t,this.qt=e};function IO(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function kO(t,e){return t.qt?e.toBase64():e.toUint8Array()}function xO(t,e){return IO(t,e.G())}function AO(t){return bw(!!t),zw.j(function(t){var e=eC(t);return new Hw(e.seconds,e.nanos)}(t))}function RO(t,e){return function(t){return new Gw(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function DO(t){var e=Gw.ct(t);return bw(eS(e)),e}function PO(t,e){return RO(t.T,e.path)}function NO(t,e){var n=DO(e);if(n.get(1)!==t.T.projectId)throw new kw(Iw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new kw(Iw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Qw(FO(n))}function jO(t,e){return RO(t.T,e)}function MO(t){var e=DO(t);return 4===e.length?Gw.at():FO(e)}function LO(t){return new Gw(["projects",t.T.projectId,"databases",t.T.database]).ot()}function FO(t){return bw(t.length>4&&"documents"===t.get(4)),t.X(5)}function UO(t,e,n){return{name:PO(t,e),fields:n.proto.mapValue.fields}}function VO(t,e,n){var r=NO(t,e.name),i=AO(e.updateTime),o=new wC({mapValue:{fields:e.fields}});return new SC(r,i,o,{hasCommittedMutations:!!n})}function BO(t,e){var n;if(e instanceof LE)n={update:UO(t,e.key,e.value)};else if(e instanceof KE)n={delete:PO(t,e.key)};else if(e instanceof FE)n={update:UO(t,e.key,e.data),updateMask:tS(e.zt)};else{if(!(e instanceof GE))return vw();n={verify:PO(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof bE)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof _E)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof CE)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof OE)return{fieldPath:e.field.ot(),increment:n.Qt};throw vw()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:xO(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:vw()}(t,e.Gt)),n}function qO(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?xE.updateTime(AO(t.updateTime)):void 0!==t.exists?xE.exists(t.exists):xE.jt()}(e.currentDocument):xE.jt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(bw("REQUEST_TIME"===e.setToServerValue),n=new bE):"appendMissingElements"in e?n=new _E(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new CE(e.removeAllFromArray.values||[]):"increment"in e?n=new OE(t,e.increment):vw();var r=$w._t(e.fieldPath);return new IE(r,n)}(t,e)})):[];if(e.update){var i=NO(t,e.update.name),o=new wC({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Zw((t.fieldPaths||[]).map((function(t){return $w._t(t)})))}(e.updateMask);return new FE(i,o,s,n,r)}return new LE(i,o,n,r)}if(e.delete){var a=NO(t,e.delete);return new KE(a,n)}if(e.verify){var c=NO(t,e.verify);return new GE(c,n)}return vw()}function HO(t,e){return{documents:[jO(t,e.path)]}}function zO(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=jO(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jO(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(bC(t.value))return{unaryFilter:{field:YO(t.field),op:"IS_NAN"}};if(vC(t.value))return{unaryFilter:{field:YO(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(bC(t.value))return{unaryFilter:{field:YO(t.field),op:"IS_NOT_NAN"}};if(vC(t.value))return{unaryFilter:{field:YO(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:YO(t.field),op:QO(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:YO(t.field),direction:$O(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||sC(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=GO(e.startAt)),e.endAt&&(n.structuredQuery.endAt=GO(e.endAt)),n}function KO(t){var e=MO(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){bw(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[ZO(e)]:void 0!==e.fieldFilter?[XO(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):vw():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new zC(JO(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return sC(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=WO(n.startAt));var l=null;return n.endAt&&(l=WO(n.endAt)),QC(e,i,a,s,c,"F",u,l)}function GO(t){return{before:t.before,values:t.position}}function WO(t){return new qC(t.values||[],!!t.before)}function $O(t){return OO[t]}function QO(t){return SO[t]}function YO(t){return{fieldPath:t.ot()}}function JO(t){return $w._t(t.fieldPath)}function XO(t){return PC.create(JO(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return vw()}}(t.fieldFilter.op),t.fieldFilter.value)}function ZO(t){switch(t.unaryFilter.op){case"IS_NAN":var e=JO(t.unaryFilter.field);return PC.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=JO(t.unaryFilter.field);return PC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=JO(t.unaryFilter.field);return PC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=JO(t.unaryFilter.field);return PC.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return vw()}}function tS(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function eS(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var nS=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},rS=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&vw(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),iS=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new nS,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new aS(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=dS(e.target.error);n.qn.reject(new aS(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new aS(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(pw("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new uS(e)},t}(),oS=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(hy.p)())&&mw("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return pw("SimpleDb","Removing database:",t),lS(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(hy.p)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n=this;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(pw("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new aS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new kw(Iw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new aS(t,n))},i.onupgradeneeded=function(t){pw("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){pw("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(hw.b)(this,void 0,void 0,(function(){var i,o,s,a,c;return Object(hw.d)(this,(function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,u,l;return Object(hw.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=iS.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),rS.reject(t)})).Mn(),c={},s.catch((function(){})),[4,e.Un];case 3:return[2,(c.value=(h.sent(),s),c)];case 4:return pw("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),sS=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return lS(this.ts.delete())},t}(),aS=function(t){function e(e,n){var r=this;return(r=t.call(this,Iw.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(hw.c)(e,t),e}(kw);function cS(t){return"IndexedDbTransactionError"===t.name}var uS=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(pw("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(pw("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),lS(n)},t.prototype.add=function(t){return pw("SimpleDb","ADD",this.store.name,t,t),lS(this.store.add(t))},t.prototype.get=function(t){var e=this;return lS(this.store.get(t)).next((function(n){return void 0===n&&(n=null),pw("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return pw("SimpleDb","DELETE",this.store.name,t),lS(this.store.delete(t))},t.prototype.count=function(){return pw("SimpleDb","COUNT",this.store.name),lS(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){pw("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new rS((function(n,r){e.onerror=function(t){var e=dS(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new rS((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new sS(i),s=e(i.primaryKey,i.value,o);if(s instanceof rS){var a=s.catch((function(t){return o.done(),rS.reject(t)}));n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return rS.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function lS(t){return new rS((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=dS(t.target.error);n(e)}}))}var hS=!1;function dS(t){var e=oS.Kn(Object(hy.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new kw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hS||(hS=!0,setTimeout((function(){throw r}),0)),r}}return t}var fS=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new nS,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new kw(Iw.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function pS(t,e){if(mw("AsyncQueue",e+": "+t),cS(t))return new kw(Iw.UNAVAILABLE,e+": "+t);throw t}var mS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gS=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function yS(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=bS(e)),e=vS(t.get(n),e);return bS(e)}function vS(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function bS(t){return t+"\x01\x01"}function _S(t){var e=t.length;if(bw(e>=2),2===e)return bw("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Gw.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&vw(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:vw()}o=s+2}return new Gw(r)}var wS=function(t,e){this.seconds=t,this.nanoseconds=e},CS=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};CS.store="owner",CS.key="owner";var ES=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ES.store="mutationQueues",ES.keyPath="userId";var OS=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};OS.store="mutations",OS.keyPath="batchId",OS.userMutationsIndex="userMutationsIndex",OS.userMutationsKeyPath=["userId","batchId"];var SS=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,yS(e)]},t.key=function(t,e,n){return[t,yS(e),n]},t}();SS.store="documentMutations",SS.PLACEHOLDER=new SS;var TS=function(t,e){this.path=t,this.readTime=e},IS=function(t,e){this.path=t,this.version=e},kS=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};kS.store="remoteDocuments",kS.readTimeIndex="readTimeIndex",kS.readTimeIndexPath="readTime",kS.collectionReadTimeIndex="collectionReadTimeIndex",kS.collectionReadTimeIndexPath=["parentPath","readTime"];var xS=function(t){this.byteSize=t};xS.store="remoteDocumentGlobal",xS.key="remoteDocumentGlobalKey";var AS=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};AS.store="targets",AS.keyPath="targetId",AS.queryTargetsIndexName="queryTargetsIndex",AS.queryTargetsKeyPath=["canonicalId","targetId"];var RS=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};RS.store="targetDocuments",RS.keyPath=["targetId","path"],RS.documentTargetsIndex="documentTargetsIndex",RS.documentTargetsKeyPath=["path","targetId"];var DS=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};DS.key="targetGlobalKey",DS.store="targetGlobal";var PS=function(t,e){this.collectionId=t,this.parent=e};PS.store="collectionParents",PS.keyPath=["collectionId","parent"];var NS=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};NS.store="clientMetadata",NS.keyPath="clientId";var jS=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};jS.store="bundles",jS.keyPath="bundleId";var MS=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};MS.store="namedQueries",MS.keyPath="name";var LS=Object(hw.g)(Object(hw.g)(Object(hw.g)(Object(hw.g)([ES.store,OS.store,SS.store,kS.store,AS.store,CS.store,DS.store,RS.store],[NS.store]),[xS.store]),[PS.store]),[jS.store,MS.store]),FS=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(hw.c)(e,t),e}(gS);function US(t,e){var n=_w(t);return oS.Hn(n.bs,e)}var VS=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=DE(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=PE(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=PE(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),uO())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ow(this.mutations,t.mutations,(function(t,e){return jE(t,e)}))&&Ow(this.baseMutations,t.baseMutations,(function(t,e){return jE(t,e)}))},t}(),BS=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){bw(e.mutations.length===r.length);for(var i=aO(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),qS=function(t){this.ks=t};function HS(t,e){if(e.document)return VO(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Qw.Tt(e.noDocument.path),r=$S(e.noDocument.readTime);return new TC(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Qw.Tt(e.unknownDocument.path);return r=$S(e.unknownDocument.version),new IC(i,r)}return vw()}function zS(t,e,n){var r=KS(n),i=e.key.path.Z().rt();if(e instanceof SC){var o=function(t,e){return{name:PO(t,e.key),fields:e.vt().mapValue.fields,updateTime:IO(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new kS(null,null,o,s,r,i)}if(e instanceof TC){var a=e.key.path.rt(),c=WS(e.version);return s=e.hasCommittedMutations,new kS(null,new TS(a,c),null,s,r,i)}if(e instanceof IC){var u=e.key.path.rt(),l=WS(e.version);return new kS(new IS(u,l),null,null,!0,r,i)}return vw()}function KS(t){var e=t.G();return[e.seconds,e.nanoseconds]}function GS(t){var e=new Hw(t[0],t[1]);return zw.j(e)}function WS(t){var e=t.G();return new wS(e.seconds,e.nanoseconds)}function $S(t){var e=new Hw(t.seconds,t.nanoseconds);return zw.j(e)}function QS(t,e){for(var n=(e.baseMutations||[]).map((function(e){return qO(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return qO(t.ks,e)})),s=Hw.fromMillis(e.localWriteTimeMs);return new VS(e.batchId,s,n,o)}function YS(t){var e,n,r=$S(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?$S(t.lastLimboFreeSnapshotVersion):zw.min();return void 0!==t.query.documents?(bw(1===(n=t.query).documents.length),e=rE(YC(MO(n.documents[0])))):e=function(t){return rE(KO(t))}(t.query),new hE(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Tw.fromBase64String(t.resumeToken))}function JS(t,e){var n,r=WS(e.Mt),i=WS(e.lastLimboFreeSnapshotVersion);n=DC(e.target)?HO(t.ks,e.target):zO(t.ks,e.target);var o=e.resumeToken.toBase64();return new AS(e.targetId,AC(e.target),r,o,e.sequenceNumber,i,n)}function XS(t){var e=KO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?iE(e,e.limit,"L"):e}var ZS=function(){function t(){}return t.prototype.Ms=function(t,e){return tT(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:$S(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return tT(t).put({bundleId:(n=e).id,createTime:WS(AO(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return eT(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:XS(e.bundledQuery),readTime:$S(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return eT(t).put(function(t){return{name:t.name,readTime:WS(AO(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function tT(t){return US(t,jS.store)}function eT(t){return US(t,MS.store)}var nT=function(){function t(){this.qs=new rT}return t.prototype.Us=function(t,e){return this.qs.add(e),rS.resolve()},t.prototype.Qs=function(t,e){return rS.resolve(this.qs.getEntries(e))},t}(),rT=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new ZE(Gw.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ZE(Gw.J)).rt()},t}(),iT=function(){function t(){this.Ks=new rT}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var o={collectionId:r,parent:yS(i)};return oT(t).put(o)}return rS.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Sw(e),""],!1,!0);return oT(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(_S(o.parent))}return n}))},t}();function oT(t){return US(t,PS.store)}var sT={js:!1,Ws:0,Gs:0,zs:0},aT=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function cT(t){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){if(t.code!==Iw.FAILED_PRECONDITION||t.message!==mS)throw t;return pw("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}aT.Zs=10,aT.ti=1e3,aT.ei=new aT(41943040,aT.Zs,aT.ti),aT.ni=new aT(-1,0,0);var uT=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Jw(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.nt=function(){return Xw(this.ri)},t}(),lT=function(){function t(){this.oi=new uT((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:zw.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?rS.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function hT(t,e,n){var r=t.store(OS.store),i=t.store(SS.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.ls({range:s},(function(t,e,n){return a++,n.delete()}));o.push(c.next((function(){bw(1===a)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=SS.key(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return rS.$n(o).next((function(){return u}))}function dT(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw vw();e=t.noDocument}return JSON.stringify(e).length}var fT=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return bw(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mT(t).ls({index:OS.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,o=gT(t),s=mT(t);return s.add({}).next((function(a){bw("number"==typeof a);for(var c=new VS(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return BO(t.ks,e)})),i=n.mutations.map((function(e){return BO(t.ks,e)}));return new OS(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,c),l=[],h=new ZE((function(t,e){return Ew(t.ot(),e.ot())})),d=0,f=r;d<f.length;d++){var p=f[d],m=SS.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(u)),l.push(o.put(m,SS.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[a]=c.keys()})),rS.$n(l).next((function(){return c}))}))},t.prototype.yi=function(t,e){var n=this;return mT(t).get(e).next((function(t){return t?(bw(t.userId===n.userId),QS(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?rS.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return mT(t).ls({index:OS.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(bw(e.batchId>=r),o=QS(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return mT(t).ls({index:OS.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mT(t).os(OS.userMutationsIndex,n).next((function(t){return t.map((function(t){return QS(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=SS.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return gT(t).ls({range:i},(function(r,i,s){var a=r[0],c=r[2],u=_S(r[1]);if(a===n.userId&&e.path.isEqual(u))return mT(t).get(c).next((function(t){if(!t)throw vw();bw(t.userId===n.userId),o.push(QS(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Si=function(t,e){var n=this,r=new ZE(Ew),i=[];return e.forEach((function(e){var o=SS.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=gT(t).ls({range:s},(function(t,i,o){var s=t[0],a=t[2],c=_S(t[1]);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()}));i.push(a)})),rS.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=SS.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ZE(Ew);return gT(t).ls({range:s},(function(t,e,o){var s=t[0],c=t[2],u=_S(t[1]);s===n.userId&&r.st(u)?u.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Di(t,a)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(mT(t).get(e).next((function(t){if(null===t)throw vw();bw(t.userId===n.userId),r.push(QS(n.Kt,t))})))})),rS.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return hT(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),rS.forEach(r,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return rS.resolve();var r=IDBKeyRange.lowerBound(SS.prefixForUser(e.userId)),i=[];return gT(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=_S(t[1]);i.push(o)}else r.done()})).next((function(){bw(0===i.length)}))}))},t.prototype.ki=function(t,e){return pT(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return yT(t).get(this.userId).next((function(t){return t||new ES(e.userId,-1,"")}))},t}();function pT(t,e,n){var r=SS.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return gT(t).ls({range:o,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function mT(t){return US(t,OS.store)}function gT(t){return US(t,SS.store)}function yT(t){return US(t,ES.store)}var vT=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),bT=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new vT(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return zw.j(new Hw(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return _T(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return bw(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return _T(t).ls((function(s,a){var c=YS(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,o.push(r.Yi(t,c)))})).next((function(){return rS.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return _T(t).ls((function(t,n){var r=YS(n);e(r)}))},t.prototype.Ui=function(t){return wT(t).get(DS.key).next((function(t){return bw(null!==t),t}))},t.prototype.Qi=function(t,e){return wT(t).put(DS.key,e)},t.prototype.zi=function(t,e){return _T(t).put(JS(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=AC(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return _T(t).ls({range:r,index:AS.queryTargetsIndexName},(function(t,n,r){var o=YS(n);RC(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],o=CT(t);return e.forEach((function(e){var s=yS(e.path);i.push(o.put(new RS(n,s))),i.push(r.Ii.sr(t,n,e))})),rS.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=CT(t);return rS.forEach(e,(function(e){var o=yS(e.path);return rS.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=CT(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=CT(t),i=uO();return r.ls({range:n,hs:!0},(function(t,e,n){var r=_S(t[1]),o=new Qw(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=yS(e.path),r=IDBKeyRange.bound([n],[Sw(n)],!1,!0),i=0;return CT(t).ls({index:RS.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return _T(t).get(e).next((function(t){return t?YS(t):null}))},t}();function _T(t){return US(t,AS.store)}function wT(t){return US(t,DS.store)}function CT(t){return US(t,RS.store)}function ET(t,e){var n=t[1],r=e[1],i=Ew(t[0],e[0]);return 0===i?Ew(n,r):i}var OT=function(){function t(t){this.ar=t,this.buffer=new ZE(ET),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ET(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ST=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;pw("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Object(hw.b)(e,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return cS(e=n.sent())?(pw("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,cT(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),TT=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return rS.resolve(qw.U);var r=new OT(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(pw("LruGarbageCollector","Garbage collection skipped; disabled"),rS.resolve(sT)):this.br(t).next((function(r){return r<n.params.Hs?(pw("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),sT):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,a,c,u=this,l=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>u.params.Ys?(pw("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.Ys+" from "+e),r=u.params.Ys):r=e,o=Date.now(),u.yr(t,r)})).next((function(r){return n=r,s=Date.now(),u.Zi(t,n,e)})).next((function(e){return i=e,a=Date.now(),u.Vr(t,n)})).next((function(t){return c=Date.now(),fw()<=ly.a.DEBUG&&pw("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),rS.resolve({js:!0,Ws:r,Gs:i,zs:t})}))},t}(),IT=function(){function t(t,e){this.db=t,this._r=function(t,e){return new TT(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return kT(t,n)},t.prototype.rr=function(t,e,n){return kT(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return kT(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return yT(t)._s((function(r){return pT(t,r,e).next((function(t){return t&&(n=!0),rS.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,(function(s,a){if(a<=e){var c=n.Nr(t,s).next((function(e){if(!e)return o++,r.fi(t,s).next((function(){return r._i(s),CT(t).delete([0,yS(s.path)])}))}));i.push(c)}})).next((function(){return rS.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return kT(t,e)},t.prototype.Cr=function(t,e){var n,r=CT(t),i=qw.U;return r.ls({index:RS.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==qw.U&&e(new Qw(_S(n)),i),i=s,n=o):i=qw.U})).next((function(){i!==qw.U&&e(new Qw(_S(n)),i)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function kT(t,e){return CT(t).put(function(t,e){return new RS(0,yS(t.path),e)}(e,t.vs))}var xT=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return DT(t).put(PT(e),n)},t.prototype._i=function(t,e){var n=DT(t),r=PT(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return DT(t).get(PT(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return DT(t).get(PT(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:dT(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=rO();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=rO(),i=new YE(Qw.J);return this.qr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,dT(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return rS.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return DT(t).ls({range:r},(function(t,e,r){for(var s=Qw.Tt(t);o&&Qw.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=oO(),o=e.path.length+1,s={};if(n.isEqual(zw.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.rt(),u=KS(n);s.range=IDBKeyRange.lowerBound([c,u],!0),s.index=kS.collectionReadTimeIndex}return DT(t).ls(s,(function(t,n,s){if(t.length===o){var a=HS(r.Kt,n);e.path.st(a.key.path)?a instanceof SC&&cE(e,a)&&(i=i.Ht(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new AT(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return RT(t).get(xS.key).next((function(t){return bw(!!t),t}))},t.prototype.Lr=function(t,e){return RT(t).put(xS.key,e)},t.prototype.$r=function(t){if(t){var e=HS(this.Kt,t);return e instanceof TC&&e.version.isEqual(zw.min())?null:e}return null},t}(),AT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new uT((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(hw.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new ZE((function(t,e){return Ew(t.ot(),e.ot())}));return this.oi.forEach((function(o,s){var a=e.zr.get(o);if(s.li){var c=zS(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var u=dT(c);r+=u-a,n.push(e.Gr.ui(t,o,c))}else if(r-=a,e.Wr){var l=zS(e.Gr.Kt,new TC(o,zw.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),rS.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(lT);function RT(t){return US(t,xS.store)}function DT(t){return US(t,kS.store)}function PT(t){return t.path.rt()}var NT=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;bw(n<r&&n>=0&&r<=11);var o=new iS("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(CS.store)}(t),function(t){t.createObjectStore(ES.store,{keyPath:ES.keyPath}),t.createObjectStore(OS.store,{keyPath:OS.keyPath,autoIncrement:!0}).createIndex(OS.userMutationsIndex,OS.userMutationsKeyPath,{unique:!0}),t.createObjectStore(SS.store)}(t),jT(t),function(t){t.createObjectStore(kS.store)}(t));var s=rS.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(RS.store),t.deleteObjectStore(AS.store),t.deleteObjectStore(DS.store)}(t),jT(t)),s=s.next((function(){return function(t){var e=t.store(DS.store),n=new DS(0,0,zw.min().G(),0);return e.put(DS.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(OS.store).os().next((function(n){t.deleteObjectStore(OS.store),t.createObjectStore(OS.store,{keyPath:OS.keyPath,autoIncrement:!0}).createIndex(OS.userMutationsIndex,OS.userMutationsKeyPath,{unique:!0});var r=e.store(OS.store),i=n.map((function(t){return r.put(t)}));return rS.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(NS.store,{keyPath:NS.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Hr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(xS.store)}(t),i.Jr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Yr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Xr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(kS.store);e.createIndex(kS.readTimeIndex,kS.readTimeIndexPath,{unique:!1}),e.createIndex(kS.collectionReadTimeIndex,kS.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Zr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(jS.store,{keyPath:jS.keyPath})}(t),function(t){t.createObjectStore(MS.store,{keyPath:MS.keyPath})}(t)}))),s},t.prototype.Jr=function(t){var e=0;return t.store(kS.store).ls((function(t,n){e+=dT(n)})).next((function(){var n=new xS(e);return t.store(xS.store).put(xS.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(ES.store),r=t.store(OS.store);return n.os().next((function(n){return rS.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(OS.userMutationsIndex,i).next((function(r){return rS.forEach(r,(function(r){bw(r.userId===n.userId);var i=QS(e.Kt,r);return hT(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(RS.store),n=t.store(kS.store);return t.store(DS.store).get(DS.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new Gw(n),s=function(t){return[0,yS(t)]}(o);r.push(e.get(s).next((function(n){return n?rS.resolve():function(n){return e.put(new RS(0,yS(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return rS.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(PS.store,{keyPath:PS.keyPath});var n=e.store(PS.store),r=new rT,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:yS(i)})}};return e.store(kS.store).ls({hs:!0},(function(t,e){var n=new Gw(t);return i(n.Z())})).next((function(){return e.store(SS.store).ls({hs:!0},(function(t,e){var n=_S(t[1]);return i(n.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(AS.store);return n.ls((function(t,r){var i=YS(r),o=JS(e.Kt,i);return n.put(o)}))},t}();function jT(t){t.createObjectStore(RS.store,{keyPath:RS.keyPath}).createIndex(RS.documentTargetsIndex,RS.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(AS.store,{keyPath:AS.keyPath}).createIndex(AS.queryTargetsIndexName,AS.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(DS.store)}var MT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",LT=function(){function t(e,n,r,i,o,s,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=a,this.no=u,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new kw(Iw.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new IT(this,i),this.lo=n+"main",this.Kt=new qS(c),this._o=new oS(this.lo,11,new NT(this.Kt)),this.fo=new bT(this.Ii,this.Kt),this.Ti=new iT,this.wo=function(t,e){return new xT(t,e)}(this.Kt,this.Ti),this.Eo=new ZS,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&mw("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new kw(Iw.FAILED_PRECONDITION,MT);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new qw(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(hw.b)(e,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Object(hw.b)(e,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Object(hw.b)(e,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return UT(e).put(new NS(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(cS(e))return pw("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return pw("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return FT(t).get(CS.key).next((function(t){return rS.resolve(e.Co(t))}))},t.prototype.xo=function(t){return UT(t).delete(this.clientId)},t.prototype.No=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=US(t,NS.store);return e.os().next((function(t){var n=r.Fo(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return rS.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?rS.resolve(!0):FT(t).get(CS.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new kw(Iw.FAILED_PRECONDITION,MT);return!1}}return!(!e.networkEnabled||!e.inForeground)||UT(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&pw("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t=this;return Object(hw.d)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[CS.store,NS.store],(function(e){var n=new FS(e,qw.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return UT(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return fT.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return pw("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",LS,(function(o){return r=new FS(o,i.io?i.io.next():qw.U),"readwrite-primary"===e?i.po(r).next((function(t){return!!t||i.vo(r)})).next((function(e){if(!e)throw mw("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo((function(){return i.ho(!1)})),new kw(Iw.FAILED_PRECONDITION,mS);return n(r)})).next((function(t){return i.Do(r).next((function(){return t}))})):i.Go(r).next((function(){return n(r)}))})).then((function(t){return r.ps(),t}))},t.prototype.Go=function(t){var e=this;return FT(t).get(CS.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new kw(Iw.FAILED_PRECONDITION,MT)}))},t.prototype.Do=function(t){var e=new CS(this.clientId,this.allowTabSynchronization,Date.now());return FT(t).put(CS.key,e)},t.jn=function(){return oS.jn()},t.prototype.So=function(t){var e=this,n=FT(t);return n.get(CS.key).next((function(t){return e.Co(t)?(pw("IndexedDbPersistence","Releasing primary lease."),n.delete(CS.key)):rS.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(mw("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return pw("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return mw("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){mw("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function FT(t){return US(t,CS.store)}function UT(t){return US(t,NS.store)}function VT(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var BT=function(t,e){this.progress=t,this.zo=e},qT=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=rO();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),o=nO();return i.forEach((function(t,e){e||(e=new TC(t,zw.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return Qw.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):eE(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Qw(e)).next((function(t){var e=oO();return t instanceof SC&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=oO();return this.Ti.Qs(t,i).next((function(s){return rS.forEach(s,(function(s){var a=function(t,e){return new $C(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next((function(n){return r=n,o.Ho.Ci(t,e)})).next((function(e){return o.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],u=c.key,l=PE(c,r.get(u),0,o.Ss);r=l instanceof SC?r.Ht(u,l):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){cE(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=uO(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var c=a[s];c instanceof FE&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof SC&&(u=u.Ht(t,e))})),u}))},t}(),HT=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=uO(),i=uO(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),zT=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(zw.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(JC(e)||XC(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(fw()<=ly.a.DEBUG&&pw("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),aE(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new ZE(uE(t));return e.forEach((function(e,r){r instanceof SC&&cE(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return fw()<=ly.a.DEBUG&&pw("QueryEngine","Using full collection scan to execute query:",aE(e)),this.uc.jr(t,e,zw.min())},t}(),KT=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new YE(Ew),this.wc=new uT((function(t){return AC(t)}),RC),this.Ec=zw.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new qT(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function GT(t,e,n,r){return new KT(t,e,n,r)}function WT(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(hw.d)(this,(function(s){switch(s.label){case 0:return n=_w(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.bi(t).next((function(s){return o=s,r=n.persistence.Ko(e),i=new qT(n.Tc,r,n.persistence.jo()),r.bi(t)})).next((function(e){for(var n=[],r=[],s=uO(),a=0,c=o;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function $T(t,e){var n=_w(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=rS.resolve();return o.forEach((function(t){s=s.next((function(){return r.fi(e,t)})).next((function(e){var o=e,s=n.Fs.get(t);bw(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)}))})),s.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function QT(t){var e=_w(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function YT(t,e){var n=_w(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var s=[];e.Fe.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.fo.ir(t,e.Ke,o).next((function(){return n.fo.nr(t,e.Ue,o)})));var c=e.resumeToken;if(c.o()>0){var u=a.$t(c,r).Lt(t.vs);i=i.Ht(o,u),function(t,e,n){return bw(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,u,e)&&s.push(n.fo.Ji(t,u))}}}));var a=nO();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))})),s.push(JT(t,o,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(zw.min())){var c=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,r)}));s.push(c)}return rS.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function JT(t,e,n,r,i){var o=uO();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=nO();return n.forEach((function(n,s){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;s instanceof TC&&s.version.isEqual(zw.min())?(e._i(n,c),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.ui(s,c),o=o.Ht(n,s)):pw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function XT(t,e){var n=_w(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function ZT(t,e){var n=_w(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?rS.resolve(r=i):n.fo.qi(t).next((function(i){return r=new hE(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function tI(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:r=_w(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!cS(s=a.sent()))throw s;return pw("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function eI(t,e,n){var r=_w(t),i=zw.min(),o=uO();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=_w(t),i=r.wc.get(n);return void 0!==i?rS.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,rE(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:zw.min(),n?o:uO())})).next((function(t){return{documents:t,Pc:o}}))}))}function nI(t,e){var n=_w(t),r=_w(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function rI(t){var e=_w(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=_w(t),i=nO(),o=KS(n),s=DT(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:kS.readTimeIndex,range:a},(function(t,e){var n=HS(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{zo:i,readTime:GS(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo;return e.Ec=t.readTime,n}))}function iI(t){return Object(hw.b)(this,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){return[2,(e=_w(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=DT(t),n=zw.min();return e.ls({index:kS.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=GS(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function oI(t,e,n,r){return Object(hw.b)(this,void 0,void 0,(function(){var i,o,s,a,c,u,l,h,d,f;return Object(hw.d)(this,(function(p){switch(p.label){case 0:for(i=_w(t),o=uO(),s=nO(),a=aO(),c=0,u=n;c<u.length;c++)h=e.yc((l=u[c]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return d=i.Tc.Or({Wr:!0}),[4,ZT(i,function(t){return rE(YC(Gw.ct("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return JT(t,d,s,zw.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.fo.Xi(t,f.targetId).next((function(){return i.fo.nr(t,o,f.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function sI(t,e,n){return void 0===n&&(n=uO()),Object(hw.b)(this,void 0,void 0,(function(){var r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return[4,ZT(t,rE(XS(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=_w(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=AO(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(Tw.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var aI=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return rS.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:AO(n.createTime)}),rS.resolve()},t.prototype.$s=function(t,e){return rS.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:XS(t.bundledQuery),readTime:AO(t.readTime)}}(e)),rS.resolve()},t}(),cI=function(){function t(){this.Sc=new ZE(uI.Dc),this.Cc=new ZE(uI.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new uI(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new uI(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Qw(new Gw([])),r=new uI(n,t),i=new uI(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Oc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Qw(new Gw([])),n=new uI(e,t),r=new uI(e,t+1),i=uO();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new uI(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),uI=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Qw.J(t.key,e.key)||Ew(t.$c,e.$c)},t.xc=function(t,e){return Ew(t.$c,e.$c)||Qw.J(t.key,e.key)},t}(),lI=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new ZE(uI.Dc)}return t.prototype.Ri=function(t){return rS.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new VS(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var c=a[s];this.qc=this.qc.add(new uI(c.key,i)),this.Ti.Us(t,c.key.path.Z())}return rS.resolve(o)},t.prototype.yi=function(t,e){return rS.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return rS.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return rS.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return rS.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new uI(e,0),i=new uI(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),rS.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new ZE(Ew);return e.forEach((function(t){var e=new uI(t,0),i=new uI(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),rS.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Qw.Et(i)||(i=i.child(""));var o=new uI(new Qw(i),0),s=new ZE(Ew);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),rS.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;bw(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return rS.forEach(e.mutations,(function(i){var o=new uI(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new uI(e,0),r=this.qc.Pe(n);return rS.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return rS.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),hI=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new YE(Qw.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return rS.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=rO();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),rS.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=oO(),i=new Qw(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,c=a.li,u=a.readTime;if(!e.path.st(s.key.path))break;u.u(n)<=0||c instanceof SC&&cE(e,c)&&(r=r.Ht(c.key,c))}return rS.resolve(r)},t.prototype.Gc=function(t,e){return rS.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new dI(this)},t.prototype.Mr=function(t){return rS.resolve(this.size)},t}(),dI=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(hw.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),rS.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(lT),fI=function(){function t(t){this.persistence=t,this.zc=new uT((function(t){return AC(t)}),RC),this.lastRemoteSnapshotVersion=zw.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new cI,this.targetCount=0,this.Yc=vT.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),rS.resolve()},t.prototype.Ki=function(t){return rS.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return rS.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),rS.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),rS.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new vT(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,rS.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),rS.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,rS.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,a.targetId)),i++)})),rS.$n(o).next((function(){return i}))},t.prototype.tr=function(t){return rS.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return rS.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),rS.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),rS.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),rS.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return rS.resolve(n)},t.prototype.ki=function(t,e){return rS.resolve(this.Jc.ki(e))},t}(),pI=function(){function t(t,e){var n=this;this.Xc={},this.io=new qw(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new fI(this),this.Ti=new nT,this.wo=function(t,e){return new hI(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new qS(e),this.Eo=new aI(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new lI(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;pw("MemoryPersistence","Starting transaction:",t);var i=new mI(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return rS.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),mI=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(hw.c)(e,t),e}(gS),gI=function(){function t(t){this.persistence=t,this.sa=new cI,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw vw()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),rS.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),rS.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),rS.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return rS.forEach(this.oa,(function(r){var i=Qw.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return rS.Bn([function(){return rS.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function yI(t,e){return"firestore_clients_"+t+"_"+e}function vI(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function bI(t,e){return"firestore_targets_"+t+"_"+e}var _I=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new kw(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(mw("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wI=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new kw(r.error.code,r.error.message)),i?new t(e,r.state,o):(mw("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),CI=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=hO(),s=0;i&&s<r.activeTargetIds.length;++s)i=cC(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(mw("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),EI=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(mw("SharedClientState","Failed to parse online state: "+e),null)},t}(),OI=function(){function t(){this.activeTargetIds=hO()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),SI=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new YE(Ew),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=yI(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new OI),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,c,u,l=this;return Object(hw.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(yI(this.persistenceKey,r)))&&(o=CI.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),c=0,u=this.Ia;c<u.length;c++)this.Ea(u[c]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(bI(this.persistenceKey,t));if(n){var r=wI.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(bI(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return pw("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){pw("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){pw("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(pw("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void mw("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Object(hw.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(hw.d)(this,(function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=qw.U;if(null!=t)try{var n=JSON.parse(t);bw("number"==typeof n),e=n}catch(t){mw("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==qw.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new _I(this.currentUser,t,e,n),i=vI(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=vI(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=bI(this.persistenceKey,t),i=new wI(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return CI.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return _I.aa(new Mw(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return wI.aa(r,e)},t.prototype.ba=function(t){return EI.aa(t)},t.prototype.Xa=function(t){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(pw("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fa.iu(s,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=hO();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),TI=function(){function t(){this.ru=new OI,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new OI,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),II=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),kI=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){pw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){pw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),xI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},AI=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),RI=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(hw.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new lw;s.listenOnce(aw.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case sw.NO_ERROR:var e=s.getResponseJson();pw("Connection","XHR received:",JSON.stringify(e)),i(e);break;case sw.TIMEOUT:pw("Connection",'RPC "'+t+'" timed out'),o(new kw(Iw.DEADLINE_EXCEEDED,"Request time out"));break;case sw.HTTP_ERROR:var n=s.getStatus();if(pw("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Iw).indexOf(e)>=0?e:Iw.UNKNOWN}(r.status);o(new kw(a,r.message))}else o(new kw(Iw.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new kw(Iw.UNAVAILABLE,"Connection failed."));break;default:vw()}}finally{pw("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ew,i=ib(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(hy.x)()||Object(hy.A)()||Object(hy.t)()||Object(hy.v)()||Object(hy.B)()||Object(hy.s)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");pw("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),c=!1,u=!1,l=new AI({du:function(t){u?pw("Connection","Not sending because WebChannel is closed:",t):(c||(pw("Connection","Opening WebChannel transport."),a.open(),c=!0),pw("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,uw.EventType.OPEN,(function(){u||pw("Connection","WebChannel transport opened.")})),h(a,uw.EventType.CLOSE,(function(){u||(u=!0,pw("Connection","WebChannel transport closed"),l.Pu())})),h(a,uw.EventType.ERROR,(function(t){u||(u=!0,gw("Connection","WebChannel transport errored:",t),l.Pu(new kw(Iw.UNAVAILABLE,"The operation could not be completed")))})),h(a,uw.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];bw(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){pw("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=HE[t];if(void 0!==e)return QE(e)}(i),s=r.message;void 0===o&&(o=Iw.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),u=!0,l.Pu(new kw(o,s)),a.close()}else pw("Connection","WebChannel received:",n),l.yu(n)}})),h(i,cw.STAT_EVENT,(function(t){10===t.stat?pw("Connection","Detected buffering proxy"):11===t.stat&&pw("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);pw("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return pw("RestConnection","Received: ",t),t}),(function(e){throw gw("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+xI[t]},t}());function DI(){return"undefined"!=typeof window?window:null}function PI(){return"undefined"!=typeof document?document:null}function NI(t){return new TO(t,!0)}var jI=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&pw("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),MI=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new jI(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===Iw.RESOURCE_EXHAUSTED?(mw(e.toString()),mw("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Iw.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new kw(Iw.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(hw.b)(t,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return pw("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(pw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),LI=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(hw.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:vw()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(bw(void 0===e||"string"==typeof e),Tw.fromBase64String(e||"")):(bw(void 0===e||e instanceof Uint8Array),Tw.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Iw.UNKNOWN:QE(t.code);return new kw(e,t.message||"")}(a);n=new bO(r,i,o,s||null)}else if("documentChange"in e){i=NO(t,(r=e.documentChange).document.name),o=AO(r.document.updateTime);var a=new wC({mapValue:{fields:r.document.fields}}),c=(s=new SC(i,o,a,{}),r.targetIds||[]);n=new yO(c,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=NO(t,(r=e.documentDelete).document),o=r.readTime?AO(r.readTime):zw.min(),a=new TC(i,o),n=new yO([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=NO(t,(r=e.documentRemove).document),n=new yO([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return vw();var u=e.filter;i=new WE(r=u.count||0),n=new vO(o=u.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return zw.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?zw.min():e.readTime?AO(e.readTime):zw.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=LO(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=DC(r)?{documents:HO(t,r)}:{query:zO(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=kO(t,e.resumeToken):e.Mt.u(zw.min())>0&&(n.readTime=IO(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vw()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=LO(this.Kt),e.removeTarget=t,this.eh(e)},e}(MI),FI=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(hw.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(bw(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(bw(void 0!==e),t.map((function(t){return function(t,e){var n=AO(t.updateTime?t.updateTime:e);n.isEqual(zw.min())&&(n=AO(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new kE(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=AO(t.commitTime);return this.listener.wh(n,e)}return bw(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=LO(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return BO(e.Kt,t)}))};this.eh(n)},e}(MI),UI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(hw.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new kw(Iw.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Iw.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Iw.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),VI=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(mw(e),this.Ph=!1):pw("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),BI=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(hw.b)(o,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){switch(t.label){case 0:return YI(this)?(pw("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return(e=_w(t)).Oh.add(4),[4,HI(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,qI(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new VI(n,r)};function qI(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:if(!YI(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function HI(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function zI(t,e){var n=_w(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),QI(n)?$I(n):hk(n).Ju()&&GI(n,e))}function KI(t,e){var n=_w(t),r=hk(n);n.Nh.delete(e),r.Ju()&&WI(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():YI(n)&&n.Mh.set("Unknown"))}function GI(t,e){t.Lh.cn(e.targetId),hk(t).hh(e)}function WI(t,e){t.Lh.cn(e),hk(t).lh(e)}function $I(t){t.Lh=new wO({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),hk(t).start(),t.Mh.yh()}function QI(t){return YI(t)&&!hk(t).Hu()&&t.Nh.size>0}function YI(t){return 0===_w(t).Oh.size}function JI(t){t.Lh=void 0}function XI(t){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){return t.Nh.forEach((function(e,n){GI(t,e)})),[2]}))}))}function ZI(t,e){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(n){return JI(t),QI(t)?(t.Mh.ph(e),$I(t)):t.Mh.set("Unknown"),[2]}))}))}function tk(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o;return Object(hw.d)(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof bO&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(hw.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),pw("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ek(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof yO?t.Lh.wn(e):e instanceof vO?t.Lh.yn(e):t.Lh.In(e),n.isEqual(zw.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,QT(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Tw.h,n.Mt)),WI(t,e);var r=new hE(n.target,e,1,n.sequenceNumber);GI(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return pw("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ek(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function ek(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r=this;return Object(hw.d)(this,(function(i){switch(i.label){case 0:if(!cS(e))throw e;return t.Oh.add(1),[4,HI(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return QT(t.Sh)}),t.fs.bo((function(){return Object(hw.b)(r,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return pw("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,qI(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function nk(t,e){return e().catch((function(n){return ek(t,n,e)}))}function rk(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(hw.d)(this,(function(s){switch(s.label){case 0:e=_w(t),n=dk(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return YI(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,XT(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=dk(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,ek(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return ik(e)&&ok(e),[2]}}))}))}function ik(t){return YI(t)&&!dk(t).Hu()&&t.xh.length>0}function ok(t){dk(t).start()}function sk(t){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){return dk(t).Th(),[2]}))}))}function ak(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r;return Object(hw.d)(this,(function(i){for(e=dk(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function ck(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=BS.from(r,e,n),[4,nk(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,rk(t)];case 2:return o.sent(),[2]}}))}))}function uk(t,e){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(n){switch(n.label){case 0:return e&&dk(t).fh?[4,function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return $E(r=e.code)&&r!==Iw.ABORTED?(n=t.xh.shift(),dk(t).Xu(),[4,nk(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,rk(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ik(t)&&ok(t),[2]}}))}))}function lk(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return n=_w(t),e?(n.Oh.delete(2),[4,qI(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,HI(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function hk(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=_w(t);return r.mh(),new LI(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:XI.bind(null,t),Iu:ZI.bind(null,t),uh:tk.bind(null,t)}),t.Fh.push((function(n){return Object(hw.b)(e,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),QI(t)?$I(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),JI(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function dk(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=_w(t);return r.mh(),new FI(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:sk.bind(null,t),Iu:uk.bind(null,t),Eh:ak.bind(null,t),wh:ck.bind(null,t)}),t.Fh.push((function(n){return Object(hw.b)(e,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,rk(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(pw("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var fk=function(){this.jh=void 0,this.listeners=[]},pk=function(){this.queries=new uT((function(t){return sE(t)}),oE),this.onlineState="Unknown",this.Wh=new Set};function mk(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return Object(hw.d)(this,(function(u){switch(u.label){case 0:if(n=_w(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new fk),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.jh=u.sent(),[3,4];case 3:return a=u.sent(),c=pS(a,"Initialization of query '"+aE(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&bk(n),[2]}}))}))}function gk(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(hw.d)(this,(function(a){return n=_w(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function yk(t,e){for(var n=_w(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hh(s)&&(r=!0);a.jh=s}}r&&bk(n)}function vk(t,e,n){var r=_w(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function bk(t){t.Wh.forEach((function(t){t.next()}))}var _k=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new pO(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=pO.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),wk=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Ck=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return NO(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?VO(this.Kt,t.document,!1):new TC(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return AO(t)},t}(),Ek=function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=Ok(t)}return t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Ck(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,c=o.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||uO()).add(s);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return[4,oI(this.Sh,new Ck(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,sI(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new BT(Object.assign({},this.progress),t))]}}))}))},t}();function Ok(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Sk=function(t){this.key=t},Tk=function(t){this.key=t},Ik=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=uO(),this.Ce=uO(),this.ll=uE(t),this._l=new dO(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new fO,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,c=JC(this.query)&&i.size===this.query.limit?i.last():null,u=XC(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof SC?e:null;h&&(h=cE(n.query,h)?h:null);var d=!!l&&n.Ce.has(l.key),f=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.ll(h,c)>0||u&&n.ll(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),JC(this.query)||XC(this.query))for(;s.size>this.query.limit;){var l=JC(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vw()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,c=a!==this.ul;return this.ul=a,0!==o.length||c?{snapshot:new pO(this.query,t._l,i,o,t.Ce,0===a,c,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new fO,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=uO(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Tk(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Sk(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=uO();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return pO.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),kk=function(t,e,n){this.query=t,this.targetId=e,this.view=n},xk=function(t){this.key=t,this.yl=!1},Ak=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new uT((function(t){return sE(t)}),oE),this.Dl=new Map,this.Cl=[],this.xl=new YE(Qw.J),this.Nl=new Map,this.Ol=new cI,this.Fl={},this.kl=new Map,this.Ml=vT.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Rk(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:return n=sx(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,ZT(n.Sh,rE(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,Dk(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&zI(n.gl,o),a.label=4;case 4:return[2,r]}}))}))}function Dk(t,e,n,r){return Object(hw.b)(this,void 0,void 0,(function(){var i,o,s,a,c,u;return Object(hw.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(hw.b)(this,void 0,void 0,(function(){var i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,eI(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(Kk(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,eI(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Ik(e,i.Pc),s=o.dl(i.documents),a=gO.Be(n,r&&"Offline"!==t.onlineState),c=o.Ei(s,t.$l,a),Kk(t,n,c.ml),u=new kk(e,n,o),[2,(t.Sl.set(e,u),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),c.snapshot)]}}))}))}function Pk(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return n=_w(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!oE(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,tI(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),KI(n.gl,r.targetId),Hk(n,r.targetId)})).catch(cT)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Hk(n,r.targetId),[4,tI(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Nk(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:r=ax(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=_w(t),i=Hw.now(),o=e.reduce((function(t,e){return t.add(e.key)}),uO());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var u=c[a],l=NE(u,n.get(u.key));null!=l&&s.push(new FE(u.key,l,EC(l.proto.mapValue),xE.exists(!0)))}return r.Ho.Pi(t,i,s,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new YE(Ew)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,$k(r,i.oi)];case 3:return a.sent(),[4,rk(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=pS(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function jk(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:n=_w(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,YT(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.Nl.get(e);r&&(bw(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?bw(r.yl):t.Ke.size>0&&(bw(r.yl),r.yl=!1))})),[4,$k(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,cT(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Mk(t,e,n){var r=_w(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=_w(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&bk(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Lk(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o,s,a,c;return Object(hw.d)(this,(function(u){switch(u.label){case 0:return(r=_w(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new YE(Qw.J)).Ht(o,new TC(o,zw.min())),a=uO().add(o),c=new mO(zw.min(),new Map,new ZE(Ew),s,a),[4,jk(r,c)]):[3,2];case 1:return u.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Wk(r),[3,4];case 2:return[4,tI(r.Sh,e,!1).then((function(){return Hk(r,e,n)})).catch(cT)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function Fk(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:n=_w(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,$T(n.Sh,e)];case 2:return i=o.sent(),qk(n,r,null),Bk(n,r),n.pl.Oa(r,"acknowledged"),[4,$k(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,cT(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Uk(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:r=_w(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=_w(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return bw(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),qk(r,e,n),Bk(r,e),r.pl.Oa(e,"rejected",n),[4,$k(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,cT(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Vk(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:YI((n=_w(t)).gl)||pw("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=_w(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=pS(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Bk(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function qk(t,e,n){var r=_w(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function Hk(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||zk(t,e)}))}function zk(t,e){var n=t.xl.get(e);null!==n&&(KI(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Wk(t))}function Kk(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Sk?(t.Ol.sr(o.key,e),Gk(t,o)):o instanceof Tk?(pw("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||zk(t,o.key)):vw()}}function Gk(t,e){var n=e.key;t.xl.get(n)||(pw("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Wk(t))}function Wk(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new xk(e)),t.xl=t.xl.Ht(e,n),zI(t.gl,new hE(rE(YC(e.path)),n,2,qw.U))}}function $k(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:return r=_w(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){s.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=HT.cc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u;return Object(hw.d)(this,(function(l){switch(l.label){case 0:n=_w(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return rS.forEach(e,(function(e){return rS.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return rS.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!cS(r=l.sent()))throw r;return pw("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(c=n.dc.get(a),u=c.Bt(c.Mt),n.dc=n.dc.Ht(a,u));return[2]}}))}))}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Qk(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return(n=_w(t)).currentUser.isEqual(e)?[3,3]:(pw("SyncEngine","User change. New user:",e.R()),[4,WT(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new kw(Iw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,$k(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Yk(t,e){var n=_w(t),r=n.Nl.get(e);if(r&&r.yl)return uO().add(r.key);var i=uO(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var c=n.Sl.get(a[s]);i=i.ye(c.view.fl)}return i}function Jk(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return[4,eI((n=_w(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Kk(n,e.targetId,i.ml),i)]}}))}))}function Xk(t){return Object(hw.b)(this,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){return[2,rI((e=_w(t)).Sh).then((function(t){return $k(e,t)}))]}))}))}function Zk(t,e,n,r){return Object(hw.b)(this,void 0,void 0,(function(){var i,o;return Object(hw.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=_w(t),r=_w(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):rS.resolve(null)}))}))}((i=_w(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,rk(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(qk(i,e,r||null),Bk(i,e),function(t,e){_w(_w(t).Ho).Ni(e)}(i.Sh,e)):vw(),s.label=4;case 4:return[4,$k(i,o)];case 5:return s.sent(),[3,7];case 6:pw("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function tx(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return Object(hw.d)(this,(function(u){switch(u.label){case 0:return sx(n=_w(t)),ax(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,ex(n,r.rt())]);case 1:return i=u.sent(),n.Ll=!0,[4,lk(n.gl,!0)];case 2:for(u.sent(),o=0,s=i;o<s.length;o++)zI(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],c=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?a.push(e):c=c.then((function(){return Hk(n,e),tI(n.Sh,e,!0)})),KI(n.gl,e)})),[4,c]);case 4:return u.sent(),[4,ex(n,a)];case 5:return u.sent(),function(t){var e=_w(t);e.Nl.forEach((function(t,n){KI(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new YE(Qw.J)}(n),n.Ll=!1,[4,lk(n.gl,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function ex(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,l,h,d,f,p;return Object(hw.d)(this,(function(m){switch(m.label){case 0:n=_w(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(c=void 0,(u=n.Dl.get(a=s[o]))&&0!==u.length?[4,ZT(n.Sh,rE(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Sl.get(h[l]),[4,Jk(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,nI(n.Sh,a)];case 8:return p=m.sent(),[4,ZT(n.Sh,p)];case 9:return c=m.sent(),[4,Dk(n,nx(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function nx(t){return QC(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function rx(t){var e=_w(t);return _w(_w(e.Sh).persistence).Qo()}function ix(t,e,n,r){return Object(hw.b)(this,void 0,void 0,(function(){var i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:return(i=_w(t)).Ll?(pw("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rI(i.Sh)];case 3:return o=a.sent(),s=mO.$e(e,"current"===n),[4,$k(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,tI(i.Sh,e,!0)];case 6:return a.sent(),Hk(i,e,r),[3,8];case 7:vw(),a.label=8;case 8:return[2]}}))}))}function ox(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,h;return Object(hw.d)(this,(function(d){switch(d.label){case 0:if(!(r=sx(t)).Ll)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(pw("SyncEngine","Adding an already active target "+s),[3,5]):[4,nI(r.Sh,s)]:[3,6];case 2:return a=d.sent(),[4,ZT(r.Sh,a)];case 3:return c=d.sent(),[4,Dk(r,nx(a),c.targetId,!1)];case 4:d.sent(),zI(r.gl,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,tI(r.Sh,t,!1).then((function(){KI(r.gl,t),Hk(r,t)})).catch(cT)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function sx(t){var e=_w(t);return e.gl.Ch.Bh=jk.bind(null,e),e.gl.Ch.Sn=Yk.bind(null,e),e.gl.Ch.$h=Lk.bind(null,e),e.vl.uh=yk.bind(null,e.Vl),e.vl.ql=vk.bind(null,e.Vl),e}function ax(t){var e=_w(t);return e.gl.Ch.qh=Fk.bind(null,e),e.gl.Ch.Uh=Uk.bind(null,e),e}function cx(t,e,n){var r=_w(t);(function(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o,s,a,c;return Object(hw.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=u.sent(),[4,function(t,e){var n=_w(t),r=AO(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Eo.Ms(t,e.id)})).then((function(t){return!!t&&t.createTime.u(r)>=0}))}(t.Sh,r)];case 2:return u.sent()?[4,e.close()]:[3,4];case 3:return[2,(u.sent(),void n.Ul(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n.Ql(Ok(r)),i=new Ek(r,t.Sh,e.Kt),[4,e.Kl()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.ol(o)]:[3,10];case 7:return(s=u.sent())&&n.Ql(s),[4,e.Kl()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=u.sent(),[4,$k(t,a.zo,void 0)];case 12:return u.sent(),[4,function(t,e){var n=_w(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Eo.Ls(t,e)}))}(t.Sh,r)];case 13:return u.sent(),n.Ul(a.progress),[3,15];case 14:return gw("SyncEngine","Loading bundle failed with "+(c=u.sent())),n.jl(c),[3,15];case 15:return[2]}}))}))})(r,e,n).then((function(){r.pl.Wa()}))}var ux=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return this.Kt=NI(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return GT(this.persistence,new zT,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new pI(gI.ra,this.Kt)},t.prototype.Wl=function(t){return new TI},t.prototype.terminate=function(){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),lx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(hw.c)(e,t),e.prototype.initialize=function(e){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,iI(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,ax(this.Xl.fa)];case 4:return n.sent(),[4,rk(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return GT(this.persistence,new zT,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new ST(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=VT(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?aT.Xs(this.cacheSizeBytes):aT.ei;return new LT(this.synchronizeTabs,e,t.clientId,n,t.fs,DI(),PI(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new TI},e}(ux),hx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(hw.c)(e,t),e.prototype.initialize=function(e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r=this;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof SI?(this.pl.fa={nu:Zk.bind(null,n),su:ix.bind(null,n),iu:ox.bind(null,n),Qo:rx.bind(null,n),eu:Xk.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return Object(hw.b)(r,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return[4,tx(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=DI();if(!SI.jn(e))throw new kw(Iw.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=VT(t.gu.T,t.gu.persistenceKey);return new SI(e,t.fs,n,t.clientId,t.Yl)},e}(lx),dx=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n=this;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Mk(n.fa,t,1)},this.gl.Ch.s_=Qk.bind(null,this.fa),[4,lk(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new pk},t.prototype.Zl=function(t){var e=NI(t.gu.T),n=new RI(t.gu);return function(t,e,n){return new UI(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Mk(s.fa,t,0)},o=kI.jn()?new kI:new II,new BI(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Ak(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return e=_w(t),pw("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,HI(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}();function fx(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(hw.b)(this,void 0,void 0,(function(){var r;return Object(hw.d)(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){return[2]}))}))},releaseLock:function(){}}}var px=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),mx=function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new nS,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new wk(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),gx=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new kw(Iw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new $w(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}(),yx=function(t){this._methodName=t};function vx(t,e,n){if(!n)throw new kw(Iw.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function bx(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kw(Iw.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function _x(t,e,n,r){if(!0===e&&!0===r)throw new kw(Iw.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function wx(t){if(!Qw.Et(t))throw new kw(Iw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Cx(t){if(Qw.Et(t))throw new kw(Iw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ex(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":vw()}function Ox(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new kw(Iw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ex(t);throw new kw(Iw.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Sx(t,e){if(e<=0)throw new kw(Iw.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Tx=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new kw(Iw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new kw(Iw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,_x("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ix=new Map,kx=function(){function t(t,e){this.w_="(lite)",this.E_=new Tx({}),this.T_=!1,t instanceof jw?(this.I_=t,this.m_=new Fw):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new kw(Iw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jw(t.options.projectId)}(t),this.m_=new Uw(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new kw(Iw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new kw(Iw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Tx(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Fw;switch(t.type){case"gapi":var e=t.client;return bw(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Bw(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new kw(Iw.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Ix.get(this))&&(pw("ComponentProvider","Removing Datastore"),Ix.delete(this),t.terminate()),Promise.resolve();var t},t}(),xx=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Rx(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Ax=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Rx=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,YC(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(hw.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new xx(this.firestore,null,new Qw(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Ax);function Dx(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Aw&&(t=t._),vx("collection","path",e),t instanceof kx)return Cx(n=Gw.ct.apply(Gw,Object(hw.g)([e],r))),new Rx(t,null,n);if(!(t instanceof xx||t instanceof Rx))throw new kw(Iw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Cx(n=Gw.ct.apply(Gw,Object(hw.g)([t.path],r)).child(Gw.ct(e))),new Rx(t.firestore,null,n)}function Px(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Aw&&(t=t._),1===arguments.length&&(e=Cw.t()),vx("doc","path",e),t instanceof kx)return wx(n=Gw.ct.apply(Gw,Object(hw.g)([e],r))),new xx(t,null,new Qw(n));if(!(t instanceof xx||t instanceof Rx))throw new kw(Iw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wx(n=t.D_.child(Gw.ct.apply(Gw,Object(hw.g)([e],r)))),new xx(t.firestore,t instanceof Rx?t.v_:null,new Qw(n))}function Nx(t,e){return t instanceof Aw&&(t=t._),e instanceof Aw&&(e=e._),(t instanceof xx||t instanceof Rx)&&(e instanceof xx||e instanceof Rx)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function jx(t,e){return t instanceof Aw&&(t=t._),e instanceof Aw&&(e=e._),t instanceof Ax&&e instanceof Ax&&t.firestore===e.firestore&&oE(t.C_,e.C_)&&t.v_===e.v_}var Mx=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new kw(Iw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new kw(Iw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Ew(this.x_,t.x_)||Ew(this.N_,t.N_)},t}(),Lx=/^__.*__$/,Fx=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new FE(t,this.data,this.zt,e,this.fieldTransforms):new LE(t,this.data,e,this.fieldTransforms)},t}(),Ux=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new FE(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Vx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vw()}}var Bx=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return aA(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Vx(this.k_)&&Lx.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),qx=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||NI(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Bx({k_:t,methodName:e,W_:n,path:$w.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Hx(t){var e=t.p_(),n=NI(t.I_);return new qx(t.I_,!!e.ignoreUndefinedProperties,n)}function zx(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);rA("Data must be an object, but it was:",s,r);var a,c,u=eA(r,s);if(o.merge)a=new Zw(s.zt),c=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=iA(e,d[h],n);if(!s.contains(f))throw new kw(Iw.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");cA(l,f)||l.push(f)}a=new Zw(l),c=s.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,c=s.fieldTransforms;return new Fx(new wC(u),a,c)}var Kx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(yx);function Gx(t,e,n){return new Bx({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Wx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e.prototype.z_=function(t){return new IE(t.path,new bE)},e.prototype.isEqual=function(t){return t instanceof e},e}(yx),$x=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(hw.c)(e,t),e.prototype.z_=function(t){var e=Gx(this,t,!0),n=this.H_.map((function(t){return tA(t,e)})),r=new _E(n);return new IE(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(yx),Qx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(hw.c)(e,t),e.prototype.z_=function(t){var e=Gx(this,t,!0),n=this.H_.map((function(t){return tA(t,e)})),r=new CE(n);return new IE(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(yx),Yx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(hw.c)(e,t),e.prototype.z_=function(t){var e=new OE(t.Kt,pE(t.Kt,this.J_));return new IE(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(yx);function Jx(t,e,n,r){var i=t.G_(1,e,n);rA("Data must be an object, but it was:",i,r);var o=[],s=new CC;Jw(r,(function(t,r){var a=sA(e,t,n);r instanceof Aw&&(r=r._);var c=i.U_(a);if(r instanceof Kx)o.push(a);else{var u=tA(r,c);null!=u&&(o.push(a),s.set(a,u))}}));var a=new Zw(o);return new Ux(s.yt(),a,i.fieldTransforms)}function Xx(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[iA(e,r,n)],c=[i];if(o.length%2!=0)throw new kw(Iw.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(iA(e,o[u])),c.push(o[u+1]);for(var l=[],h=new CC,d=a.length-1;d>=0;--d)if(!cA(l,a[d])){var f=a[d],p=c[d];p instanceof Aw&&(p=p._);var m=s.U_(f);if(p instanceof Kx)l.push(f);else{var g=tA(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new Zw(l);return new Ux(h.yt(),y,s.fieldTransforms)}function Zx(t,e,n,r){return void 0===r&&(r=!1),tA(n,t.G_(r?4:3,e))}function tA(t,e){if(t instanceof Aw&&(t=t._),nA(t))return rA("Unsupported field value:",e,t),eA(t,e);if(t instanceof yx)return function(t,e){if(!Vx(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=tA(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Aw&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return pE(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Hw.fromDate(t);return{timestampValue:IO(e.Kt,n)}}if(t instanceof Hw)return n=new Hw(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:IO(e.Kt,n)};if(t instanceof Mx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xw)return{bytesValue:kO(e.Kt,t.l)};if(t instanceof xx){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:RO(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Ex(t))}(t,e)}function eA(t,e){var n={};return Xw(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Jw(t,(function(t,r){var i=tA(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function nA(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Hw||t instanceof Mx||t instanceof xw||t instanceof xx||t instanceof yx)}function rA(t,e,n){if(!nA(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ex(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function iA(t,e,n){if(e instanceof Aw&&(e=e._),e instanceof gx)return e.d_;if("string"==typeof e)return sA(t,e);throw aA("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var oA=new RegExp("[~\\*/\\[\\]]");function sA(t,e,n){if(e.search(oA)>=0)throw aA("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(gx.bind.apply(gx,Object(hw.g)([void 0],e.split("."))))).d_}catch(r){throw aA("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function aA(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new kw(Iw.INVALID_ARGUMENT,(a+=". ")+t+c)}function cA(t,e){return t.some((function(t){return t.isEqual(e)}))}var uA=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n=this;return Object(hw.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new kw(Iw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(hw.d)(this,(function(c){switch(c.label){case 0:return n=_w(t),r=LO(n.Kt)+"/documents",i={documents:e.map((function(t){return PO(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=c.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){bw(!!e.found);var n=NO(t,e.found.name),r=AO(e.found.updateTime),i=new wC({mapValue:{fields:e.found.fields}});return new SC(n,r,i,{})}(t,e):"missing"in e?function(t,e){bw(!!e.missing),bw(!!e.readTime);var n=NO(t,e.missing),r=AO(e.readTime);return new TC(n,r)}(t,e):vw()}(n.Kt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());bw(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof TC||t instanceof SC?n.sf(t):vw()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new KE(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e=this;return Object(hw.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Qw.ft(n);e.mutations.push(new GE(r,e.Gt(r)))})),[4,function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return n=_w(t),r=LO(n.Kt)+"/documents",i={writes:e.map((function(t){return BO(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof SC)e=t.version;else{if(!(t instanceof TC))throw vw();e=zw.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new kw(Iw.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?xE.updateTime(e):xE.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(zw.min()))throw new kw(Iw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xE.updateTime(e)}return xE.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),lA=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new jI(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(hw.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(hw.d)(this,(function(r){return t=new uA(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!sC(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!$E(e)}return!1},t}(),hA=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Mw.UNAUTHENTICATED,this.clientId=Cw.t(),this._f=function(){},this.N=new nS,this.credentials.S((function(t){pw("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new kw(Iw.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new nS;return this.fs.Tf((function(){return Object(hw.b)(t,void 0,void 0,(function(){var t,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=pS(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function dA(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),pw("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return Object(hw.b)(i,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){switch(t.label){case 0:return[4,WT(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function fA(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,pA(t)];case 1:return n=i.sent(),pw("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return(n=_w(t)).fs.Af(),pw("RemoteStore","RemoteStore received new credentials"),r=YI(n),n.Oh.add(3),[4,HI(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,qI(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function pA(t){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(pw("FirestoreClient","Using default OfflineComponentProvider"),[4,dA(t,new ux)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function mA(t){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(pw("FirestoreClient","Using default OnlineComponentProvider"),[4,fA(t,new dx)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function gA(t){return pA(t).then((function(t){return t.persistence}))}function yA(t){return pA(t).then((function(t){return t.Sh}))}function vA(t){return mA(t).then((function(t){return t.gl}))}function bA(t){return mA(t).then((function(t){return t.fa}))}function _A(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return[4,mA(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Rk.bind(null,e.fa),n.Jh=Pk.bind(null,e.fa),n)]}}))}))}function wA(t,e,n){var r=this;void 0===n&&(n={});var i=new nS;return t.fs.ys((function(){return Object(hw.b)(r,void 0,void 0,(function(){var r;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new px({next:function(o){e.ys((function(){return gk(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new kw(Iw.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new kw(Iw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new _k(YC(n.path),o,{includeMetadataChanges:!0,sl:!0});return mk(t,s)},[4,_A(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function CA(t,e,n){var r=this;void 0===n&&(n={});var i=new nS;return t.fs.ys((function(){return Object(hw.b)(r,void 0,void 0,(function(){var r;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new px({next:function(n){e.ys((function(){return gk(t,s)})),n.fromCache&&"server"===r.source?i.reject(new kw(Iw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new _k(n,o,{includeMetadataChanges:!0,sl:!0});return mk(t,s)},[4,_A(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var EA=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new jI(this,"async_queue_retry"),this.vf=function(){var e=PI();e&&pw("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=PI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=PI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e=this;return Object(hw.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!cS(t=n.sent()))throw t;return pw("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,mw("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=fS.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&vw()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t;return Object(hw.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),OA=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new EA,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(hw.c)(e,t),e.prototype.b_=function(){return this.Lf||TA(this),this.Lf.terminate()},e}(kx);function SA(t){return t.Lf||TA(t),t.Lf.df(),t.Lf}function TA(t){var e=t.p_(),n=function(t,e,n){return new Nw(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new hA(t.m_,t.Mf,n)}function IA(t,e,n){var r=this,i=new nS;return t.fs.enqueue((function(){return Object(hw.b)(r,void 0,void 0,(function(){var r;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,dA(t,n)];case 1:return o.sent(),[4,fA(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Iw.FAILED_PRECONDITION||t.code===Iw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function kA(t){if(t.R_||t.P_)throw new kw(Iw.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xA=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),uC(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nC(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(rC(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw vw()}},t.prototype.Wf=function(t,e){var n=this,r={};return Jw(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new Mx(nC(t.latitude),nC(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return iC(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(oC(t));default:return null}},t.prototype.Bf=function(t){var e=eC(t);return new Hw(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Gw.ct(t);bw(eS(n));var r=new jw(n.get(1),n.get(3)),i=new Qw(n.X(5));return r.isEqual(e)||mw("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),AA=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xx(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new RA(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(DA("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),RA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(AA);function DA(t,e){return"string"==typeof e?sA(t,e):e instanceof Aw?e._.d_:e.d_}function PA(t){if(XC(t)&&0===t.Nt.length)throw new kw(Iw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var NA=function(){};function jA(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var MA=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(hw.c)(e,t),e.prototype.Yf=function(t){var e=Hx(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new kw(Iw.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){HA(s,o);for(var c=[],u=0,l=s;u<l.length;u++)c.push(qA(r,t,l[u]));a={arrayValue:{values:c}}}else a=qA(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||HA(s,o),a=Zx(n,"where",s,"in"===o||"not-in"===o);var h=PC.create(i,o,a);return function(t,e){if(e.xt()){var n=tE(t);if(null!==n&&!n.isEqual(e.field))throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ZC(t);null!==r&&zA(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new kw(Iw.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Ax(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new $C(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(NA),LA=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(hw.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new zC(e,n);return function(t,e){if(null===ZC(t)){var n=tE(t);null!==n&&zA(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Ax(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new $C(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(NA),FA=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(hw.c)(e,t),e.prototype.Yf=function(t){return new Ax(t.firestore,t.v_,iE(t.C_,this.nd,this.sd))},e}(NA),UA=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(hw.c)(e,t),e.prototype.Yf=function(t){var e=BA(t,this.type,this.rd,this.od);return new Ax(t.firestore,t.v_,function(t,e){return new $C(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(NA),VA=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(hw.c)(e,t),e.prototype.Yf=function(t){var e=BA(t,this.type,this.rd,this.od);return new Ax(t.firestore,t.v_,function(t,e){return new $C(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(NA);function BA(t,e,n,r){if(n[0]instanceof Aw&&(n[0]=n[0]._),n[0]instanceof AA)return function(t,e,n,r,i){if(!r)throw new kw(Iw.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=nE(t);s<a.length;s++){var c=a[s];if(c.field.ht())o.push(mC(e,r.key));else{var u=r.field(c.field);if(iC(u))throw new kw(Iw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.ot();throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(u)}}return new qC(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Hx(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new kw(Iw.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(s[c].field.ht()){if("string"!=typeof u)throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!eE(t)&&-1!==u.indexOf("/"))throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(Gw.ct(u));if(!Qw.Et(l))throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Qw(l);a.push(mC(e,h))}else{var d=Zx(n,r,u);a.push(d)}}return new qC(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function qA(t,e,n){if(n instanceof Aw&&(n=n._),"string"==typeof n){if(""===n)throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(e)&&-1!==n.indexOf("/"))throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Gw.ct(n));if(!Qw.Et(r))throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return mC(t,new Qw(r))}if(n instanceof xx)return mC(t,n.S_);throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ex(n)+".")}function HA(t,e){if(!Array.isArray(t)||0===t.length)throw new kw(Iw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new kw(Iw.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function zA(t,e,n){if(!n.isEqual(e))throw new kw(Iw.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function KA(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function GA(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var WA=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(hw.c)(e,t),e.prototype.Uf=function(t){return new xw(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new xx(this.firestore,null,e)},e}(xA),$A=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),QA=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(hw.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new YA(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(DA("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(AA),YA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(QA),JA=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new $A(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new YA(n.zf,n.Hf,r.key,r,new $A(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new kw(Iw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new YA(t.zf,t.Hf,e.doc.key,e.doc,new $A(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new YA(t.zf,t.Hf,e.doc.key,e.doc,new $A(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:XA(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function XA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vw()}}function ZA(t,e){return t instanceof QA&&e instanceof QA?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof JA&&e instanceof JA&&t.zf===e.zf&&jx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var tR=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(hw.c)(e,t),e.prototype.Uf=function(t){return new xw(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new xx(this.firestore,null,e)},e}(xA);function eR(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ox(t,xx);var o=Ox(t.firestore,OA),s=Hx(o);return e instanceof Aw&&(e=e._),rR(o,[("string"==typeof e||e instanceof gx?Xx(s,"updateDoc",t.S_,e,n,r):Jx(s,"updateDoc",t.S_,e)).O_(t.S_,xE.exists(!0))])}function nR(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Aw&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||KA(i[a])||(s=i[a],a++);var c,u,l,h={includeMetadataChanges:s.includeMetadataChanges};if(KA(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof xx)u=Ox(t.firestore,OA),l=YC(t.S_.path),c={next:function(e){i[a]&&i[a](iR(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Ox(t,Ax);u=Ox(f.firestore,OA),l=f.C_;var p=new tR(u);c={next:function(t){i[a]&&i[a](new JA(u,p,f,t))},error:i[a+1],complete:i[a+2]},PA(t.C_)}return function(t,e,n,r){var i=this,o=new px(r),s=new _k(e,o,n);return t.fs.ys((function(){return Object(hw.b)(i,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return e=mk,[4,_A(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object(hw.b)(i,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return e=gk,[4,_A(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(SA(u),l,h,c)}function rR(t,e){return function(t,e){var n=this,r=new nS;return t.fs.ys((function(){return Object(hw.b)(n,void 0,void 0,(function(){var n;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return n=Nk,[4,bA(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(SA(t),e)}function iR(t,e,n){var r=n.docs.get(e.S_),i=new tR(t);return new QA(t,i,e.S_,r,new $A(n.hasPendingWrites,n.fromCache),e.v_)}var oR=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Hx(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=sR(t,this.zf),i=GA(r.v_,e,n),o=zx(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,xE.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=sR(t,this.zf);return e instanceof Aw&&(e=e._),o="string"==typeof e||e instanceof gx?Xx(this.wd,"WriteBatch.update",s.S_,e,n,r):Jx(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.O_(s.S_,xE.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=sR(t,this.zf);return this.fd=this.fd.concat(new KE(e.S_,xE.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new kw(Iw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function sR(t,e){if(t instanceof Aw&&(t=t._),t.firestore!==e)throw new kw(Iw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var aR=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(hw.c)(e,t),e.prototype.get=function(e){var n=this,r=sR(e,this.zf),i=new tR(this.zf);return t.prototype.get.call(this,e).then((function(t){return new QA(n.zf,i,r.S_,t.Jf,new $A(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Hx(t)}return t.prototype.get=function(t){var e=this,n=sR(t,this.zf),r=new WA(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return vw();var i=t[0];if(i instanceof TC)return new AA(e.zf,r,n.S_,null,n.v_);if(i instanceof SC)return new AA(e.zf,r,i.key,i,n.v_);throw vw()}))},t.prototype.set=function(t,e,n){var r=sR(t,this.zf),i=GA(r.v_,e,n),o=zx(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=sR(t,this.zf);return e instanceof Aw&&(e=e._),o="string"==typeof e||e instanceof gx?Xx(this.wd,"Transaction.update",s.S_,e,n,r):Jx(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=sR(t,this.zf);return this.Td.delete(e.S_),this},t}()),cR=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){kA(t=Ox(t,OA));var n=SA(t),r=t.p_(),i=new dx;return IA(n,i,new lx(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){kA(t=Ox(t,OA));var e=SA(t),n=t.p_(),r=new dx;return IA(e,r,new hx(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new kw(Iw.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new nS;return t.Mf.Tf((function(){return Object(hw.b)(e,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return oS.jn()?[4,oS.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(VT(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),uR=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof jw||(i.md=e),i}return Object(hw.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Ox(t,kx)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&gw("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(hw.b)(e,void 0,void 0,(function(){var e,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return[4,gA(t)];case 1:return e=r.sent(),[4,vA(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=_w(t);return e.Oh.delete(0),qI(e)}(n))]}}))}))}))}(SA(Ox(this._,OA)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(hw.b)(e,void 0,void 0,(function(){var e,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return[4,gA(t)];case 1:return e=r.sent(),[4,vA(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return(e=_w(t)).Oh.add(0),[4,HI(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(SA(Ox(this._,OA)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&_x("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new nS;return t.fs.ys((function(){return Object(hw.b)(e,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return e=Vk,[4,bA(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(SA(Ox(this._,OA)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new px(e);return t.fs.ys((function(){return Object(hw.b)(n,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){_w(t).Wh.add(e),e.next()},[4,_A(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(hw.b)(n,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){_w(t).Wh.delete(e)},[4,_A(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(SA(t=Ox(t,OA)),KA(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new kw(Iw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new CR(this,Dx(this._,t))}catch(t){throw pR(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new fR(this,Px(this._,t))}catch(t){throw pR(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new bR(this,function(t,e){if(t=Ox(t,kx),vx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kw(Iw.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ax(t,null,function(t){return new $C(Gw.at(),t)}(e))}(this._,t))}catch(t){throw pR(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new nS;return t.fs.ys((function(){return Object(hw.b)(n,void 0,void 0,(function(){var n;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return mA(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new lA(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(SA(t),(function(n){return e(new aR(t,n))}))}(this._,(function(n){return t(new hR(e,n))}))},e.prototype.batch=function(){var t=this;return SA(this._),new dR(new oR(this._,(function(e){return rR(t._,e)})))},e.prototype.loadBundle=function(t){throw new kw(Iw.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new kw(Iw.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Aw),lR=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(hw.c)(e,t),e.prototype.Uf=function(t){return new Pw(new xw(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return fR.Ad(e,this.firestore,null)},e}(xA),hR=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new lR(e),r}return Object(hw.c)(e,t),e.prototype.get=function(t){var e=this,n=ER(t);return this._.get(n).then((function(t){return new yR(e.zf,new QA(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=ER(t);return n?(bx("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ER(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(hw.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=ER(t);return this._.delete(e),this},e}(Aw),dR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e.prototype.set=function(t,e,n){var r=ER(t);return n?(bx("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ER(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(hw.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=ER(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Aw),fR=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new lR(e),r}return Object(hw.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new kw(Iw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new xx(n._,r,new Qw(t)))},e.Ad=function(t,n,r){return new e(n,new xx(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new CR(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new CR(this.firestore,Dx(this._,t))}catch(t){throw pR(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Aw&&(t=t._),t instanceof xx&&Nx(this._,t)},e.prototype.set=function(t,e){e=bx("DocumentReference.set",e);try{return function(t,e,n){t=Ox(t,xx);var r=Ox(t.firestore,OA),i=GA(t.v_,e,n);return rR(r,[zx(Hx(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,xE.jt())])}(this._,t,e)}catch(t){throw pR(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?eR(this._,t):eR.apply(void 0,Object(hw.g)([this._,t,e],n))}catch(t){throw pR(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return rR(Ox((t=this._).firestore,OA),[new KE(t.S_,xE.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=mR(e),i=gR(e,(function(e){return new yR(t.firestore,new QA(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return nR(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ox(t,xx);var e=Ox(t.firestore,OA),n=SA(e),r=new tR(e);return function(t,e){var n=this,r=new nS;return t.fs.ys((function(){return Object(hw.b)(n,void 0,void 0,(function(){var n;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=_w(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof SC?n.resolve(i):i instanceof TC?n.resolve(null):n.reject(new kw(Iw.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=pS(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,yA(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new QA(e,r,t.S_,n,new $A(n instanceof SC&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Ox(t,xx);var e=Ox(t.firestore,OA);return wA(SA(e),t.S_,{source:"server"}).then((function(n){return iR(e,t,n)}))}(this._):function(t){t=Ox(t,xx);var e=Ox(t.firestore,OA);return wA(SA(e),t.S_).then((function(n){return iR(e,t,n)}))}(this._)).then((function(t){return new yR(e.firestore,new QA(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Aw);function pR(t,e,n){return t.message=t.message.replace(e,n),t}function mR(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!KA(r))return r}return{}}function gR(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=KA(t[0])?t[0]:KA(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var yR=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(hw.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new fR(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return ZA(this._,t._)},e}(Aw),vR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(yR),bR=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new lR(e),r}return Object(hw.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,jA(this._,function(t,e,n){var r=e,i=DA("where",t);return new MA(i,r,n)}(t,n,r)))}catch(t){throw pR(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,jA(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=DA("orderBy",t);return new LA(r,n)}(t,n)))}catch(t){throw pR(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,jA(this._,function(t){return Sx("limit",t),new FA("limit",t,"F")}(t)))}catch(t){throw pR(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,jA(this._,function(t){return Sx("limitToLast",t),new FA("limitToLast",t,"L")}(t)))}catch(t){throw pR(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jA(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new UA("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw pR(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jA(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new UA("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw pR(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jA(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VA("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw pR(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jA(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VA("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw pR(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return jx(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ox(t,Ax);var e=Ox(t.firestore,OA),n=SA(e),r=new tR(e);return function(t,e){var n=this,r=new nS;return t.fs.ys((function(){return Object(hw.b)(n,void 0,void 0,(function(){var n;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(hw.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,eI(t,e,!0)];case 1:return a=c.sent(),r=new Ik(e,a.Pc),i=r.dl(a.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=c.sent(),a=pS(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,yA(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new JA(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Ox(t,Ax);var e=Ox(t.firestore,OA),n=SA(e),r=new tR(e);return CA(n,t.C_,{source:"server"}).then((function(n){return new JA(e,r,t,n)}))}(this._):function(t){t=Ox(t,Ax);var e=Ox(t.firestore,OA),n=SA(e),r=new tR(e);return PA(t.C_),CA(n,t.C_).then((function(n){return new JA(e,r,t,n)}))}(this._)).then((function(t){return new wR(e.firestore,new JA(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=mR(e),i=gR(e,(function(e){return new wR(t.firestore,new JA(t.firestore._,t.Hf,t._,e.ud))}));return nR(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Aw),_R=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(hw.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new vR(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Aw),wR=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(hw.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new bR(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new vR(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new _R(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new vR(n.zf,r))}))},e.prototype.isEqual=function(t){return ZA(this._,t._)},e}(Aw),CR=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(hw.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new fR(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new fR(this.firestore,void 0===t?Px(this._):Px(this._,t))}catch(t){throw pR(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ox(t.firestore,OA),r=Px(t),i=GA(t.v_,e);return rR(n,[zx(Hx(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,xE.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new fR(e.firestore,t)}))},e.prototype.isEqual=function(t){return Nx(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(bR);function ER(t){return t instanceof Aw&&(t=t._),Ox(t,xx)}var OR,SR=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(gx.bind.apply(gx,Object(hw.g)([void 0],e))))||this}return Object(hw.c)(e,t),e.documentId=function(){return new e($w.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Aw&&(t=t._),t instanceof gx&&this._.d_.isEqual(t.d_)},e}(Aw),TR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hw.c)(e,t),e.serverTimestamp=function(){var t=new Wx("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Kx("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $x("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qx("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Yx("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Aw),IR=function(){function t(){this.Pd={},this.yd=new nS,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)},t}(),kR=n("/6Yf"),xR={Firestore:uR,GeoPoint:Mx,Timestamp:Hw,Blob:Pw,Transaction:hR,WriteBatch:dR,DocumentReference:fR,DocumentSnapshot:yR,Query:bR,QueryDocumentSnapshot:vR,QuerySnapshot:wR,CollectionReference:CR,FieldPath:SR,FieldValue:TR,setLogLevel:function(t){dw.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new kR.a("firestore",(function(t){return function(t,e){return new uR(t,new OA(t,e),new cR)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},xR)))})(OR=uy.a),OR.registerVersion("@firebase/firestore","2.1.2"),function(t){t.prototype.loadBundle=function(t){return function(t,e){var n=new IR;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new mx(t,e)}(function(t,e){if(t instanceof Uint8Array)return fx(t,e);if(t instanceof ArrayBuffer)return fx(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,NI(e));t.fs.ys((function(){return Object(hw.b)(i,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return e=cx,[4,bA(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(SA(t._),t.I_,e,n),n}(this,t)},t.prototype.namedQuery=function(t){return function(t,e){return function(t,e){var n=this;return t.fs.enqueue((function(){return Object(hw.b)(n,void 0,void 0,(function(){var n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=_w(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Eo.$s(t,e)}))},[4,yA(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(SA(t._),e).then((function(e){return e?new bR(t,new Ax(t._,null,e.query)):null}))}(this,t)}}(uR);var AR={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},RR=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(hw.c)(e,t),e}(Error),DR=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t;return Object(hw.d)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(OR){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function PR(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var NR,jR,MR,LR=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return PR(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?PR(t,(function(t){return e.decode(t)})):t},t}(),FR=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new LR,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new DR(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var s=new URL(r);this.customDomain=s.origin,this.region="us-central1"}catch(OR){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,h,d;return Object(hw.d)(this,(function(f){switch(f.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=f.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new RR("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(n.timeout||7e4),c=a.timer,u=a.promise,[4,Promise.race([UR(c,this.postJSON(r,i,o)),u,UR(c,this.cancelAllRequests)])];case 2:if(!(l=f.sent()))throw new RR("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!AR[a])return new RR("internal","internal");r=AR[a],i=a}var c=s.message;"string"==typeof c&&(i=c),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(OR){}return"ok"===r?null:new RR(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new RR("internal","Response is not valid JSON object.");if(void 0===(d=l.json.data)&&(d=l.json.result),void 0===d)throw new RR("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},t}();function UR(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}NR=uy.a,jR=fetch.bind(self),MR={Functions:FR},NR.INTERNAL.registerComponent(new kR.a("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new FR(n,r,i,e,jR)}),"PUBLIC").setServiceProps(MR).setMultipleInstances(!0)),uy.a.registerVersion("@firebase/functions","0.6.1");var VR,BR=n("nbvr"),qR="w:0.4.19",HR=((VR={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',VR["not-registered"]="Firebase Installation is not registered.",VR["installation-not-found"]="Firebase Installation not found.",VR["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',VR["app-offline"]="Could not process request. Application offline.",VR["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",VR),zR=new hy.b("installations","Installations",HR);function KR(t){return t instanceof hy.c&&t.code.includes("request-failed")}function GR(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function WR(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function $R(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,zR.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function QR(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function YR(t,e){var n=e.refreshToken,r=QR(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function JR(t){return Object(hw.b)(this,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function XR(t,e){var n=e.fid;return Object(hw.b)(this,void 0,void 0,(function(){var e,r,i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:return e=GR(t),r=QR(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:qR})},[4,JR((function(){return fetch(e,i)}))];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:WR(s.authToken)}];case 3:return[4,$R("Create Installation",o)];case 4:throw a.sent()}}))}))}function ZR(t){return new Promise((function(e){setTimeout(e,t)}))}var tD=/^[cdef][\w-]{21}$/;function eD(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(hw.f)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return tD.test(e)?e:""}catch(pF){return""}}function nD(t){return t.appName+"!"+t.appId}var rD=new Map;function iD(t,e){var n=nD(t);oD(n,e),function(t,e){var n=aD();n&&n.postMessage({key:t,fid:e}),cD()}(n,e)}function oD(t,e){var n,r,i=rD.get(t);if(i)try{for(var o=Object(hw.h)(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var sD=null;function aD(){return!sD&&"BroadcastChannel"in self&&((sD=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){oD(t.data.key,t.data.fid)}),sD}function cD(){0===rD.size&&sD&&(sD.close(),sD=null)}var uD,lD="firebase-installations-store",hD=null;function dD(){return hD||(hD=Object(BR.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(lD)}}))),hD}function fD(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:return n=nD(t),[4,dD()];case 1:return r=a.sent(),i=r.transaction(lD,"readwrite"),[4,(o=i.objectStore(lD)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||iD(t,e.fid),[2,e]}}))}))}function pD(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return e=nD(t),[4,dD()];case 1:return n=i.sent(),[4,(r=n.transaction(lD,"readwrite")).objectStore(lD).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function mD(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(hw.d)(this,(function(c){switch(c.label){case 0:return n=nD(t),[4,dD()];case 1:return r=c.sent(),i=r.transaction(lD,"readwrite"),[4,(o=i.objectStore(lD)).get(n)];case 2:return s=c.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),!a||s&&s.fid===a.fid||iD(t,a.fid),[2,a]}}))}))}function gD(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return[4,mD(t,(function(n){var r=function(t){return bD(t||{fid:eD(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(zR.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,XR(t,e)];case 1:return n=i.sent(),[2,fD(t,n)];case 2:return KR(r=i.sent())&&409===r.customData.serverCode?[4,pD(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,fD(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:yD(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function yD(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return[4,vD(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,ZR(100)];case 3:return o.sent(),[4,vD(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,gD(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function vD(t){return mD(t,(function(t){if(!t)throw zR.create("installation-not-found");return bD(t)}))}function bD(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function _D(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(hw.b)(this,void 0,void 0,(function(){var t,i,o,s,a;return Object(hw.d)(this,(function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return GR(t)+"/"+n+"/authTokens:generate"}(n,e),i=YR(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:qR}})},[4,JR((function(){return fetch(t,s)}))];case 1:return(a=c.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,WR(c.sent())];case 3:return[4,$R("Generate Auth Token",a)];case 4:throw c.sent()}}))}))}function wD(t,e){return void 0===e&&(e=!1),Object(hw.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return[4,mD(t.appConfig,(function(r){if(!ED(r))throw zR.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return[4,CD(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,ZR(100)];case 3:return i.sent(),[4,CD(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,wD(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw zR.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(hw.a)(Object(hw.a)({},t),{authToken:e})}(r);return n=function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,_D(t,e)];case 1:return n=o.sent(),i=Object(hw.a)(Object(hw.a)({},e),{authToken:n}),[4,fD(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!KR(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,pD(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(hw.a)(Object(hw.a)({},e),{authToken:{requestStatus:0}}),[4,fD(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,s),s}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function CD(t){return mD(t,(function(t){if(!ED(t))throw zR.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(hw.a)(Object(hw.a)({},t),{authToken:{requestStatus:0}}):t}))}function ED(t){return void 0!==t&&2===t.registrationStatus}function OD(t){return Object(hw.b)(this,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return[4,gD(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function SD(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(hw.d)(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return GR(t)+"/"+n}(t,e),r=YR(t,e),i={method:"DELETE",headers:r},[4,JR((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,$R("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function TD(t){return zR.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new kR.a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw TD("App Configuration");if(!t.name)throw TD("App Name");try{for(var r=Object(hw.h)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw TD(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return[4,gD(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):wD(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(n){switch(n.label){case 0:return[4,OD(t.appConfig)];case 1:return n.sent(),[4,wD(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return[4,mD(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw zR.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw zR.create("app-offline");case 3:return[4,SD(e,n)];case 4:return r.sent(),[4,pD(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){aD();var n=nD(t),r=rD.get(n);r||(r=new Set,rD.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=nD(t),r=rD.get(n);r&&(r.delete(e),0===r.size&&rD.delete(n),cD())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.19")}(uy.a);var ID=((uD={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',uD["only-available-in-window"]="This method is available in a Window context.",uD["only-available-in-sw"]="This method is available in a service worker context.",uD["permission-default"]="The notification permission was not granted and dismissed instead.",uD["permission-blocked"]="The notification permission was not granted and blocked instead.",uD["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",uD["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",uD["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",uD["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",uD["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",uD["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",uD["token-update-no-token"]="FCM returned no token when updating the user to push.",uD["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",uD["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",uD["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",uD["invalid-vapid-key"]="The public VAPID key must be a string.",uD["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",uD),kD=new hy.b("messaging","Messaging",ID),xD="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",AD=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function RD(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(hw.f)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function DD(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var PD="fcm_token_details_db",ND="fcm_token_object_Store";function jD(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n=this;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes(PD))return[2,null];r.label=2;case 2:return e=null,[4,Object(BR.openDb)(PD,5,(function(r){return Object(hw.b)(n,void 0,void 0,(function(){var n,i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(ND)?[4,(n=r.transaction.objectStore(ND)).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:RD(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:RD(o.auth),p256dh:RD(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:RD(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(BR.deleteDb)(PD)];case 4:return r.sent(),[4,Object(BR.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(BR.deleteDb)("undefined")];case 6:return r.sent(),[2,MD(e)?e:null]}}))}))}function MD(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var LD="firebase-messaging-store",FD=null;function UD(){return FD||(FD=Object(BR.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(LD)}}))),FD}function VD(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return e=HD(t),[4,UD()];case 1:return[4,i.sent().transaction(LD).objectStore(LD).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,jD(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,BD(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function BD(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return n=HD(t),[4,UD()];case 1:return r=o.sent(),[4,(i=r.transaction(LD,"readwrite")).objectStore(LD).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function qD(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return e=HD(t),[4,UD()];case 1:return n=i.sent(),[4,(r=n.transaction(LD,"readwrite")).objectStore(LD).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function HD(t){return t.appConfig.appId}function zD(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:return[4,$D(t)];case 1:n=a.sent(),r=QD(e),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(WD(t.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),kD.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw kD.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw kD.create("token-subscribe-no-token");return[2,o.token]}}))}))}function KD(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:return[4,$D(t)];case 1:n=a.sent(),r=QD(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(WD(t.appConfig)+"/"+e.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),kD.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw kD.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw kD.create("token-update-no-token");return[2,o.token]}}))}))}function GD(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(hw.d)(this,(function(s){switch(s.label){case 0:return[4,$D(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(WD(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw kD.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),kD.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function WD(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function $D(t){var e=t.appConfig,n=t.installations;return Object(hw.b)(this,void 0,void 0,(function(){var t;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function QD(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==xD&&(n.web.applicationPubKey=e),n}function YD(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw kD.create("permission-blocked");return[4,tP(e,n)];case 1:return r=a.sent(),[4,VD(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:RD(r.getKey("auth")),p256dh:RD(r.getKey("p256dh"))},i?[3,3]:[2,ZD(t,o)];case 3:if(l=(u=o).endpoint===(c=i.subscriptionOptions).endpoint,u.vapidKey===c.vapidKey&&l&&u.auth===c.auth&&u.p256dh===c.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,GD(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,ZD(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,XD({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var c,u,l}))}))}function JD(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return[4,VD(t)];case 1:return(n=i.sent())?[4,GD(t,n.token)]:[3,4];case 2:return i.sent(),[4,qD(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function XD(t,e,n){return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o;return Object(hw.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,KD(e,t)];case 1:return r=s.sent(),i=Object(hw.a)(Object(hw.a)({},t),{token:r,createTime:Date.now()}),[4,BD(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,JD(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function ZD(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return[4,zD(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,BD(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function tP(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:DD(e)})]}}))}))}function eP(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function nP(t){return new Promise((function(e){setTimeout(e,t)}))}var rP=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw kD.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(hw.b)(this,void 0,void 0,(function(){var n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,VD(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:xD,r.label=2;case 2:return[2,YD(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return JD(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw kD.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw kD.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw kD.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw kD.create("only-available-in-window")},t.prototype.onMessage=function(){throw kD.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw kD.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,aP()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,sP(n,e)]:(r=!1,e.notification?[4,cP(iP(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,nP(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(hw.b)(this,void 0,void 0,(function(){var r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,JD(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,VD(this.firebaseDependencies)];case 3:return r=i.sent(),[4,JD(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,YD(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:xD)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(hw.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(hw.d)(this,(function(c){switch(c.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(eP(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,oP(o)]):[2]):[2];case 1:return(a=c.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=c.sent(),[4,nP(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=c.sent(),c.label=6;case 6:return a?(r.messageType=AD.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function iP(t){var e,n=Object(hw.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function oP(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return Object(hw.d)(this,(function(c){switch(c.label){case 0:return[4,aP()];case 1:e=c.sent();try{for(n=Object(hw.h)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){s={error:u}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function sP(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=AD.PUSH_RECEIVED;try{for(var i=Object(hw.h)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function aP(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function cP(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var uP=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===AD.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),eP(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw kD.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,YD(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=xD),[2]}))}))},t.prototype.updateSwReg=function(t){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw kD.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),kD.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,JD(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t;return Object(hw.d)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw kD.create("denied"===t?"permission-blocked":"permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw kD.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw kD.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw kD.create("invalid-sw-registration");if(this.swRegistration)throw kD.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw kD.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw kD.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case AD.NOTIFICATION_CLICKED:return"notification_open";case AD.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function lP(t){return kD.create("missing-app-config-values",{valueName:t})}var hP={isSupported:dP};function dP(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}uy.a.INTERNAL.registerComponent(new kR.a("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw lP("App Configuration Object");if(!t.name)throw lP("App Name");var r=t.options;try{for(var i=Object(hw.h)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw lP(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!dP())throw kD.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new rP(n):new uP(n)}),"PUBLIC").setServiceProps(hP));var fP="firebasestorage.googleapis.com",pP=function(t){function e(n,r){var i=t.call(this,vP(n),"Firebase Storage: "+r+" ("+vP(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(hw.c)(e,t),e.prototype.codeEquals=function(t){return vP(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(hy.c),mP="canceled",gP="invalid-argument",yP="unsupported-environment";function vP(t){return"storage/"+t}function bP(){return new pP("unknown","An unknown error occurred, please check the error payload for server response.")}function _P(){return new pP(mP,"User canceled the upload/download.")}function wP(){return new pP("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function CP(t){return new pP(gP,t)}function EP(){return new pP("app-deleted","The Firebase app was deleted.")}function OP(t){return new pP("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function SP(t,e){return new pP("invalid-format","String does not match format '"+t+"': "+e)}function TP(t){throw new pP("internal-error","Internal error: "+t)}var IP={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},kP=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function xP(t,e){switch(t){case IP.RAW:return new kP(AP(e));case IP.BASE64:case IP.BASE64URL:return new kP(RP(t,e));case IP.DATA_URL:return new kP((n=new DP(e)).base64?RP(IP.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(OR){throw SP(IP.DATA_URL,"Malformed data URL.")}return AP(e)}(n.rest),new DP(e).contentType)}var n;throw bP()}function AP(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function RP(t,e){switch(t){case IP.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw SP(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case IP.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw SP(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(OR){throw SP(t,"Invalid character found")}for(var a=new Uint8Array(s.length),c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}var DP=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw SP(IP.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),PP={STATE_CHANGED:"state_changed"},NP="running",jP="pausing",MP="paused",LP="success",FP="canceling",UP="canceled",VP="error",BP={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qP(t){switch(t){case NP:case jP:case FP:return BP.RUNNING;case MP:return BP.PAUSED;case LP:return BP.SUCCESS;case UP:return BP.CANCELED;case VP:default:return BP.ERROR}}var HP=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),zP=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=HP.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=HP.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=HP.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw TP("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw TP("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw TP("cannot .getStatus() before sending");try{return this.xhr_.status}catch(OR){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw TP("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),KP=function(){function t(){}return t.prototype.createXhrIo=function(){return new zP},t}();function GP(t){return"string"==typeof t||t instanceof String}function WP(t){return $P()&&t instanceof Blob}function $P(){return"undefined"!=typeof Blob}function QP(t,e,n,r){if(r<e)throw new pP(gP,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new pP(gP,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function YP(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function JP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=YP();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if($P())return new Blob(t);throw new pP(yP,"This browser doesn't seem to support creating Blobs")}var XP=function(){function t(t,e){var n=0,r="";WP(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(WP(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if($P()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(JP.apply(null,r))}var i=e.map((function(t){return GP(t)?xP(IP.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),ZP=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(OR){return new t(e,"")}if(""===n.path)return n;throw new pP("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=fP.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<a.length;c++){var u=a[c],l=u.regex.exec(e);if(l){var h=l[u.indices.path];h||(h=""),n=new t(l[u.indices.bucket],h),u.postModify(n);break}}if(null==n)throw function(t){return new pP("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function tN(t){var e,n;try{e=JSON.parse(t)}catch(OR){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function eN(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function nN(t){return"https://"+fP+"/v0"+t}function rN(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function iN(t,e){return e}var oN=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||iN}}(),sN=null;function aN(){if(sN)return sN;var t=[];t.push(new oN("bucket")),t.push(new oN("generation")),t.push(new oN("metageneration")),t.push(new oN("name","fullPath",!0));var e=new oN("name");e.xform=function(t,e){return function(t){return!GP(t)||t.length<2?t:eN(t)}(e)},t.push(e);var n=new oN("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new oN("timeCreated")),t.push(new oN("updated")),t.push(new oN("md5Hash",null,!0)),t.push(new oN("cacheControl",null,!0)),t.push(new oN("contentDisposition",null,!0)),t.push(new oN("contentEncoding",null,!0)),t.push(new oN("contentLanguage",null,!0)),t.push(new oN("contentType",null,!0)),t.push(new oN("metadata","customMetadata",!0)),sN=t}function cN(t,e,n){var r=tN(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new ZP(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function uN(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var lN=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function hN(t){if(!t)throw bP()}function dN(t,e){return function(n,r){var i=cN(t,r,e);return hN(null!==i),i}}function fN(t){return function(e,n){var r;return(r=401===e.getStatus()?new pP("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new pP("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new pP("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function pN(t){var e=fN(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new pP("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function mN(t,e,n){var r=nN(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new lN(r,"GET",dN(t,n),i);return o.errorHandler=pN(e),o}function gN(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var yN=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function vN(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(OR){hN(!1)}return hN(!!n&&-1!==(e||["active"]).indexOf(n)),n}var bN=262144,_N=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),wN=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function CN(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var EN=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=aN(),this._resumable=this._shouldDoResumable(this._blob),this._state=NP,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(mP)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(VP))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(mP)?r.completeTransitions_():(r._error=t,r._transition(VP))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===NP&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case NP:t(n);break;case FP:e._transition(UP);break;case jP:e._transition(MP)}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=gN(e,r,i),a={name:s.fullPath},c=nN(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=uN(s,n),h=new lN(c,"POST",(function(t){var e;vN(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(OR){hN(!1)}return hN(GP(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=fN(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new lN(n,"POST",(function(t){var e=vN(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(OR){hN(!1)}n||hN(!1);var i=Number(n);return hN(!isNaN(i)),new yN(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=fN(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=bN*this._chunkMultiplier,n=new yN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var c=new yN(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new pP("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},f=r.slice(h,h+l);if(null===f)throw wP();var p=new lN(n,"POST",(function(t,n){var i,s=vN(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===s?dN(e,o)(t,n):null,new yN(a,u,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=fN(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(OR){return t._error=OR,void t._transition(VP)}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(LP)):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){bN*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=mN(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(LP)}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var c=gN(e,r,i),u=uN(c,n),l=XP.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw wP();var h={name:c.fullPath},d=nN(o),f=t.maxUploadRetryTime,p=new lN(d,"POST",dN(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=fN(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(LP)}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case FP:case jP:this._state=t,void 0!==this._request&&this._request.cancel();break;case NP:var e=this._state===MP;this._state=t,e&&(this._notifyObservers(),this._start());break;case MP:this._state=t,this._notifyObservers();break;case UP:this._error=_P(),this._state=t,this._notifyObservers();break;case VP:case LP:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case jP:this._transition(MP);break;case FP:this._transition(UP);break;case NP:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=qP(this._state);return new wN(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new _N(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(qP(this._state)){case BP.SUCCESS:CN(this._resolve.bind(null,this.snapshot))();break;case BP.CANCELED:case BP.ERROR:CN(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(qP(this._state)){case BP.RUNNING:case BP.PAUSED:t.next&&CN(t.next.bind(t,this.snapshot))();break;case BP.SUCCESS:t.complete&&CN(t.complete.bind(t))();break;case BP.CANCELED:case BP.ERROR:t.error&&CN(t.error.bind(t,this._error))();break;default:t.error&&CN(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===MP||this._state===jP;return t&&this._transition(NP),t},t.prototype.pause=function(){var t=this._state===NP;return t&&this._transition(jP),t},t.prototype.cancel=function(){var t=this._state===NP||this._state===jP;return t&&this._transition(FP),t},t}(),ON=function(){function t(t,e){this._service=t,this._location=e instanceof ZP?e:ZP.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new ZP(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return eN(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new ZP(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw OP(t)},t}();function SN(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&QP("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=nN(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,c=new lN(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=tN(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new ZP(e,s));r.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t.makeStorageReference(new ZP(e,u[c].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return hN(null!==i),i}}(t,e.bucket),a);return c.urlParams=o,c.errorHandler=fN(e),c}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function TN(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new ZP(t._location.bucket,n);return new ON(t.storage,r)}var IN=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),kN=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new IN(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new IN(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new IN(t,i,i._ref))}:{next:e.next?function(t){return e.next(new IN(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),xN=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new AN(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new AN(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),AN=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(TN(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new kN(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new EN(t,new XP(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=IP.RAW),this._throwIfRoot("putString"),new kN(function(t,e,n,r){void 0===n&&(n=IP.RAW),t._throwIfRoot("putString");var i=xP(n,e),o=Object(hw.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new EN(t,new XP(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t,e,n=this;return(t=this._delegate,e={prefixes:[],items:[]},function t(e,n,r){return Object(hw.b)(this,void 0,void 0,(function(){var i,o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:return[4,SN(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))).then((function(t){return new xN(t,n.storage)}))},t.prototype.list=function(t){var e=this;return SN(this._delegate,t).then((function(t){return new xN(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=mN(t.storage,t._location,aN()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=nN(e.fullServerUrl()),o=uN(n,r),s=t.maxOperationRetryTime,a=new lN(i,"PATCH",dN(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=pN(e),a}(t.storage,t._location,e,aN()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=nN(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new lN(r,"GET",function(t,e){return function(n,r){var i=cN(t,r,e);return hN(null!==i),function(t,e){var n=tN(e);if(null===n)return null;if(!GP(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return nN("/b/"+i(t.bucket)+"/o/"+i(n))+rN({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=pN(e),o}(t.storage,t._location,aN()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new pP("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=nN(e.fullServerUrl()),r=new lN(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=pN(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw OP(t)},t}(),RN=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),DN=function(){function t(t,e,n,r,i,o,s,a,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(OR){o(OR)}else null!==s?((r=bP()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?EP():_P():new pP("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new PN(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new PN(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===HP.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new PN(s,n))}else{var a=n.getErrorCode()===HP.ABORT;e(!1,new PN(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(hw.g)([null,t],e));else{var r;c()||s?l.call.apply(l,Object(hw.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,u||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),PN=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function NN(t){return/^[A-Za-z]+:\/\//.test(t)}function jN(t,e){if(e&&NN(e)){if(t instanceof MN)return new ON(t,e);throw CP("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof MN){var r=e;if(null==r._bucket)throw new pP("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new ON(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw CP('`path` param cannot contain ".."');return TN(e,n)}return e}(t,e)}var MN=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ZP.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:ZP.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){QP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){QP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new ON(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new RN(EP());var r=function(t,e,n,r){var i=rN(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==uy.a?uy.a.SDK_VERSION:"AppManager")}(s),new DN(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),LN=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(NN(t))throw CP("ref() expected a child path but got a URL, use refFromURL instead.");return new AN(jN(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!NN(t))throw CP("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ZP.makeFromUrl(t)}catch(OR){throw CP("refFromUrl() expected a valid full URL but got an invalid one.")}return new AN(jN(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function FN(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new LN(n,new MN(n,r,new KP,e))}!function(t){var e={TaskState:BP,TaskEvent:PP,StringFormat:IP,Storage:MN,Reference:AN};t.INTERNAL.registerComponent(new kR.a("storage",FN,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.2")}(uy.a);var UN,VN,BN,qN="0.4.5",HN=qN,zN="FB-PERF-TRACE-MEASURE",KN="_wt_",GN="_fcp",WN="_fid",$N="@firebase/performance/config",QN="@firebase/performance/configexpire",YN="Performance",JN=((UN={})["trace started"]="Trace {$traceName} was started before.",UN["trace stopped"]="Trace {$traceName} is not running.",UN["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",UN["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",UN["no window"]="Window is not available.",UN["no app id"]="App id is not available.",UN["no project id"]="Project id is not available.",UN["no api key"]="Api key is not available.",UN["invalid cc log"]="Attempted to queue invalid cc event",UN["FB not default"]="Performance can only start when Firebase app instance is the default one.",UN["RC response not ok"]="RC response is not ok",UN["invalid attribute name"]="Attribute name {$attributeName} is invalid.",UN["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",UN["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",UN["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",UN),XN=new hy.b("performance",YN,JN),ZN=new ly.b(YN);ZN.logLevel=ly.a.INFO;var tj,ej=function(){function t(t){if(this.window=t,!t)throw XN.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(hy.w)()||(ZN.info("IndexedDB is not supported by current browswer"),!1):(ZN.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===VN&&(VN=new t(BN)),VN},t}();function nj(t,e){var n=t.length-e.length;if(n<0||n>1)throw XN.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var rj,ij=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=nj("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=nj("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw XN.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw XN.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw XN.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===tj&&(tj=new t),tj},t}();function oj(){return rj}var sj=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),aj=["firebase_","google_","ga_"],cj=new RegExp("^[a-zA-Z]\\w*$");function uj(){var t=ej.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function lj(){switch(ej.getInstance().document.visibilityState){case"visible":return sj.VISIBLE;case"hidden":return sj.HIDDEN;default:return sj.UNKNOWN}}function hj(){var t=ej.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function dj(t){if(!t)return t;var e=ij.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=fj(e.tracesSamplingRate),e.logNetworkAfterSampling=fj(e.networkRequestsSamplingRate),t}function fj(t){return Math.random()<=t}var pj,mj=1;function gj(){return mj=2,pj=pj||function(){var t=ej.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=ij.getInstance().installationsService.getId()).then((function(t){rj=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=ej.getInstance().localStorage;if(t){var e=t.getItem(QN);if(e&&Number(e)>Date.now()){var n=t.getItem($N);if(n)try{return JSON.parse(n)}catch(pF){return}}}}();return e?(dj(e),Promise.resolve()):function(t){return(e=ij.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+ij.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+ij.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:ij.getInstance().getAppId(),app_version:HN,sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw XN.create("RC response not ok")}))})).catch((function(){ZN.info("Could not fetch config, will use default configs")}));var e}(t).then(dj).then((function(t){return function(t){var e=ej.getInstance().localStorage;t&&e&&(e.setItem($N,JSON.stringify(t)),e.setItem(QN,String(Date.now()+60*ij.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return yj()}),(function(){return yj()}))}function yj(){mj=3}var vj,bj=1e4,_j=3,wj=[],Cj=!1;function Ej(t){if(!t.eventTime||!t.message)throw XN.create("invalid cc log");wj=Object(hw.g)(wj,[t])}function Oj(t,e){var n;vj||(n=Ij,vj=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Ej({message:n.apply(void 0,t),eventTime:Date.now()})}),vj(t,e)}function Sj(t){var e=ij.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&ej.getInstance().requiredApisAvailable()&&(t.isAuto&&lj()!==sj.VISIBLE||(3===mj?Tj(t):gj().then((function(){return Tj(t)}),(function(){return Tj(t)}))))}function Tj(t){if(oj()){var e=ij.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return Oj(t,1)}),0)}}function Ij(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:kj(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:kj(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function kj(){return{google_app_id:ij.getInstance().getAppId(),app_instance_id:oj(),web_app_info:{sdk_version:HN,page_url:ej.getInstance().getUrl(),service_worker_status:uj(),visibility_state:lj(),effective_connection_type:hj()},application_process_state:0}}var xj=["_fp",GN,WN],Aj=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=ej.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw XN.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw XN.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Sj(this)},t.prototype.record=function(t,e,n){if(t<=0)throw XN.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw XN.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(hw.a)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Sj(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith(KN)&&xj.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw XN.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(n=e,(r=Math.floor(n))<n&&ZN.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||aj.some((function(e){return t.startsWith(e)}))||!t.match(cj))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw XN.create("invalid attribute name",{attributeName:t});if(!r)throw XN.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(hw.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=ej.getInstance().getUrl();if(i){var o=new t(KN+i,!0),s=Math.floor(1e3*ej.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var c=n.find((function(t){return"first-contentful-paint"===t.name}));c&&c.startTime&&o.putMetric(GN,Math.floor(1e3*c.startTime)),r&&o.putMetric(WN,Math.floor(1e3*r))}Sj(o)}},t.createUserTimingTrace=function(e){Sj(new t(e,!1,e))},t}();function Rj(t){var e=t;if(e&&void 0!==e.responseStart){var n=ej.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=ij.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return Oj(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function Dj(){oj()&&(setTimeout((function(){return function(){var t=ej.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){Aj.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),Aj.createOobTrace(e,n,t))}))}else Aj.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=ej.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)Rj(n[e]);t.setupObserver("resource",Rj)}()}),0),setTimeout((function(){return function(){for(var t=ej.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)Pj(n[e]);t.setupObserver("measure",Pj)}()}),0))}function Pj(t){var e=t.name;e.substring(0,zN.length)!==zN&&Aj.createUserTimingTrace(e)}var Nj=function(){function t(t){this.app=t,ej.getInstance().requiredApisAvailable()&&Object(hy.N)().then((function(t){t&&(Cj||(function t(e){setTimeout((function(){var e,n;if(0!==_j)return wj.length?(n=(e=wj.splice(0,1e3)).map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(e,n){return function(t){var e=ij.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then((function(t){return t.ok||ZN.info("Call to Firebase backend failed."),t.json()})).then((function(e){var r=Number(e.nextRequestWaitMillis),i=bj;isNaN(r)||(i=Math.max(r,i));var o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(wj=Object(hw.g)(n,wj),ZN.info("Retry transport request later.")),_j=3,t(i)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ij.getInstance().logSource,log_event:n},e).catch((function(){wj=Object(hw.g)(e,wj),_j--,ZN.info("Tries left: "+_j+"."),t(bj)}))):t(bj)}),e)}(5500),Cj=!0),gj().then(Dj,Dj))})).catch((function(t){ZN.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new Aj(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return ij.getInstance().instrumentationEnabled},set:function(t){ij.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return ij.getInstance().dataCollectionEnabled},set:function(t){ij.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new kR.a("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw XN.create("FB not default");if("undefined"==typeof window)throw XN.create("no window");return function(t){BN=t}(window),ij.getInstance().firebaseAppInstance=t,ij.getInstance().installationsService=e,new Nj(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance",qN)}(uy.a);var jj,Mj="https://www.googletagmanager.com/gtag/js",Lj=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),Fj=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),Uj=new ly.b("@firebase/analytics");function Vj(t,e,n,r,i,o){return Object(hw.b)(this,void 0,void 0,(function(){var s,a,c,u;return Object(hw.d)(this,(function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(c=a.find((function(t){return t.measurementId===i})))?[4,e[c.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return u=l.sent(),Uj.error(u),[3,8];case 8:return t(Lj.CONFIG,i,o),[2]}}))}))}function Bj(t,e,n,r,i){return Object(hw.b)(this,void 0,void 0,(function(){var o,s,a,c,u,l,h;return Object(hw.d)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),c=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},u=0,l=s;u<l.length&&"break"!==c(l[u]);u++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(Lj.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),Uj.error(h),[3,5];case 5:return[2]}}))}))}var qj=((jj={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",jj["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",jj["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",jj["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jj["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jj["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",jj["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",jj["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',jj["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',jj),Hj=new hy.b("analytics","Analytics",qj),zj=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function Kj(t){var e;return Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(hw.d)(this,(function(c){switch(c.label){case 0:return n=t.appId,r={method:"GET",headers:(u=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":u}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=c.sent()).status||304===o.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.json()];case 3:return a=c.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw Hj.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}var u}))}))}function Gj(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=zj),Object(hw.b)(this,void 0,void 0,(function(){var e,s,a,c,u,l,h;return Object(hw.d)(this,(function(d){switch(d.label){case 0:e=t.appId,s=t.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Wj(n,i)];case 2:return d.sent(),[3,4];case 3:if(a=d.sent(),s)return Uj.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return d.trys.push([4,6,,7]),[4,Kj(t)];case 5:return c=d.sent(),r.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof hy.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u=d.sent())){if(r.deleteThrottleMetadata(e),s)return Uj.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:s}];throw u}return l=503===Number(u.customData.httpStatus)?Object(hy.j)(o,r.intervalMillis,30):Object(hy.j)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),Uj.debug("Calling attemptFetch again in "+l+" millis"),[2,Gj(t,h,n,r)];case 7:return[2]}}))}))}function Wj(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Hj.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var $j,Qj,Yj=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),Jj={},Xj=[],Zj={},tM="dataLayer",eM="gtag",nM=!1;function rM(t){if(nM)throw Hj.create("already-initialized");t.dataLayerName&&(tM=t.dataLayerName),t.gtagName&&(eM=t.gtagName)}var iM="analytics";function oM(){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){switch(t.label){case 0:if(Object(hy.s)())return[2,!1];if(!Object(hy.e)())return[2,!1];if(!Object(hy.w)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(hy.N)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new kR.a(iM,(function(t){return function(t,e){!function(){var t=[];if(Object(hy.s)()&&t.push("This is a browser extension environment."),Object(hy.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Hj.create("invalid-analytics-context",{errorInfo:e});Uj.warn(n.message)}}();var n=t.options.appId;if(!n)throw Hj.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Hj.create("no-api-key");Uj.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Jj[n])throw Hj.create("already-exists",{id:n});if(!nM){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Mj))return r}return null})()||function(t){var e=document.createElement("script");e.src=Mj+"?l="+t,e.async=!0,document.head.appendChild(e)}(tM),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(tM);var r=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Object(hw.b)(this,void 0,void 0,(function(){var a;return Object(hw.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),i!==Lj.EVENT?[3,2]:[4,Bj(t,e,n,o,s)];case 1:return c.sent(),[3,5];case 2:return i!==Lj.CONFIG?[3,4]:[4,Vj(t,e,n,r,o,s)];case 3:return c.sent(),[3,5];case 4:t(Lj.SET,o),c.label=5;case 5:return[3,7];case 6:return a=c.sent(),Uj.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Jj,Xj,Zj,tM,eM);Qj=r.wrappedGtag,$j=r.gtagCore,nM=!0}return Jj[n]=function(t,e,n,r,i){return Object(hw.b)(this,void 0,void 0,(function(){var o,s,a,c,u,l,h;return Object(hw.d)(this,(function(d){switch(d.label){case 0:return(o=function(t,e,n){return void 0===e&&(e=zj),Object(hw.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c=this;return Object(hw.d)(this,(function(u){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw Hj.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw Hj.create("no-api-key")}return s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Yj,setTimeout((function(){return Object(hw.b)(c,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){return a.abort(),[2]}))}))}),6e4),[2,Gj({appId:r,apiKey:i,measurementId:o},s,a,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Uj.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Uj.error(t)})),e.push(o),s=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t;return Object(hw.d)(this,(function(e){switch(e.label){case 0:return Object(hy.w)()?[3,1]:(Uj.warn(Hj.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(hy.N)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Uj.warn(Hj.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,s])];case 1:return a=d.sent(),c=a[0],u=a[1],i("js",new Date),(h={}).origin="firebase",h.update=!0,l=h,null!=u&&(l.firebase_id=u),i(Lj.CONFIG,c.measurementId,l),[2,c.measurementId]}}))}))}(t,Xj,Zj,e,$j),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return Object(hw.b)(this,void 0,void 0,(function(){var o,s;return Object(hw.d)(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(Lj.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Object(hw.a)(Object(hw.a)({},r),{send_to:o}),t(Lj.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(Qj,Jj[n],t,e,r).catch((function(t){return Uj.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(hw.b)(this,void 0,void 0,(function(){var i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Lj.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Lj.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Qj,Jj[n],t,e).catch((function(t){return Uj.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Object(hw.b)(this,void 0,void 0,(function(){var i;return Object(hw.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Lj.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Lj.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Qj,Jj[n],t,e).catch((function(t){return Uj.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Object(hw.b)(this,void 0,void 0,(function(){var i,o,s,a,c;return Object(hw.d)(this,(function(u){switch(u.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)i["user_properties."+(a=s[o])]=n[a];return t(Lj.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=u.sent(),t(Lj.CONFIG,c,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}}))}))})(Qj,Jj[n],t,e).catch((function(t){return Uj.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(Jj[n],t).catch((function(t){return Uj.error(t)}))},INTERNAL:{delete:function(){return delete Jj[n],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:rM,EventName:Fj,isSupported:oM})),t.INTERNAL.registerComponent(new kR.a("analytics-internal",(function(t){try{return{logEvent:t.getProvider(iM).getImmediate().logEvent}}catch(OR){throw Hj.create("interop-component-reg-failed",{reason:OR})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(uy.a);var sM,aM=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(hw.d)(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),cM=((sM={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",sM["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",sM["registration-api-key"]="Undefined API key. Check Firebase app initialization.",sM["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",sM["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",sM["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",sM["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",sM["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",sM["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",sM["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',sM["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',sM["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",sM["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",sM),uM=new hy.b("remoteconfig","Remote Config",cM),lM=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u,l,h,d,f,p,m,g;return Object(hw.d)(this,(function(y){switch(y.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=y.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===v&&(v=navigator),v.languages&&v.languages[0]||v.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},s=fetch(r,o),a=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),y.label=2;case 2:return y.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return y.sent(),[4,s];case 4:return c=y.sent(),[3,6];case 5:throw u=y.sent(),l="fetch-client-network","AbortError"===u.name&&(l="fetch-timeout"),uM.create(l,{originalErrorMessage:u.message});case 6:if(h=c.status,d=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];m=void 0,y.label=7;case 7:return y.trys.push([7,9,,10]),[4,c.json()];case 8:return m=y.sent(),[3,10];case 9:throw g=y.sent(),uM.create("fetch-client-parse",{originalErrorMessage:g.message});case 10:f=m.entries,p=m.state,y.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw uM.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:d,config:f}]}var v}))}))},t}(),hM=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),dM=["1","true","t","yes","y","on"],fM=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&dM.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),pM=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=ly.a.DEBUG;break;case"silent":this._logger.logLevel=ly.a.SILENT;break;default:this._logger.logLevel=ly.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e,n;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(hw.d)(this,(function(i){switch(i.label){case 0:t=new hM,setTimeout((function(){return Object(hw.b)(r,void 0,void 0,(function(){return Object(hw.d)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof hy.c&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return Object(hw.b)(this,void 0,void 0,(function(){return Object(hw.d)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(hw.a)(Object(hw.a)({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new fM("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new fM("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new fM("static"))},t}();function mM(t,e){var n=t.target.error||void 0;return uM.create(e,{originalErrorMessage:n&&n.message})}var gM="app_namespace_store",yM=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(mM(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(gM,{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n=this;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([gM],"readonly").objectStore(gM),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(mM(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(OR){i(uM.create("storage-get",{originalErrorMessage:OR&&OR.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Object(hw.b)(this,void 0,void 0,(function(){var n,r=this;return Object(hw.d)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction([gM],"readwrite").objectStore(gM),a=r.createCompositeKey(t);try{var c=s.put({compositeKey:a,value:e});c.onerror=function(t){o(mM(t,"storage-set"))},c.onsuccess=function(){i()}}catch(OR){o(uM.create("storage-set",{originalErrorMessage:OR&&OR.message}))}}))]}}))}))},t.prototype.delete=function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e,n=this;return Object(hw.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([gM],"readwrite").objectStore(gM),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(mM(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(OR){i(uM.create("storage-delete",{originalErrorMessage:OR&&OR.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),vM=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(hw.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o;return Object(hw.d)(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function bM(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(uM.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var _M,wM=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(hw.b)(this,void 0,void 0,(function(){var e;return Object(hw.d)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(hw.b)(this,void 0,void 0,(function(){var e,i,o;return Object(hw.d)(this,(function(s){switch(s.label){case 0:return[4,bM(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof hy.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(hy.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),CM="@firebase/remote-config";(_M=uy.a).INTERNAL.registerComponent(new kR.a("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw uM.create("registration-window");var i=n.options,o=i.projectId,s=i.apiKey,a=i.appId;if(!o)throw uM.create("registration-project-id");if(!s)throw uM.create("registration-api-key");if(!a)throw uM.create("registration-app-id");var c=new yM(a,n.name,e=e||"firebase"),u=new vM(c),l=new ly.b(CM);l.logLevel=ly.a.ERROR;var h=new lM(r,_M.SDK_VERSION,e,o,s,a),d=new wM(h,c),f=new aM(d,c,u,l),p=new pM(n,f,u,c,l);return p.ensureInitialized(),p}),"PUBLIC").setMultipleInstances(!0)),_M.registerVersion(CM,"0.1.30"),uy.a.registerVersion("firebase","8.2.2","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),uy.a.registerVersion("firebase","8.2.2");let EM=(()=>{class t{constructor(t){this.db=t}save(t){this.db.object("/users/"+t.uid).update({name:t.displayName,email:t.email})}get(t){return this.db.object("/users/"+t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(xc))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),OM=(()=>{class t{constructor(t,e,n){this.userService=t,this.afAuth=e,this.route=n,this.user$=this.afAuth.authState}login(){let t=this.route.snapshot.queryParamMap.get("returnUrl")||"/";localStorage.setItem("returnUrl",t),this.afAuth.signInWithRedirect(new uy.a.auth.GoogleAuthProvider)}logout(){this.afAuth.signOut()}get appUser$(){return this.user$.pipe(Pi(t=>t?this.userService.get(t.uid).valueChanges():Object(Wr.a)(null)))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(EM),r.cc(nc),r.cc(rs))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),SM=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}canActivate(t,e){return this.auth.user$.pipe(Object(pi.a)(t=>!!t||(this.router.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(OM),r.cc(va))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function TM(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(OR){o(OR)}}function a(t){try{c(r.throw(t))}catch(OR){o(OR)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}class IM{constructor(t){Object.assign(this,t)}get totalPrice(){return this.price*this.quantity}}class kM{constructor(t){this.itemMap=t,this.items=[],this.itemMap=t||{};for(let e in t)this.items.push(new IM(Object.assign(Object.assign({},t[e]),{key:e})))}getQuantity(t){for(let n in this.itemMap)console.log(n);let e=this.itemMap[t.key];return e?e.quantity:0}get totalItemCount(){let t=0;for(let e in this.items)t+=this.items[e].quantity;return t}get totalPrice(){let t=0;for(let e in this.items)t+=this.items[e].totalPrice;return t}}let xM=(()=>{class t{constructor(t){this.db=t}getCart(){return TM(this,void 0,void 0,(function*(){let t=yield this.getOrCreateId();return this.db.object("/shopping-carts/"+t).valueChanges().pipe(Object(pi.a)(t=>new kM(t.items)))}))}addToCart(t){return TM(this,void 0,void 0,(function*(){this.updateItem(t,1)}))}removeFromCart(t){return TM(this,void 0,void 0,(function*(){this.updateItem(t,-1)}))}clearCart(){return TM(this,void 0,void 0,(function*(){let t=yield this.getOrCreateId();this.db.object("/shopping-carts/"+t+"/items").remove()}))}getItem(t,e){return this.db.object("/shopping-carts/"+t+"/items/"+e)}create(){return this.db.list("/shopping-carts/").push({dateCreated:(new Date).getTime()})}getOrCreateId(){return TM(this,void 0,void 0,(function*(){let t=localStorage.getItem("cartId");if(t)return t;let e=yield this.create();return localStorage.setItem("cartId",e.key),e.key}))}insertInCart(t){return TM(this,void 0,void 0,(function*(){let e=yield this.getOrCreateId(),n=this.getItem(e,t.key);n.valueChanges().pipe(Mi(1)).subscribe(()=>{n.set({title:t.title,imageUrl:t.imageUrl,price:t.price,quantity:1})})}))}updateItem(t,e){return TM(this,void 0,void 0,(function*(){let n=yield this.getOrCreateId(),r=this.getItem(n,t.key);r.valueChanges().pipe(Mi(1)).subscribe(n=>{let i=n.quantity+e;0===i?r.remove():r.update({title:t.title,imageUrl:t.imageUrl,price:t.price,quantity:i})})}))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(xc))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),AM=(()=>{class t{constructor(t,e){this.db=t,this.shoppinCartService=e}placeOrder(t){return TM(this,void 0,void 0,(function*(){let e=this.db.list("/orders").push(t);return this.shoppinCartService.clearCart(),e}))}getOrder(t){return this.db.object("/orders/"+t).valueChanges()}getOrderByUser(t){return this.db.list("/orders",e=>e.orderByChild("userId").equalTo(t)).snapshotChanges().pipe(Object(pi.a)(t=>t.map(t=>({key:t.payload.key,datePlaced:t.payload.val().datePlaced,items:t.payload.val().items,shipping:t.payload.val().shipping,userId:t.payload.val().userId}))))}getOrders(){return this.db.list("/orders").snapshotChanges().pipe(Object(pi.a)(t=>t.map(t=>({key:t.payload.key,datePlaced:t.payload.val().datePlaced,items:t.payload.val().items,shipping:t.payload.val().shipping,userId:t.payload.val().userId}))))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(xc),r.cc(xM))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),RM=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[AM,OM,SM,EM,xM],imports:[[It,ol,Vp,Sp,Gm,sl,Ac,rc,cy],It,ol,Vp,Sp,Gm,sl,Ac,rc,cy]}),t})();const DM=function(t){return["/order-details/",t]};function PM(t,e){if(1&t&&(r.Ub(0,"tr"),r.Ub(1,"td"),r.Ic(2),r.Tb(),r.Ub(3,"td"),r.Ic(4),r.kc(5,"date"),r.Tb(),r.Ub(6,"td"),r.Ub(7,"a",3),r.Ic(8,"Details"),r.Tb(),r.Tb(),r.Tb()),2&t){const t=e.$implicit,n=r.jc();r.Bb(2),r.Jc(t.shipping.name),r.Bb(2),r.Jc(r.mc(5,3,t.datePlaced,n.mediumDate)),r.Bb(3),r.qc("routerLink",r.uc(6,DM,t.key))}}let NM=(()=>{class t{constructor(t){this.orderService=t,this.orders$=this.orderService.getOrders()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(AM))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-admin-orders"]],decls:11,vars:3,consts:[[1,"table"],[1,"font-weight-bold"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,e){1&t&&(r.Ub(0,"table",0),r.Ub(1,"thead"),r.Ub(2,"tr",1),r.Ub(3,"td"),r.Ic(4,"Customer"),r.Tb(),r.Ub(5,"td"),r.Ic(6,"Date"),r.Tb(),r.Pb(7,"td"),r.Tb(),r.Tb(),r.Ub(8,"tbody"),r.Gc(9,PM,9,8,"tr",2),r.kc(10,"async"),r.Tb(),r.Tb()),2&t&&(r.Bb(9),r.qc("ngForOf",r.lc(10,1,e.orders$)))},directives:[lt,_a],pipes:[Ot,St],styles:[""]}),t})(),jM=(()=>{class t{constructor(t,e){this.router=t,this.db=e}getAll(){return this.db.list("/products").snapshotChanges().pipe(Object(pi.a)(t=>t.map(t=>({key:t.payload.key,title:t.payload.val().title,price:t.payload.val().price,category:t.payload.val().category,imageUrl:t.payload.val().imageUrl}))))}getProduct(t){return this.db.object("/products/"+t).valueChanges()}update(t,e){return this.db.object("/products/"+t).update(e)}save(t){this.db.list("/products").push(t),this.router.navigate(["/admin/products"])}delete(t){this.db.object("/products/"+t).remove()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(va),r.cc(xc))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function MM(t,e){1&t&&(r.Ub(0,"th",17),r.Ic(1," Image "),r.Tb())}function LM(t,e){if(1&t&&(r.Ub(0,"td",18),r.Pb(1,"img",19),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.qc("src",t.imageUrl,r.Bc)}}function FM(t,e){1&t&&(r.Ub(0,"th",20),r.Ic(1," Name "),r.Tb())}function UM(t,e){if(1&t&&(r.Ub(0,"td",18),r.Ic(1),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.Kc(" ",t.title," ")}}function VM(t,e){1&t&&(r.Ub(0,"th",20),r.Ic(1," Price "),r.Tb())}function BM(t,e){if(1&t&&(r.Ub(0,"td",18),r.Ic(1),r.kc(2,"currency"),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.Kc(" ",r.nc(2,1,t.price,"USD",!0)," ")}}function qM(t,e){1&t&&r.Pb(0,"th",21)}const HM=function(t){return["/admin/products/",t]};function zM(t,e){if(1&t&&(r.Ub(0,"td",18),r.Ub(1,"a",22),r.Ic(2,"Edit"),r.Tb(),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.qc("routerLink",r.uc(1,HM,t.key))}}function KM(t,e){1&t&&r.Pb(0,"tr",23)}function GM(t,e){1&t&&r.Pb(0,"tr",24)}const WM=function(){return[5,10,20]};let $M=(()=>{class t{constructor(t){this.pS=t,this.displayedColumns=["imageUrl","title","price","action"],this.subscription=this.pS.getAll().subscribe(t=>{this.dataSource=new Wm(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}search(t){this.dataSource.filter=t.trim().toLowerCase()}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(jM))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-admin-products"]],viewQuery:function(t,e){var n;1&t&&(r.Mc(Op,!0),r.Mc(Rp,!0)),2&t&&(r.xc(n=r.gc())&&(e.paginator=n.first),r.xc(n=r.gc())&&(e.sort=n.first))},decls:24,vars:5,consts:[["routerLink","/admin/products/new",1,"btn","btn-dark"],["matInput","","type","text","placeholder","Search...",1,"form-control","search",3,"keyup"],["query",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table","table-striped","table-hover",3,"dataSource"],["table",""],["matColumnDef","imageUrl"],["class","title","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["class","title","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","price"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","",1,"title"],["mat-cell",""],["width","40","height","40",3,"src"],["mat-header-cell","","mat-sort-header","",1,"title"],["mat-header-cell",""],[3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",0),r.Ic(1," Add Product\n"),r.Tb(),r.Pb(2,"br"),r.Ub(3,"p"),r.Ub(4,"input",1,2),r.fc("keyup",(function(){r.Ac(t);const n=r.yc(5);return e.search(n.value)})),r.Tb(),r.Tb(),r.Ub(6,"div",3),r.Ub(7,"table",4,5),r.Sb(9,6),r.Gc(10,MM,2,0,"th",7),r.Gc(11,LM,2,1,"td",8),r.Rb(),r.Sb(12,9),r.Gc(13,FM,2,0,"th",10),r.Gc(14,UM,2,1,"td",8),r.Rb(),r.Sb(15,11),r.Gc(16,VM,2,0,"th",10),r.Gc(17,BM,3,5,"td",8),r.Rb(),r.Sb(18,12),r.Gc(19,qM,1,0,"th",13),r.Gc(20,zM,3,3,"td",8),r.Rb(),r.Gc(21,KM,1,0,"tr",14),r.Gc(22,GM,1,0,"tr",15),r.Tb(),r.Pb(23,"mat-paginator",16),r.Tb()}2&t&&(r.Bb(7),r.qc("dataSource",e.dataSource),r.Bb(14),r.qc("matHeaderRowDef",e.displayedColumns),r.Bb(1),r.qc("matRowDefColumns",e.displayedColumns),r.Bb(1),r.qc("pageSizeOptions",r.tc(4,WM)))},directives:[ba,Tm,Rp,Dm,Am,km,Fm,Vm,Op,Nm,Mm,Up,_a,qm,zm],pipes:[Tt],styles:["p[_ngcontent-%COMP%]{padding-top:3%}.btn[_ngcontent-%COMP%]{float:right}table[_ngcontent-%COMP%]{width:100%}.title[_ngcontent-%COMP%]{font-size:large;font-style:bold}"]}),t})(),QM=(()=>{class t{constructor(t){this.db=t}getAll(){return this.db.list("/categories",t=>t.orderByChild("name")).snapshotChanges().pipe(Object(pi.a)(t=>t.map(t=>({key:t.payload.key,name:t.payload.val().name}))))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(xc))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function YM(t,e){1&t&&(r.Ub(0,"div",18),r.Ic(1,"Name required"),r.Tb())}function JM(t,e){1&t&&(r.Ub(0,"div"),r.Ic(1,"Price is required"),r.Tb())}function XM(t,e){1&t&&(r.Ub(0,"div"),r.Ic(1,"Price cannot be 0 or less"),r.Tb())}function ZM(t,e){if(1&t&&(r.Ub(0,"div",18),r.Gc(1,JM,2,0,"div",19),r.Gc(2,XM,2,0,"div",19),r.Tb()),2&t){const t=r.jc();r.Bb(1),r.qc("ngIf",t.price.errors.required),r.Bb(1),r.qc("ngIf",t.price.errors.min)}}function tL(t,e){if(1&t&&(r.Ub(0,"option",20),r.Ic(1),r.Tb()),2&t){const t=e.$implicit;r.qc("value",t.key),r.Bb(1),r.Kc(" ",t.name," ")}}function eL(t,e){1&t&&(r.Ub(0,"div",18),r.Ic(1,"Category required"),r.Tb())}function nL(t,e){1&t&&(r.Ub(0,"div"),r.Ic(1,"Image url is required"),r.Tb())}function rL(t,e){1&t&&(r.Ub(0,"div"),r.Ic(1,"Invalid Url"),r.Tb())}function iL(t,e){if(1&t&&(r.Ub(0,"div",18),r.Gc(1,nL,2,0,"div",19),r.Gc(2,rL,2,0,"div",19),r.Tb()),2&t){const t=r.jc();r.Bb(1),r.qc("ngIf",t.imageUrl.errors.required),r.Bb(1),r.qc("ngIf",t.imageUrl.errors.pattern)}}function oL(t,e){if(1&t&&r.Pb(0,"img",26),2&t){const t=r.jc(2);r.qc("src",t.imageUrl.value,r.Bc)}}function sL(t,e){if(1&t&&(r.Ub(0,"h5",27),r.Ic(1),r.Tb()),2&t){const t=r.jc(2);r.Bb(1),r.Jc(t.title.value)}}function aL(t,e){if(1&t&&(r.Ub(0,"p",28),r.Ic(1),r.kc(2,"currency"),r.Tb()),2&t){const t=r.jc(2);r.Bb(1),r.Jc(r.nc(2,1,t.price.value,"USD",!0))}}function cL(t,e){if(1&t&&(r.Ub(0,"div",21),r.Gc(1,oL,1,1,"img",22),r.Ub(2,"div",23),r.Gc(3,sL,2,1,"h5",24),r.Gc(4,aL,3,5,"p",25),r.Tb(),r.Tb()),2&t){const t=r.jc();r.Bb(1),r.qc("ngIf",t.imageUrl),r.Bb(2),r.qc("ngIf",t.title),r.Bb(1),r.qc("ngIf",t.price)}}let uL=(()=>{class t{constructor(t,e,n,r){this.router=t,this.route=e,this.productService=n,this.categoryService=r,this.urlRegex=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i,this.productForm=new Vu({title:new Uu("",Jc.required),price:new Uu("",[Jc.required,Jc.min(1)]),category:new Uu("",Jc.required),imageUrl:new Uu("",[Jc.required,Jc.pattern(this.urlRegex)])}),this.categories$=this.categoryService.getAll(),this.id=this.route.snapshot.paramMap.get("id"),this.subscription=this.productService.getProduct(this.id).subscribe(t=>this.product=t)}ngOnInit(){}ngOnDestroy(){this.subscription.unsubscribe()}get title(){return this.productForm.get("title")}get price(){return this.productForm.get("price")}get category(){return this.productForm.get("category")}get imageUrl(){return this.productForm.get("imageUrl")}save(t){this.productService.save(t),this.router.navigate(["/admin/products"])}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(va),r.Ob(rs),r.Ob(jM),r.Ob(QM))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-product-form"]],decls:32,vars:10,consts:[[1,"row"],[1,"col-md-6"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","title"],["formControlName","title","id","title","type","text",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","price"],[1,"input-group-prepend"],[1,"input-group-text"],["formControlName","price","name","price","id","price","type","number",1,"form-control"],["for","category"],["formControlName","category","name","category","name","category","id","category",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","imageUrl"],["formControlName","imageUrl","name","imageUrl","id","imageUrl",1,"form-control"],[1,"btn","btn-dark",3,"disabled"],["class","card","style","width: 18rem;",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[1,"card",2,"width","18rem"],["class","card-img-top",3,"src",4,"ngIf"],[1,"card-body"],["class","card-title",4,"ngIf"],["class","card-text",4,"ngIf"],[1,"card-img-top",3,"src"],[1,"card-title"],[1,"card-text"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"form",2),r.fc("ngSubmit",(function(){return e.save(e.productForm.value)})),r.Ub(3,"div",3),r.Ub(4,"label",4),r.Ic(5,"Name"),r.Tb(),r.Pb(6,"input",5),r.Gc(7,YM,2,0,"div",6),r.Tb(),r.Ub(8,"div",3),r.Ub(9,"label",7),r.Ic(10,"Price"),r.Tb(),r.Ub(11,"div",8),r.Ub(12,"span",9),r.Ic(13,"$"),r.Tb(),r.Pb(14,"input",10),r.Tb(),r.Gc(15,ZM,3,2,"div",6),r.Tb(),r.Ub(16,"div",3),r.Ub(17,"label",11),r.Ic(18,"Category"),r.Tb(),r.Ub(19,"select",12),r.Gc(20,tL,2,2,"option",13),r.kc(21,"async"),r.Tb(),r.Gc(22,eL,2,0,"div",6),r.Tb(),r.Ub(23,"div",3),r.Ub(24,"label",14),r.Ic(25,"Image Url"),r.Tb(),r.Pb(26,"input",15),r.Gc(27,iL,3,2,"div",6),r.Tb(),r.Ub(28,"button",16),r.Ic(29,"Save"),r.Tb(),r.Tb(),r.Tb(),r.Ub(30,"div",1),r.Gc(31,cL,5,3,"div",17),r.Tb(),r.Tb()),2&t&&(r.Bb(2),r.qc("formGroup",e.productForm),r.Bb(5),r.qc("ngIf",e.title.touched&&!e.title.valid),r.Bb(8),r.qc("ngIf",e.price.touched&&!e.price.valid),r.Bb(5),r.qc("ngForOf",r.lc(21,8,e.categories$)),r.Bb(2),r.qc("ngIf",e.category.touched&&!e.category.valid),r.Bb(5),r.qc("ngIf",e.imageUrl.touched&&!e.imageUrl.valid),r.Bb(1),r.qc("disabled",!e.productForm.valid),r.Bb(3),r.qc("ngIf",e.title.value))},directives:[$u,Kc,Ju,Fc,zc,Zu,dt,iu,du,lt,fu,yu],pipes:[Ot,Tt],styles:[".btn-danger[_ngcontent-%COMP%]{float:right}"]}),t})(),lL=(()=>{class t{constructor(t,e){this.auth=t,this.userService=e}canActivate(){return this.auth.appUser$.pipe(Object(pi.a)(t=>t.isAdmin))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(OM),r.cc(EM))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hL(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",8),r.Ub(1,"label",9),r.Ic(2,"Name"),r.Tb(),r.Ub(3,"input",10),r.fc("ngModelChange",(function(e){return r.Ac(t),r.jc().product.title=e})),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.Bb(3),r.qc("ngModel",t.product.title)}}function dL(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",8),r.Ub(1,"label",11),r.Ic(2,"Price"),r.Tb(),r.Ub(3,"div",12),r.Ub(4,"span",13),r.Ic(5,"$"),r.Tb(),r.Ub(6,"input",14),r.fc("ngModelChange",(function(e){return r.Ac(t),r.jc().product.price=e})),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.Bb(6),r.qc("ngModel",t.product.price)}}function fL(t,e){if(1&t&&(r.Ub(0,"option",18),r.Ic(1),r.Tb()),2&t){const t=e.$implicit;r.qc("value",t.key),r.Bb(1),r.Kc(" ",t.name," ")}}function pL(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",8),r.Ub(1,"label",15),r.Ic(2,"Category"),r.Tb(),r.Ub(3,"select",16),r.fc("ngModelChange",(function(e){return r.Ac(t),r.jc().product.category=e})),r.Gc(4,fL,2,2,"option",17),r.kc(5,"async"),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.Bb(3),r.qc("ngModel",t.product.category),r.Bb(1),r.qc("ngForOf",r.lc(5,2,t.categories$))}}function mL(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",8),r.Ub(1,"label",19),r.Ic(2,"Image Url"),r.Tb(),r.Ub(3,"input",20),r.fc("ngModelChange",(function(e){return r.Ac(t),r.jc().product.imageUrl=e})),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.Bb(3),r.qc("ngModel",t.product.imageUrl)}}function gL(t,e){if(1&t&&(r.Ub(0,"div",1),r.Ub(1,"div",21),r.Pb(2,"img",22),r.Ub(3,"div",23),r.Ub(4,"h5",24),r.Ic(5),r.Tb(),r.Ub(6,"p",25),r.Ic(7),r.kc(8,"currency"),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.jc();r.Bb(2),r.qc("src",t.product.imageUrl,r.Bc),r.Bb(3),r.Jc(t.product.title),r.Bb(2),r.Jc(r.nc(8,3,t.product.price,"USD",!0))}}let yL=(()=>{class t{constructor(t,e,n,r){this.productService=t,this.route=e,this.router=n,this.categoryService=r,this.categories$=this.categoryService.getAll(),this.id=this.route.snapshot.paramMap.get("id"),this.subscription=this.productService.getProduct(this.id).subscribe(t=>this.product=t)}ngOnInit(){}save(t){this.productService.update(this.id,t),this.router.navigate(["/admin/products"])}delete(){confirm("Are yout sure you want to delete this product?")&&(this.productService.delete(this.id),this.router.navigate(["/admin/products"]))}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(jM),r.Ob(rs),r.Ob(va),r.Ob(QM))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-edit-form"]],decls:13,vars:5,consts:[[1,"row"],[1,"col-md-6"],[3,"ngSubmit"],["f","ngForm"],["class","form-group",4,"ngIf"],[1,"btn","btn-dark"],["type","button",1,"btn","btn-danger",3,"click"],["class","col-md-6",4,"ngIf"],[1,"form-group"],["for","title"],["name","title","id","title","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","price"],[1,"input-group-prepend"],[1,"input-group-text"],["name","price","id","price","type","number",1,"form-control",3,"ngModel","ngModelChange"],["for","category"],["name","category","name","category","id","category",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","imageUrl"],["name","imageUrl","id","imageUrl",1,"form-control",3,"ngModel","ngModelChange"],[1,"card",2,"width","18rem"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"form",2,3),r.fc("ngSubmit",(function(){r.Ac(t);const n=r.yc(3);return e.save(n.value)})),r.Gc(4,hL,4,1,"div",4),r.Gc(5,dL,7,1,"div",4),r.Gc(6,pL,6,4,"div",4),r.Gc(7,mL,4,1,"div",4),r.Ub(8,"button",5),r.Ic(9,"Update"),r.Tb(),r.Ub(10,"button",6),r.fc("click",(function(){return e.delete()})),r.Ic(11,"Delete"),r.Tb(),r.Tb(),r.Tb(),r.Gc(12,gL,9,7,"div",7),r.Tb()}2&t&&(r.Bb(4),r.qc("ngIf",e.product),r.Bb(1),r.qc("ngIf",e.product),r.Bb(1),r.qc("ngIf",e.product),r.Bb(1),r.qc("ngIf",e.product),r.Bb(5),r.qc("ngIf",e.product))},directives:[$u,Kc,zu,dt,Fc,zc,Wu,iu,du,lt,fu,yu],pipes:[Ot,Tt],styles:[".btn-danger[_ngcontent-%COMP%]{float:right}"]}),t})();function vL(t,e){if(1&t&&(r.Ub(0,"ul",7),r.Ub(1,"li",8),r.Ic(2),r.Ub(3,"div",6),r.Ic(4),r.kc(5,"currency"),r.Tb(),r.Tb(),r.Tb()),2&t){const t=e.$implicit;r.Bb(2),r.Lc(" ",t.quantity," x ",t.product.title," "),r.Bb(2),r.Kc(" ",r.nc(5,3,t.totalPrice,"USD",!0)," ")}}function bL(t,e){if(1&t&&(r.Ub(0,"div",2),r.Ub(1,"p",3),r.Ic(2),r.kc(3,"date"),r.Tb(),r.Gc(4,vL,6,7,"ul",4),r.Ub(5,"div",5),r.Ic(6," Total order price "),r.Ub(7,"div",6),r.Ic(8),r.kc(9,"currency"),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.jc();r.Bb(2),r.Kc("Order placed on ",r.mc(3,3,t.order.datePlaced,t.mediumDate),""),r.Bb(2),r.qc("ngForOf",t.order.items),r.Bb(4),r.Kc(" ",r.nc(9,6,t.order.orderPrice,"USD",!0)," ")}}function _L(t,e){if(1&t&&(r.Ub(0,"div",2),r.Ub(1,"ul",7),r.Ub(2,"li",5),r.Ic(3," Shipping information "),r.Tb(),r.Ub(4,"li",5),r.Ic(5," Name : "),r.Ub(6,"div",9),r.Ic(7),r.Tb(),r.Tb(),r.Ub(8,"li",5),r.Ic(9," Address1 : "),r.Ub(10,"div",9),r.Ic(11),r.Tb(),r.Tb(),r.Ub(12,"li",5),r.Ic(13," Address2 : "),r.Ub(14,"div",9),r.Ic(15),r.Tb(),r.Tb(),r.Ub(16,"li",5),r.Ic(17," City : "),r.Ub(18,"div",9),r.Ic(19),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.jc();r.Bb(7),r.Kc(" ",t.order.shipping.name," "),r.Bb(4),r.Kc(" ",t.order.shipping.addressLine1," "),r.Bb(4),r.Kc(" ",t.order.shipping.addressLine2," "),r.Bb(4),r.Kc(" ",t.order.shipping.city," ")}}let wL=(()=>{class t{constructor(t,e){this.route=t,this.orderService=e,this.id=this.route.snapshot.paramMap.get("id"),this.subscription=this.orderService.getOrder(this.id).subscribe(t=>this.order=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(rs),r.Ob(AM))},t.\u0275cmp=r.Ib({type:t,selectors:[["order-details"]],decls:3,vars:2,consts:[[1,"row"],["class","col-md-6",4,"ngIf"],[1,"col-md-6"],[1,"font-weight-bold"],["class","list-group list-group-flush",4,"ngFor","ngForOf"],[1,"list-group-item","font-weight-bold"],[1,"float-right"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"float-right","font-italic","font-weight-normal"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Gc(1,bL,10,10,"div",1),r.Gc(2,_L,20,4,"div",1),r.Tb()),2&t&&(r.Bb(1),r.qc("ngIf",e.order),r.Bb(1),r.qc("ngIf",e.order))},directives:[dt,lt],pipes:[St,Tt],styles:[".thumbnail[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:100%;background-size:cover}"]}),t})(),CL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[lL],imports:[[RM,Da.forChild([{path:"admin/products/new",component:uL},{path:"admin/products/:id",component:yL},{path:"admin/products",component:$M},{path:"admin/orders",component:NM},{path:"order-details/:id",component:wL}]),Gr]]}),t})();const EL=[];let OL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Da.forRoot(EL)],Da]}),t})();function SL(t,e){if(1&t&&(r.Ub(0,"span",20),r.Ic(1),r.Tb()),2&t){const t=e.ngIf;r.Bb(1),r.Jc(t.totalItemCount)}}let TL=(()=>{class t{constructor(t,e,n){this.authService=t,this.router=e,this.shoppingCartService=n}ngOnInit(){return TM(this,void 0,void 0,(function*(){this.authService.appUser$.subscribe(t=>this.appUser=t),this.cart$=yield this.shoppingCartService.getCart()}))}logout(){this.authService.logout(),this.router.navigate(["/login"])}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(OM),r.Ob(va),r.Ob(xM))},t.\u0275cmp=r.Ib({type:t,selectors:[["navbar"]],decls:26,vars:3,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-dark","fixed-top"],[1,"container"],["routerLink","/",1,"navbar-brand"],["aria-hidden","true",1,"fa","fa-leaf"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLink","/shopping-cart",1,"nav-link"],["aria-hidden","true",1,"fa","fa-shopping-cart"],["class","badge badge-warning badge-pill",4,"ngIf"],[1,"navbar-nav","menu"],["ngbDropdown","",1,"nav-item","dropdown","show"],["ngbDropdownToggle","","id","dropdown01","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","dropdown01",1,"dropdown-menu"],["ngbDropdownItem","","routerLink","/my-orders",1,"dropdown-item"],["ngbDropdownItem","","routerLink","/admin/products",1,"dropdown-item"],["ngbDropdownItem","","routerLink","/admin/orders",1,"dropdown-item"],["ngbDropdownItem","",1,"dropdown-item",3,"click"],[1,"badge","badge-warning","badge-pill"]],template:function(t,e){1&t&&(r.Ub(0,"nav",0),r.Ub(1,"div",1),r.Ub(2,"a",2),r.Pb(3,"i",3),r.Tb(),r.Ub(4,"button",4),r.Pb(5,"span",5),r.Tb(),r.Ub(6,"div",6),r.Ub(7,"ul",7),r.Ub(8,"li",8),r.Ub(9,"a",9),r.Pb(10,"i",10),r.Gc(11,SL,2,1,"span",11),r.kc(12,"async"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(13,"ul",12),r.Ub(14,"li",13),r.Ub(15,"a",14),r.Ic(16,"Menu"),r.Tb(),r.Ub(17,"div",15),r.Ub(18,"a",16),r.Ic(19,"My Orders"),r.Tb(),r.Ub(20,"a",17),r.Ic(21,"Manage Products"),r.Tb(),r.Ub(22,"a",18),r.Ic(23,"Manage Orders"),r.Tb(),r.Ub(24,"a",19),r.fc("click",(function(){return e.logout()})),r.Ic(25,"Log Out"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bb(11),r.qc("ngIf",r.lc(12,1,e.cart$)))},directives:[Pg,_a,dt,Fg,Lg,jg,Ng],pipes:[Ot],styles:[".fa[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%]{cursor:pointer}.menu[_ngcontent-%COMP%]{padding-right:100px}.container[_ngcontent-%COMP%]{padding-left:90px}"]}),t})(),IL=(()=>{class t{constructor(t,e,n){this.auth=t,this.userService=n,this.title="firebase-eshop",this.auth.user$.subscribe(t=>{if(!t)return;this.userService.save(t);let n=localStorage.getItem("returnUrl");n&&(localStorage.removeItem("returnUrl"),e.navigateByUrl(n))})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(OM),r.Ob(va),r.Ob(EM))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"starter-template"]],template:function(t,e){1&t&&(r.Pb(0,"navbar"),r.Ub(1,"div",0),r.Pb(2,"router-outlet"),r.Tb())},directives:[TL,Ca],styles:[""]}),t})(),kL=(()=>{class t{constructor(t){this.authService=t}login(){this.authService.login()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(OM))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-login"]],decls:2,vars:0,consts:[[1,"btn","btn-dark",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"button",0),r.fc("click",(function(){return e.login()})),r.Ic(1,"Login with Google"),r.Tb())},styles:[""]}),t})(),xL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[RM,Da.forChild([])]]}),t})();const AL=function(t){return{category:t}};function RL(t,e){if(1&t&&(r.Ub(0,"a",4),r.Ic(1),r.Tb()),2&t){const t=e.$implicit,n=r.jc();r.Gb("active",n.category===t.key),r.qc("queryParams",r.uc(4,AL,t.key)),r.Bb(1),r.Kc(" ",t.name," ")}}let DL=(()=>{class t{constructor(t){this.categoryService=t,this.categories$=this.categoryService.getAll()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(QM))},t.\u0275cmp=r.Ib({type:t,selectors:[["product-filter"]],inputs:{category:"category"},decls:6,vars:5,consts:[[1,"sticky-top"],[1,"list-group"],["routerLink","/",1,"list-group-item","list-group-item-action"],["class","list-group-item list-group-item-action","routerLink","/",3,"queryParams","active",4,"ngFor","ngForOf"],["routerLink","/",1,"list-group-item","list-group-item-action",3,"queryParams"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"a",2),r.Ic(3,"All Categories"),r.Tb(),r.Gc(4,RL,2,6,"a",3),r.kc(5,"async"),r.Tb(),r.Tb()),2&t&&(r.Bb(2),r.Gb("active",!e.category),r.Bb(2),r.qc("ngForOf",r.lc(5,3,e.categories$)))},directives:[_a,lt],pipes:[Ot],styles:[".sticky-top[_ngcontent-%COMP%]{top:80px}"]}),t})(),PL=(()=>{class t{constructor(t){this.cartService=t}addToCart(){this.cartService.addToCart(this.product)}removeFromCart(){this.cartService.removeFromCart(this.product)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(xM))},t.\u0275cmp=r.Ib({type:t,selectors:[["product-quantity"]],inputs:{product:"product",shoppingCart:["shopping-cart","shoppingCart"]},decls:9,vars:1,consts:[[1,"row","no-gutters"],[1,"col-2"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"col","text-center"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"button",2),r.fc("click",(function(){return e.removeFromCart()})),r.Ic(3,"-"),r.Tb(),r.Tb(),r.Ub(4,"div",3),r.Ic(5),r.Tb(),r.Ub(6,"div",1),r.Ub(7,"button",2),r.fc("click",(function(){return e.addToCart()})),r.Ic(8,"+"),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bb(5),r.Kc("",e.shoppingCart.getQuantity(e.product)," in cart"))},styles:[""]}),t})();function NL(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",10),r.fc("click",(function(){return r.Ac(t),r.jc(2).insertInCart()})),r.Ic(1,"Add to Cart"),r.Tb()}}function jL(t,e){if(1&t&&r.Pb(0,"product-quantity",11),2&t){const t=r.jc(2);r.qc("product",t.product)("shopping-cart",t.shoppingCart)}}function ML(t,e){if(1&t&&(r.Ub(0,"div",7),r.Gc(1,NL,2,0,"button",8),r.Gc(2,jL,1,2,"ng-template",null,9,r.Hc),r.Tb()),2&t){const t=r.yc(3),e=r.jc();r.Bb(1),r.qc("ngIf",0===e.shoppingCart.getQuantity(e.product))("ngIfElse",t)}}let LL=(()=>{class t{constructor(t){this.cartService=t,this.showActions=!0}insertInCart(){this.cartService.insertInCart(this.product)}addToCart(){this.cartService.addToCart(this.product)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(xM))},t.\u0275cmp=r.Ib({type:t,selectors:[["product-card"]],inputs:{product:"product",showActions:["show-actions","showActions"],shoppingCart:["shopping-cart","shoppingCart"]},decls:10,vars:8,consts:[[1,"col"],[1,"card",2,"width","20rem"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","card-footer",4,"ngIf"],[1,"card-footer"],["class","btn btn-dark btn-block",3,"click",4,"ngIf","ngIfElse"],["updateQuantity",""],[1,"btn","btn-dark","btn-block",3,"click"],[3,"product","shopping-cart"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Pb(2,"img",2),r.Ub(3,"div",3),r.Ub(4,"h5",4),r.Ic(5),r.Tb(),r.Ub(6,"p",5),r.Ic(7),r.kc(8,"currency"),r.Tb(),r.Tb(),r.Gc(9,ML,4,2,"div",6),r.Tb(),r.Tb()),2&t&&(r.Bb(2),r.qc("src",e.product.imageUrl,r.Bc),r.Bb(3),r.Jc(e.product.title),r.Bb(2),r.Jc(r.nc(8,4,e.product.price,"USD",!0)),r.Bb(2),r.qc("ngIf",e.showActions&&e.shoppingCart))},directives:[dt,PL],pipes:[Tt],styles:[".card[_ngcontent-%COMP%]{margin-bottom:30px}.card-footer[_ngcontent-%COMP%]{padding:0}.card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function FL(t,e){1&t&&r.Pb(0,"div",8)}function UL(t,e){if(1&t&&(r.Sb(0),r.Pb(1,"product-card",6),r.Gc(2,FL,1,0,"div",7),r.Rb()),2&t){const t=e.$implicit,n=e.index,i=r.jc().ngIf;r.Bb(1),r.qc("product",t)("shopping-cart",i),r.Bb(1),r.qc("ngIf",(n+1)%2==0)}}function VL(t,e){if(1&t&&(r.Ub(0,"div",0),r.Gc(1,UL,3,3,"ng-container",5),r.Tb()),2&t){const t=r.jc();r.Bb(1),r.qc("ngForOf",t.filteredProducts)}}let BL=(()=>{class t{constructor(t,e,n){this.route=t,this.productService=e,this.cartService=n}ngOnInit(){return TM(this,void 0,void 0,(function*(){this.cart$=yield this.cartService.getCart(),this.populateProducts()}))}populateProducts(){this.productService.getAll().pipe(Pi(t=>(this.products=t,this.route.queryParamMap))).subscribe(t=>{this.category=t.get("category"),this.applyFilter()})}applyFilter(){this.filteredProducts=this.category?this.products.filter(t=>t.category===this.category):this.products}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(rs),r.Ob(jM),r.Ob(xM))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-products"]],decls:6,vars:4,consts:[[1,"row"],[1,"col-3"],[3,"category"],[1,"col-9"],["class","row",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"product","shopping-cart"],["class","w-100",4,"ngIf"],[1,"w-100"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Pb(2,"product-filter",2),r.Tb(),r.Ub(3,"div",3),r.Gc(4,VL,2,1,"div",4),r.kc(5,"async"),r.Tb(),r.Tb()),2&t&&(r.Bb(2),r.qc("category",e.category),r.Bb(2),r.qc("ngIf",r.lc(5,2,e.cart$)))},directives:[DL,dt,lt,LL],pipes:[Ot],styles:[".card-img-top[_ngcontent-%COMP%]{height:15rem}"]}),t})();class qL{constructor(t,e,n){this.userId=t,this.shipping=e,this.items=[],this.datePlaced=(new Date).getTime(),this.items=n.items.map(t=>({product:{title:t.title,imageUrl:t.imageUrl,price:t.price},quantity:t.quantity,totalPrice:t.totalPrice})),this.orderPrice=n.totalPrice}get totalPrice(){let t=0;for(let e in this.items)t+=this.items[e].totalPrice;return t}}class HL{}function zL(t,e){1&t&&(r.Ub(0,"div"),r.Ic(1,"Name is required."),r.Tb())}function KL(t,e){if(1&t&&(r.Ub(0,"div",13),r.Gc(1,zL,2,0,"div",14),r.Tb()),2&t){r.jc();const t=r.yc(6);r.Bb(1),r.qc("ngIf",t.errors.required)}}function GL(t,e){1&t&&(r.Ub(0,"div"),r.Ic(1,"Address Line 1 is required."),r.Tb())}function WL(t,e){if(1&t&&(r.Ub(0,"div",13),r.Gc(1,GL,2,0,"div",14),r.Tb()),2&t){r.jc();const t=r.yc(12);r.Bb(1),r.qc("ngIf",t.errors.required)}}function $L(t,e){1&t&&(r.Ub(0,"div"),r.Ic(1,"Address Line 2 is required."),r.Tb())}function QL(t,e){if(1&t&&(r.Ub(0,"div",13),r.Gc(1,$L,2,0,"div",14),r.Tb()),2&t){r.jc();const t=r.yc(17);r.Bb(1),r.qc("ngIf",t.errors.required)}}function YL(t,e){1&t&&(r.Ub(0,"div"),r.Ic(1,"City is required."),r.Tb())}function JL(t,e){if(1&t&&(r.Ub(0,"div",13),r.Gc(1,YL,2,0,"div",14),r.Tb()),2&t){r.jc();const t=r.yc(23);r.Bb(1),r.qc("ngIf",t.errors.required)}}let XL=(()=>{class t{constructor(t,e,n){this.router=t,this.auth=e,this.orderService=n,this.shipping=new HL}placeOrder(){return TM(this,void 0,void 0,(function*(){let t=new qL(this.userId,this.shipping,this.cart),e=yield this.orderService.placeOrder(t);this.router.navigate(["/order-success/",e.key])}))}ngOnInit(){this.userSubscription=this.auth.user$.subscribe(t=>this.userId=t.uid)}ngOnDestroy(){this.userSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(va),r.Ob(OM),r.Ob(AM))},t.\u0275cmp=r.Ib({type:t,selectors:[["shipping-form"]],inputs:{cart:"cart"},decls:27,vars:9,consts:[["f","ngForm"],[1,"form-group"],["for",""],["name","name","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],["name","addressLine1","type","text","placeholder","Line 1","required","",1,"form-control",3,"ngModel","ngModelChange"],["addressLine1","ngModel"],["name","addressLine2","type","text","placeholder","Line 2","required","",1,"form-control",3,"ngModel","ngModelChange"],["addressLine2","ngModel"],["name","city","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["city","ngModel"],[1,"btn","btn-primary",3,"disabled","click"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(t,e){if(1&t&&(r.Ub(0,"form",null,0),r.Ub(2,"div",1),r.Ub(3,"label",2),r.Ic(4,"Name"),r.Tb(),r.Ub(5,"input",3,4),r.fc("ngModelChange",(function(t){return e.shipping.name=t})),r.Tb(),r.Gc(7,KL,2,1,"div",5),r.Tb(),r.Ub(8,"div",1),r.Ub(9,"label",2),r.Ic(10,"Address"),r.Tb(),r.Ub(11,"input",6,7),r.fc("ngModelChange",(function(t){return e.shipping.addressLine1=t})),r.Tb(),r.Gc(13,WL,2,1,"div",5),r.Tb(),r.Ub(14,"div",1),r.Pb(15,"label",2),r.Ub(16,"input",8,9),r.fc("ngModelChange",(function(t){return e.shipping.addressLine2=t})),r.Tb(),r.Gc(18,QL,2,1,"div",5),r.Tb(),r.Ub(19,"div",1),r.Ub(20,"label",2),r.Ic(21,"City"),r.Tb(),r.Ub(22,"input",10,11),r.fc("ngModelChange",(function(t){return e.shipping.city=t})),r.Tb(),r.Gc(24,JL,2,1,"div",5),r.Tb(),r.Ub(25,"button",12),r.fc("click",(function(){return e.placeOrder()})),r.Ic(26,"Place Order"),r.Tb(),r.Tb()),2&t){const t=r.yc(1),n=r.yc(6),i=r.yc(12),o=r.yc(17),s=r.yc(23);r.Bb(5),r.qc("ngModel",e.shipping.name),r.Bb(2),r.qc("ngIf",n.touched&&n.invalid),r.Bb(4),r.qc("ngModel",e.shipping.addressLine1),r.Bb(2),r.qc("ngIf",i.touched&&i.invalid),r.Bb(3),r.qc("ngModel",e.shipping.addressLine2),r.Bb(2),r.qc("ngIf",o.touched&&o.invalid),r.Bb(4),r.qc("ngModel",e.shipping.city),r.Bb(2),r.qc("ngIf",s.touched&&s.invalid),r.Bb(1),r.qc("disabled",!t.valid)}},directives:[$u,Kc,zu,Fc,nl,zc,Wu,dt],styles:[""]}),t})();function ZL(t,e){if(1&t&&(r.Ub(0,"li",8),r.Ic(1),r.Ub(2,"div",7),r.Ic(3),r.kc(4,"currency"),r.Tb(),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.Lc(" ",t.quantity," x ",t.title," "),r.Bb(2),r.Kc(" ",r.nc(4,3,t.totalPrice,"USD",!0)," ")}}let tF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["shopping-cart-summary"]],inputs:{cart:"cart"},decls:13,vars:7,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item","font-weight-bold"],[1,"float-right"],[1,"list-group-item"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"h5",2),r.Ic(3,"Order Summary"),r.Tb(),r.Ub(4,"p",3),r.Ic(5),r.Tb(),r.Ub(6,"ul",4),r.Gc(7,ZL,5,7,"li",5),r.Ub(8,"li",6),r.Ic(9," Total "),r.Ub(10,"div",7),r.Ic(11),r.kc(12,"currency"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bb(5),r.Kc("You have ",e.cart.totalItemCount," items in your cart "),r.Bb(2),r.qc("ngForOf",e.cart.items),r.Bb(4),r.Kc(" ",r.nc(12,3,e.cart.totalPrice,"USD",!0)," "))},directives:[lt],pipes:[Tt],styles:[""]}),t})();function eF(t,e){if(1&t&&(r.Ub(0,"div",1),r.Ub(1,"div",2),r.Pb(2,"shipping-form",3),r.Tb(),r.Ub(3,"div",2),r.Pb(4,"shopping-cart-summary",3),r.Tb(),r.Tb()),2&t){const t=e.ngIf;r.Bb(2),r.qc("cart",t),r.Bb(2),r.qc("cart",t)}}let nF=(()=>{class t{constructor(t){this.shoppinCartService=t}ngOnInit(){return TM(this,void 0,void 0,(function*(){this.cart$=yield this.shoppinCartService.getCart()}))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(xM))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-check-out"]],decls:4,vars:3,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-6"],[3,"cart"]],template:function(t,e){1&t&&(r.Ub(0,"h2"),r.Ic(1,"Shipping"),r.Tb(),r.Gc(2,eF,5,2,"div",0),r.kc(3,"async")),2&t&&(r.Bb(2),r.qc("ngIf",r.lc(3,1,e.cart$)))},directives:[dt,XL,tF],pipes:[Ot],styles:[""]}),t})();const rF=function(t){return["/order-details/",t]};function iF(t,e){if(1&t&&(r.Ub(0,"tr"),r.Ub(1,"td"),r.Ic(2),r.Tb(),r.Ub(3,"td"),r.Ic(4),r.kc(5,"date"),r.Tb(),r.Ub(6,"td"),r.Ub(7,"a",3),r.Ic(8,"Details"),r.Tb(),r.Tb(),r.Tb()),2&t){const t=e.$implicit,n=r.jc();r.Bb(2),r.Jc(t.shipping.name),r.Bb(2),r.Jc(r.mc(5,3,t.datePlaced,n.mediumDate)),r.Bb(3),r.qc("routerLink",r.uc(6,rF,t.key))}}let oF=(()=>{class t{constructor(t,e){this.auth=t,this.orderService=e,this.orders$=this.auth.user$.pipe(Pi(t=>e.getOrderByUser(t.uid)))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(OM),r.Ob(AM))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-my-orders"]],decls:11,vars:3,consts:[[1,"table"],[1,"font-weight-bold"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,e){1&t&&(r.Ub(0,"table",0),r.Ub(1,"thead"),r.Ub(2,"tr",1),r.Ub(3,"td"),r.Ic(4,"Name"),r.Tb(),r.Ub(5,"td"),r.Ic(6,"Date"),r.Tb(),r.Pb(7,"td"),r.Tb(),r.Tb(),r.Ub(8,"tbody"),r.Gc(9,iF,9,8,"tr",2),r.kc(10,"async"),r.Tb(),r.Tb()),2&t&&(r.Bb(9),r.qc("ngForOf",r.lc(10,1,e.orders$)))},directives:[lt,_a],pipes:[Ot,St],styles:[""]}),t})(),sF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-order-success"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Ub(0,"p"),r.Ic(1,"order-success works!"),r.Tb())},styles:[""]}),t})();function aF(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",9),r.fc("click",(function(){return r.Ac(t),r.jc(2).clearCart()})),r.Ic(1,"Clear Shopping Cart"),r.Tb()}}function cF(t,e){if(1&t&&(r.Ub(0,"tr"),r.Ub(1,"td"),r.Pb(2,"div",10),r.Tb(),r.Ub(3,"td"),r.Ic(4),r.Tb(),r.Ub(5,"td"),r.Pb(6,"product-quantity",11),r.Tb(),r.Ub(7,"td",7),r.Ic(8),r.kc(9,"currency"),r.Tb(),r.Tb()),2&t){const t=e.$implicit,n=r.jc().ngIf;r.Bb(2),r.Fc("background-image","url("+t.imageUrl+")"),r.Bb(2),r.Jc(t.title),r.Bb(2),r.qc("product",t)("shopping-cart",n),r.Bb(2),r.Jc(r.nc(9,6,t.totalPrice,"USD",!0))}}function uF(t,e){1&t&&(r.Ub(0,"a",12),r.Ic(1,"Check Out"),r.Tb())}function lF(t,e){if(1&t&&(r.Ub(0,"div",1),r.Ub(1,"p"),r.Ic(2),r.Gc(3,aF,2,0,"button",2),r.Tb(),r.Ub(4,"table",3),r.Ub(5,"thead"),r.Ub(6,"tr"),r.Pb(7,"th"),r.Ub(8,"th"),r.Ic(9,"Product"),r.Tb(),r.Ub(10,"th",4),r.Ic(11,"Quantity"),r.Tb(),r.Ub(12,"th",5),r.Ic(13,"Price"),r.Tb(),r.Tb(),r.Tb(),r.Ub(14,"tbody"),r.Gc(15,cF,10,10,"tr",6),r.Tb(),r.Ub(16,"tfoot"),r.Ub(17,"tr"),r.Pb(18,"th"),r.Pb(19,"th"),r.Pb(20,"th"),r.Ub(21,"th",7),r.Ic(22),r.kc(23,"currency"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Gc(24,uF,2,0,"a",8),r.Tb()),2&t){const t=e.ngIf;r.Bb(2),r.Kc("You have ",t.totalItemCount," items in your shopping cart "),r.Bb(1),r.qc("ngIf",t.items.length),r.Bb(12),r.qc("ngForOf",t.items),r.Bb(7),r.Jc(r.mc(23,5,t.totalPrice,"USD")),r.Bb(2),r.qc("ngIf",t.items.length)}}let hF=(()=>{class t{constructor(t){this.shoppingCartService=t}ngOnInit(){return TM(this,void 0,void 0,(function*(){this.cart$=yield this.shoppingCartService.getCart()}))}clearCart(){this.shoppingCartService.clearCart()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(xM))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-shopping-cart"]],decls:4,vars:3,consts:[["class","row col-10",4,"ngIf"],[1,"row","col-10"],["class","btn btn-light btn-sm",3,"click",4,"ngIf"],[1,"table"],[1,"text-center",2,"width","230px"],[1,"text-right",2,"width","200px"],[4,"ngFor","ngForOf"],[1,"text-right"],["class","btn btn-primary","routerLink","/check-out",4,"ngIf"],[1,"btn","btn-light","btn-sm",3,"click"],[1,"thumbnail"],[3,"product","shopping-cart"],["routerLink","/check-out",1,"btn","btn-primary"]],template:function(t,e){1&t&&(r.Ub(0,"h1"),r.Ic(1,"Shopping Cart"),r.Tb(),r.Gc(2,lF,25,8,"div",0),r.kc(3,"async")),2&t&&(r.Bb(2),r.qc("ngIf",r.lc(3,1,e.cart$)))},directives:[dt,lt,PL,_a],pipes:[Ot,Tt],styles:[".thumbnail[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:100%;background-size:cover}"]}),t})(),dF=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[RM,Da.forChild([{path:"products",component:BL},{path:"shopping-cart",component:hF},{path:"check-out",component:nF},{path:"order-success/:id",component:sF},{path:"my-orders",component:oF}])]]}),t})(),fF=(()=>{class t{}return t.\u0275mod=r.Mb({type:t,bootstrap:[IL]}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[oe,CL,RM,dF,xL,o.a.initializeApp(i),OL,Da.forRoot([{path:"",component:BL},{path:"login",component:kL}]),Gr]]}),t})();Object(r.U)(),re().bootstrapModule(fF).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);